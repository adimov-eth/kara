// Auto-generated by packages/ui/scripts/inline.js
// Do not edit directly

export const ADMIN_HTML = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet" />
  <title>Karaoke Admin</title>
  <style>*{margin:0;padding:0;box-sizing:border-box}*{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}*::-webkit-scrollbar{width:6px;height:6px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}*::-webkit-scrollbar-thumb:hover{background:#ffffff4d}*::-webkit-scrollbar-corner{background:transparent}:root{--bg-deep: #0a0a0f;--bg-card: #12121a;--accent: #ff6b9d;--accent-glow: rgba(255, 107, 157, .4);--cyan: #4ecdc4;--cyan-glow: rgba(78, 205, 196, .3);--text: #f0f0f5;--text-muted: #6b6b80;--success: #7bed9f;--warning: #ffa502}html,body{font-family:Outfit,sans-serif;background:var(--bg-deep);color:var(--text);min-height:100vh;min-height:100dvh}body:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 20% 20%,rgba(255,107,157,.08) 0%,transparent 50%),radial-gradient(ellipse at 80% 80%,rgba(78,205,196,.08) 0%,transparent 50%);pointer-events:none;z-index:0}.container{max-width:480px;margin:0 auto;padding:24px 16px;position:relative;z-index:1}.btn{background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);color:#fff;border:none;border-radius:14px;padding:16px 28px;font-size:1rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease;white-space:nowrap;width:100%}.btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px var(--accent-glow)}.btn:active{transform:translateY(0)}.btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-cyan{background:linear-gradient(135deg,var(--cyan) 0%,#45b7aa 100%)}.btn-cyan:hover{box-shadow:0 8px 24px var(--cyan-glow)}.btn-warning{background:linear-gradient(135deg,var(--warning) 0%,#ffb347 100%)}input[type=text],input[type=password]{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:16px 20px;font-size:1rem;font-family:inherit;color:var(--text);outline:none;transition:all .2s ease}input[type=text]:focus,input[type=password]:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input[type=text]::placeholder,input[type=password]::placeholder{color:var(--text-muted)}input[type=text]:disabled,input[type=password]:disabled{opacity:.5;cursor:not-allowed}.card{background:var(--bg-card);border-radius:20px;padding:24px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.spinner{width:32px;height:32px;border:3px solid rgba(255,255,255,.1);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@keyframes slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-8px)}75%{transform:translate(8px)}}@keyframes modalIn{0%{opacity:0;transform:scale(.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}

.landing.svelte-1uha8ag{max-width:400px;padding-top:60px}header.svelte-1uha8ag{text-align:center;margin-bottom:40px}h1.svelte-1uha8ag{font-size:3rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin-bottom:12px}.subtitle.svelte-1uha8ag{color:var(--text-muted);font-size:1rem;font-weight:300}.card.svelte-1uha8ag{background:var(--bg-card);border-radius:24px;padding:32px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.input-group.svelte-1uha8ag{margin-bottom:20px}.input-label.svelte-1uha8ag{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.btn-secondary.svelte-1uha8ag{background:transparent;border:2px solid rgba(255,255,255,.2);margin-top:12px}.btn-secondary.svelte-1uha8ag:hover{background:#ffffff0d;border-color:#ffffff4d}.error-msg.svelte-1uha8ag{color:var(--warning);font-size:.85rem;margin-top:16px;text-align:center}.not-found-msg.svelte-1uha8ag,.create-msg.svelte-1uha8ag{text-align:center;margin-bottom:24px;color:var(--text-muted)}.not-found-msg.svelte-1uha8ag strong:where(.svelte-1uha8ag),.create-msg.svelte-1uha8ag strong:where(.svelte-1uha8ag){color:var(--cyan)}.recent.svelte-1uha8ag{margin-top:32px;padding-top:24px;border-top:1px solid rgba(255,255,255,.1)}.recent-label.svelte-1uha8ag{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:12px}.recent-list.svelte-1uha8ag{display:flex;flex-wrap:wrap;gap:8px}.recent-btn.svelte-1uha8ag{background:#4ecdc41a;border:1px solid rgba(78,205,196,.3);color:var(--cyan);padding:8px 16px;border-radius:20px;font-size:.85rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.recent-btn.svelte-1uha8ag:hover{background:#4ecdc433;border-color:var(--cyan)}.active-rooms.svelte-1uha8ag{margin-top:32px;padding:24px;background:var(--bg-card);border-radius:16px;border:1px solid rgba(255,255,255,.05)}.active-rooms-header.svelte-1uha8ag{display:flex;align-items:center;gap:8px;margin-bottom:16px}.pulse-dot.svelte-1uha8ag{width:8px;height:8px;background:var(--success);border-radius:50%;animation:svelte-1uha8ag-pulse 2s ease-in-out infinite}@keyframes svelte-1uha8ag-pulse{0%,to{opacity:1}50%{opacity:.4}}.active-label.svelte-1uha8ag{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em}.active-loading.svelte-1uha8ag{color:var(--text-muted);font-size:.85rem;text-align:center;padding:12px}.active-list.svelte-1uha8ag{display:flex;flex-direction:column;gap:8px}.active-room-btn.svelte-1uha8ag{display:flex;flex-direction:column;align-items:flex-start;gap:4px;background:#ffffff08;border:1px solid rgba(255,255,255,.08);color:var(--text);padding:12px 16px;border-radius:12px;font-family:inherit;cursor:pointer;transition:all .2s ease;text-align:left;width:100%}.active-room-btn.svelte-1uha8ag:hover{background:#ffffff0f;border-color:#4ecdc44d}.room-name.svelte-1uha8ag{font-weight:600;font-size:1rem;color:var(--cyan)}.room-meta.svelte-1uha8ag{display:flex;flex-wrap:wrap;gap:8px;font-size:.75rem;color:var(--text-muted)}.queue-count.svelte-1uha8ag{background:#4ecdc426;padding:2px 8px;border-radius:8px;color:var(--cyan)}.now-playing.svelte-1uha8ag{opacity:.7;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.last-active.svelte-1uha8ag{opacity:.5}

.admin-container.svelte-ghvl9i{max-width:600px}.loading.svelte-ghvl9i{text-align:center;padding:60px 20px;color:var(--text-muted)}header.svelte-ghvl9i{text-align:center;margin-bottom:32px;position:relative}h1.svelte-ghvl9i{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--warning) 0%,var(--accent) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin-bottom:8px}.subtitle.svelte-ghvl9i{color:var(--text-muted);font-size:.95rem;font-weight:300}.logout-btn.svelte-ghvl9i{position:absolute;top:0;right:0;background:transparent;border:1px solid rgba(255,255,255,.2);color:var(--text-muted);padding:6px 12px;border-radius:8px;font-size:.8rem;font-family:inherit;cursor:pointer;transition:all .2s}.logout-btn.svelte-ghvl9i:hover{border-color:var(--accent);color:var(--accent)}.mode-card.svelte-ghvl9i{display:flex;align-items:center;justify-content:space-between;background:var(--bg-card);border-radius:16px;padding:16px 20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.mode-info.svelte-ghvl9i{display:flex;align-items:center;gap:12px}.mode-label.svelte-ghvl9i{font-size:.85rem;color:var(--text-muted)}.mode-badge.svelte-ghvl9i{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:600}.mode-badge.jukebox.svelte-ghvl9i{background:#4ecdc433;color:var(--cyan);border:1px solid rgba(78,205,196,.3)}.mode-badge.karaoke.svelte-ghvl9i{background:#ff6b9d33;color:var(--accent);border:1px solid rgba(255,107,157,.3)}.btn-mode.svelte-ghvl9i{padding:8px 16px;font-size:.85rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.2);color:var(--text);width:auto}.btn-mode.svelte-ghvl9i:hover:not(:disabled){background:#ffffff1a;border-color:#ffffff4d}.btn-mode.svelte-ghvl9i:disabled{opacity:.5;cursor:not-allowed}.login-card.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:32px;border:1px solid rgba(255,255,255,.05)}.input-group.svelte-ghvl9i{margin-bottom:20px}.input-label.svelte-ghvl9i{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.error-msg.svelte-ghvl9i{color:var(--warning);font-size:.85rem;margin-top:16px;text-align:center}.now-playing-card.svelte-ghvl9i{background:linear-gradient(135deg,#ff6b9d26,#4ecdc41a);border:1px solid rgba(255,107,157,.3);border-radius:20px;padding:20px;margin-bottom:24px}.now-playing-header.svelte-ghvl9i{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.now-playing-label.svelte-ghvl9i{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em}.epoch-badge.svelte-ghvl9i{font-size:.8rem;color:var(--text-muted)}.now-playing-info.svelte-ghvl9i{margin-bottom:16px}.now-playing-title.svelte-ghvl9i{font-size:1.1rem;font-weight:600;margin-bottom:4px}.now-playing-singer.svelte-ghvl9i{color:var(--text-muted);font-size:.9rem}.now-playing-controls.svelte-ghvl9i{display:flex;gap:12px}.now-playing-empty.svelte-ghvl9i{text-align:center;color:var(--text-muted);font-style:italic;padding:20px}.add-card.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.add-header.svelte-ghvl9i{font-size:1rem;font-weight:600;margin-bottom:16px}.add-form.svelte-ghvl9i{display:flex;flex-direction:column;gap:12px}.search-row.svelte-ghvl9i{display:flex;gap:12px}.search-btn.svelte-ghvl9i,.lookup-btn.svelte-ghvl9i{flex-shrink:0;width:auto;padding:12px 16px}.add-buttons.svelte-ghvl9i{display:flex;gap:12px}.add-buttons.svelte-ghvl9i .btn:where(.svelte-ghvl9i){flex:1}.search-results.svelte-ghvl9i{max-height:300px;overflow-y:auto}.search-result.svelte-ghvl9i{display:flex;gap:10px;padding:10px;background:#ffffff08;border:2px solid transparent;border-radius:10px;cursor:pointer;margin-bottom:8px;transition:all .2s ease;width:100%;text-align:left;font-family:inherit;color:inherit}.search-result.svelte-ghvl9i:hover{background:#ffffff0f;border-color:#ffffff1a}.search-result.selected.svelte-ghvl9i{background:#4ecdc426;border-color:var(--cyan)}.result-thumb.svelte-ghvl9i{width:64px;height:36px;border-radius:4px;object-fit:cover;flex-shrink:0}.result-info.svelte-ghvl9i{flex:1;min-width:0}.result-title.svelte-ghvl9i{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.result-meta.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted)}.searching.svelte-ghvl9i{text-align:center;padding:20px;color:var(--text-muted)}.queue-section.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.section-header.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-title.svelte-ghvl9i{font-size:1rem;font-weight:600}.queue-count.svelte-ghvl9i{background:#ffffff1a;padding:4px 12px;border-radius:16px;font-size:.8rem;color:var(--text-muted)}.queue-list.svelte-ghvl9i{list-style:none}.queue-item.svelte-ghvl9i{display:flex;align-items:center;padding:12px;border-radius:12px;margin-bottom:8px;background:#ffffff08;transition:all .2s ease}.queue-item.svelte-ghvl9i:hover{background:#ffffff0f}.position.svelte-ghvl9i{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.85rem;margin-right:12px;background:#ffffff1a;color:var(--text-muted)}.queue-info.svelte-ghvl9i{flex:1;min-width:0}.queue-song.svelte-ghvl9i{font-weight:500;font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.queue-meta.svelte-ghvl9i{font-size:.8rem;color:var(--text-muted);display:flex;gap:12px}.queue-actions.svelte-ghvl9i{display:flex;gap:4px;margin-left:8px}.action-btn.svelte-ghvl9i{background:none;border:none;width:32px;height:32px;border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;color:var(--text-muted);font-size:1rem}.action-btn.svelte-ghvl9i:hover{background:#ffffff1a;color:var(--text)}.action-btn.danger.svelte-ghvl9i:hover{background:#ff6b9d33;color:var(--accent)}.empty-state.svelte-ghvl9i{text-align:center;padding:40px 20px;color:var(--text-muted)}.history-section.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.history-header.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;cursor:pointer;width:100%;background:none;border:none;color:inherit;font-family:inherit;padding:0}.history-toggle.svelte-ghvl9i{color:var(--text-muted);font-size:1.2rem;transition:transform .2s}.history-toggle.expanded.svelte-ghvl9i{transform:rotate(180deg)}.history-content.svelte-ghvl9i{margin-top:16px}.history-tabs.svelte-ghvl9i{display:flex;gap:8px;margin-bottom:16px}.history-tab.svelte-ghvl9i{padding:8px 16px;border-radius:8px;background:#ffffff0d;border:none;color:var(--text-muted);cursor:pointer;font-family:inherit;font-size:.85rem;transition:all .2s}.history-tab.svelte-ghvl9i:hover{background:#ffffff1a}.history-tab.active.svelte-ghvl9i{background:#4ecdc433;color:var(--cyan)}.lookup-row.svelte-ghvl9i{display:flex;gap:12px;margin-bottom:16px}.stats-row.svelte-ghvl9i{display:flex;gap:16px;margin-bottom:16px;flex-wrap:wrap}.stat-badge.svelte-ghvl9i{background:#ffffff0d;padding:8px 12px;border-radius:8px;font-size:.8rem}.stat-badge.svelte-ghvl9i strong:where(.svelte-ghvl9i){color:var(--cyan)}.claimed-badge.svelte-ghvl9i{display:inline-block;background:#7bed9f33;color:var(--success);padding:2px 8px;border-radius:4px;font-size:.7rem;font-weight:600;text-transform:uppercase}.history-item.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#ffffff08;border-radius:8px;margin-bottom:8px}.history-item-title.svelte-ghvl9i{font-size:.9rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.history-item-meta.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted);margin-left:12px;white-space:nowrap}.popular-item.svelte-ghvl9i{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#ffffff08;border-radius:8px;margin-bottom:8px}.popular-rank.svelte-ghvl9i{width:24px;height:24px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600;background:#ffffff1a;color:var(--text-muted)}.popular-rank.top.svelte-ghvl9i{background:#ffa5024d;color:var(--warning)}.popular-info.svelte-ghvl9i{flex:1;min-width:0}.popular-title.svelte-ghvl9i{font-size:.9rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.popular-stats.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted)}

.popular-section.svelte-m2a9xz{margin-top:24px;margin-bottom:16px}.popular-title.svelte-m2a9xz{font-size:.85rem;color:var(--text-muted);margin-bottom:12px;font-weight:500}.popular-grid.svelte-m2a9xz{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}.popular-item.svelte-m2a9xz{display:flex;flex-direction:column;padding:0;background:#ffffff08;border:2px solid transparent;border-radius:12px;cursor:pointer;transition:all .2s ease;text-align:left;color:inherit;font-family:inherit;overflow:hidden}.popular-item.svelte-m2a9xz:hover{background:#ffffff0f;border-color:#ffffff1a;transform:translateY(-2px)}.popular-thumb-wrapper.svelte-m2a9xz{position:relative;width:100%;aspect-ratio:16 / 9}.popular-thumb.svelte-m2a9xz{width:100%;height:100%;object-fit:cover;background:#0000004d}.play-count.svelte-m2a9xz{position:absolute;bottom:6px;right:6px;background:#4ecdc4e6;color:#000;font-size:.7rem;font-weight:600;padding:2px 6px;border-radius:4px}.popular-info.svelte-m2a9xz{padding:10px}.popular-song-title.svelte-m2a9xz{font-size:.8rem;font-weight:500;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}@media(max-width:480px){.popular-grid.svelte-m2a9xz{grid-template-columns:repeat(2,1fr);gap:8px}.popular-info.svelte-m2a9xz{padding:8px}.popular-song-title.svelte-m2a9xz{font-size:.75rem}}.overlay.svelte-4vowdw{position:fixed;top:0;right:0;bottom:0;left:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:20px;animation:svelte-4vowdw-fadeIn .2s ease}.modal.svelte-4vowdw{background:var(--bg-card);border-radius:24px;padding:32px;max-width:480px;width:100%;max-height:85vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #00000080;animation:svelte-4vowdw-slideUp .3s ease}.close-btn.svelte-4vowdw{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:50%;background:#ffffff1a;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;line-height:1}.close-btn.svelte-4vowdw:hover{background:#fff3;color:var(--text)}h2.svelte-4vowdw{font-size:1.5rem;font-weight:700;margin-bottom:20px;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.category-row.svelte-4vowdw{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}.category-btn.svelte-4vowdw{display:flex;align-items:center;gap:6px;padding:8px 14px;background:#ffffff0d;border:2px solid transparent;border-radius:20px;color:var(--text-muted);font-size:.9rem;cursor:pointer;transition:all .2s ease}.category-btn.svelte-4vowdw:hover{background:#ffffff1a}.category-btn.selected.svelte-4vowdw{border-color:var(--cyan);color:var(--text);background:#00d4ff1a}.cat-icon.svelte-4vowdw{font-size:1rem;font-weight:700}textarea.svelte-4vowdw{width:100%;min-height:120px;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:14px 18px;font-size:1rem;font-family:inherit;color:var(--text);resize:vertical;outline:none;margin-bottom:12px}textarea.svelte-4vowdw:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input[type=text].svelte-4vowdw{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:14px 18px;font-size:1rem;font-family:inherit;color:var(--text);outline:none;margin-bottom:16px}input[type=text].svelte-4vowdw:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input.svelte-4vowdw::placeholder,textarea.svelte-4vowdw::placeholder{color:var(--text-muted)}.error-msg.svelte-4vowdw{color:var(--warning);font-size:.9rem;text-align:center;margin-bottom:12px}.btn.svelte-4vowdw{width:100%;padding:14px 20px;border-radius:14px;font-size:1rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;color:#fff}.btn.svelte-4vowdw:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 20px var(--accent-glow)}.btn.svelte-4vowdw:disabled{opacity:.5;cursor:not-allowed}@keyframes svelte-4vowdw-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-4vowdw-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.help-btn.svelte-8t29c9{position:fixed;bottom:24px;right:24px;width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;color:#fff;font-size:1.5rem;font-weight:700;cursor:pointer;box-shadow:0 4px 20px var(--accent-glow);transition:all .2s ease;z-index:100;display:flex;align-items:center;justify-content:center}.help-btn.svelte-8t29c9:hover{transform:scale(1.1);box-shadow:0 6px 28px var(--accent-glow)}.help-btn.svelte-8t29c9:active{transform:scale(.95)}.overlay.svelte-8t29c9{position:fixed;top:0;right:0;bottom:0;left:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:20px;animation:svelte-8t29c9-fadeIn .2s ease}.modal.svelte-8t29c9{background:var(--bg-card);border-radius:24px;padding:32px;max-width:420px;width:100%;max-height:85vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #00000080;animation:svelte-8t29c9-slideUp .3s ease}.close-btn.svelte-8t29c9{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:50%;background:#ffffff1a;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;line-height:1}.close-btn.svelte-8t29c9:hover{background:#fff3;color:var(--text)}h2.svelte-8t29c9{font-size:1.5rem;font-weight:700;margin-bottom:24px;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}h3.svelte-8t29c9{font-size:1rem;font-weight:600;margin-bottom:8px;color:var(--cyan)}.steps.svelte-8t29c9{display:flex;flex-direction:column;gap:16px}.step.svelte-8t29c9{display:flex;gap:16px;align-items:flex-start}.step-num.svelte-8t29c9{width:28px;height:28px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);color:#fff;font-weight:700;font-size:.9rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.step-content.svelte-8t29c9{flex:1}.step-content.svelte-8t29c9 strong:where(.svelte-8t29c9){display:block;margin-bottom:2px}.step-content.svelte-8t29c9 p:where(.svelte-8t29c9){color:var(--text-muted);font-size:.9rem;margin:0}.divider.svelte-8t29c9{height:1px;background:#ffffff1a;margin:20px 0}.info.svelte-8t29c9{color:var(--text-muted);font-size:.9rem;line-height:1.5;margin:0}.feedback-link.svelte-8t29c9{display:block;width:100%;text-align:center;padding:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;color:var(--text-muted);font-size:.9rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.feedback-link.svelte-8t29c9:hover{background:#ffffff1a;color:var(--text);border-color:#fff3}@keyframes svelte-8t29c9-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-8t29c9-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-container.svelte-r761lh{position:relative}.loading-skeleton.svelte-r761lh{width:120px;height:40px;border-radius:20px;background:linear-gradient(90deg,#ffffff0d 25%,#ffffff1a,#ffffff0d 75%);background-size:200% 100%;animation:svelte-r761lh-shimmer 1.5s infinite}@keyframes svelte-r761lh-shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.user-button.svelte-r761lh{display:flex;align-items:center;gap:10px;padding:6px 14px 6px 6px;background:var(--bg-card);border:1px solid rgba(255,255,255,.1);border-radius:25px;cursor:pointer;transition:all .2s ease;font-family:inherit;color:var(--text)}.user-button.svelte-r761lh:hover{background:#ffffff1a;border-color:#fff3}.avatar.svelte-r761lh{width:32px;height:32px;border-radius:50%;object-fit:cover}.avatar-placeholder.svelte-r761lh{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;color:#fff}.display-name.svelte-r761lh{font-size:.9rem;font-weight:500;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-arrow.svelte-r761lh{font-size:.6rem;color:var(--text-muted)}.dropdown-menu.svelte-r761lh{position:absolute;top:calc(100% + 8px);right:0;background:var(--bg-card);border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:8px;min-width:200px;box-shadow:0 8px 32px #0006;z-index:100;animation:svelte-r761lh-fadeIn .15s ease}@keyframes svelte-r761lh-fadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.menu-header.svelte-r761lh{padding:12px;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:8px}.provider-badge.svelte-r761lh{display:inline-block;padding:2px 8px;background:#ffffff1a;border-radius:8px;font-size:.75rem;color:var(--text-muted);margin-bottom:4px}.email.svelte-r761lh{display:block;font-size:.8rem;color:var(--text-muted);overflow:hidden;text-overflow:ellipsis}.menu-item.svelte-r761lh{display:flex;align-items:center;gap:10px;width:100%;padding:12px;background:none;border:none;border-radius:10px;color:var(--text);font-size:.9rem;font-family:inherit;cursor:pointer;transition:background .15s ease;text-align:left}.menu-item.svelte-r761lh:hover{background:#ffffff1a}.menu-item.logout.svelte-r761lh{color:#ff6b6b}.login-options.svelte-r761lh{display:flex;gap:10px;align-items:center}.name-input-container.svelte-r761lh{display:flex;gap:8px;align-items:center}.name-input.svelte-r761lh{padding:10px 16px;background:var(--bg-card);border:1px solid rgba(255,255,255,.15);border-radius:20px;color:var(--text);font-size:.9rem;font-family:inherit;width:150px;transition:all .2s ease}.name-input.svelte-r761lh:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}.go-btn.svelte-r761lh{padding:10px 18px;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;border-radius:20px;color:#fff;font-weight:600;font-size:.9rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.go-btn.svelte-r761lh:hover{transform:scale(1.05);box-shadow:0 4px 16px var(--accent-glow)}.login-btn.svelte-r761lh{display:flex;align-items:center;gap:8px;padding:10px 18px;border:none;border-radius:20px;font-size:.9rem;font-weight:500;font-family:inherit;cursor:pointer;transition:all .2s ease}.login-btn.google.svelte-r761lh{background:#fff;color:#333}.login-btn.google.svelte-r761lh:hover{background:#f5f5f5;box-shadow:0 4px 16px #0003}.login-btn.guest.svelte-r761lh{background:transparent;border:1px solid rgba(255,255,255,.2);color:var(--text-muted)}.login-btn.guest.svelte-r761lh:hover{background:#ffffff0d;border-color:#ffffff4d;color:var(--text)}.google-icon.svelte-r761lh{width:18px;height:18px}@media(max-width:480px){.login-options.svelte-r761lh{flex-direction:column;width:100%}.login-btn.svelte-r761lh{width:100%;justify-content:center}.name-input-container.svelte-r761lh{width:100%}.name-input.svelte-r761lh{flex:1}}.my-stack.svelte-owkba6{background:var(--bg-card);border-radius:16px;padding:20px;border:1px solid rgba(255,255,255,.1)}.section-title.svelte-owkba6{font-size:1rem;font-weight:600;margin:0 0 16px;color:var(--cyan);display:flex;align-items:center;gap:8px}.count.svelte-owkba6{font-size:.85rem;color:var(--text-muted);font-weight:400}.loading.svelte-owkba6,.error.svelte-owkba6,.empty-state.svelte-owkba6{text-align:center;padding:24px;color:var(--text-muted);font-size:.9rem}.error.svelte-owkba6{color:#ff6b6b}.empty-state.svelte-owkba6 p:where(.svelte-owkba6){margin:0;line-height:1.5}.in-queue-card.svelte-owkba6{background:linear-gradient(135deg,#00f5d41a,#ff6b9d1a);border:1px solid var(--cyan);border-radius:12px;padding:14px;margin-bottom:16px}.status-badge.svelte-owkba6{display:inline-block;padding:2px 10px;background:var(--cyan);color:var(--bg);border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.song-info.svelte-owkba6{display:flex;justify-content:space-between;align-items:center;gap:12px}.song-info.svelte-owkba6 .title:where(.svelte-owkba6){font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.votes.svelte-owkba6{color:var(--accent);font-size:.85rem;flex-shrink:0}.stack-list.svelte-owkba6{display:flex;flex-direction:column;gap:8px}.stack-item.svelte-owkba6{display:flex;align-items:center;gap:10px;padding:12px;background:#ffffff08;border-radius:10px;border:1px solid rgba(255,255,255,.05);cursor:grab;transition:all .15s ease}.stack-item.svelte-owkba6:hover{background:#ffffff0f;border-color:#ffffff1a}.stack-item.dragging.svelte-owkba6{opacity:.5;cursor:grabbing}.stack-item.drag-over.svelte-owkba6{border-color:var(--cyan);background:#00f5d40d}.drag-handle.svelte-owkba6{color:var(--text-muted);font-size:.8rem;-webkit-user-select:none;user-select:none;cursor:grab}.song-details.svelte-owkba6{flex:1;display:flex;align-items:center;gap:10px;overflow:hidden}.position.svelte-owkba6{color:var(--text-muted);font-size:.8rem;flex-shrink:0;width:24px}.song-details.svelte-owkba6 .title:where(.svelte-owkba6){overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:.9rem}.remove-btn.svelte-owkba6{width:28px;height:28px;border-radius:50%;background:transparent;border:1px solid rgba(255,255,255,.1);color:var(--text-muted);font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s ease;flex-shrink:0;line-height:1}.remove-btn.svelte-owkba6:hover{background:#ff6b6b33;border-color:#ff6b6b;color:#ff6b6b}.stack-hint.svelte-owkba6{margin:12px 0 0;font-size:.8rem;color:var(--text-muted);text-align:center;line-height:1.4}header.svelte-1y2kg8x{text-align:center;margin-bottom:32px}.header-top.svelte-1y2kg8x{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}h1.svelte-1y2kg8x{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin:0}.my-stack-section.svelte-1y2kg8x{margin-top:24px}.subtitle.svelte-1y2kg8x{color:var(--text-muted);font-size:.95rem;font-weight:300}.header-actions.svelte-1y2kg8x{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:12px}.mode-badge.svelte-1y2kg8x{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;border-radius:20px;font-size:.8rem;font-weight:500}.mode-badge.jukebox.svelte-1y2kg8x{background:#4ecdc426;color:var(--cyan);border:1px solid rgba(78,205,196,.2)}.mode-badge.karaoke.svelte-1y2kg8x{background:#ff6b9d26;color:var(--accent);border:1px solid rgba(255,107,157,.2)}.player-link.svelte-1y2kg8x{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:20px;color:var(--text-muted);font-size:.85rem;text-decoration:none;transition:all .2s ease}.player-link.svelte-1y2kg8x:hover{background:#ffffff1a;color:var(--text);border-color:#fff3}.join-card.svelte-1y2kg8x,.my-song-card.svelte-1y2kg8x,.my-turn-card.svelte-1y2kg8x{background:var(--bg-card);border-radius:20px;padding:24px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.my-song-card.svelte-1y2kg8x{border-color:#4ecdc44d;background:linear-gradient(135deg,rgba(78,205,196,.1) 0%,var(--bg-card) 100%)}.my-song-header.svelte-1y2kg8x{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.my-song-label.svelte-1y2kg8x{font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;color:var(--cyan);font-weight:600}.my-song-position.svelte-1y2kg8x{font-size:.85rem;color:var(--text-muted)}.my-song-title.svelte-1y2kg8x{font-size:1.1rem;font-weight:600;margin-bottom:16px;line-height:1.4}.btn-change.svelte-1y2kg8x{background:transparent;border:2px solid var(--cyan);color:var(--cyan)}.btn-change.svelte-1y2kg8x:hover{background:#4ecdc41a;box-shadow:0 4px 16px var(--cyan-glow)}.my-turn-card.svelte-1y2kg8x{border-color:#ff6b9d4d;background:linear-gradient(135deg,rgba(255,107,157,.15) 0%,var(--bg-card) 100%);text-align:center}.my-turn-label.svelte-1y2kg8x{font-size:1.5rem;font-weight:700;color:var(--accent);margin-bottom:8px}.my-turn-song.svelte-1y2kg8x{font-size:1.1rem;margin-bottom:16px;color:var(--text-muted)}.input-group.svelte-1y2kg8x{margin-bottom:16px}.input-label.svelte-1y2kg8x{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.selected-song.svelte-1y2kg8x{background:#4ecdc41a;border:1px solid rgba(78,205,196,.3);border-radius:12px;padding:16px;margin-top:16px}.selected-song-title.svelte-1y2kg8x{font-weight:600;margin-bottom:4px}.selected-song-meta.svelte-1y2kg8x{font-size:.85rem;color:var(--text-muted)}.validation-status.svelte-1y2kg8x{font-size:.85rem;margin-top:8px;display:flex;align-items:center;gap:8px}.validation-status.checking.svelte-1y2kg8x{color:var(--cyan)}.validation-status.valid.svelte-1y2kg8x{color:var(--success)}.validation-status.invalid.svelte-1y2kg8x{color:var(--warning)}.validation-spinner.svelte-1y2kg8x{width:14px;height:14px;border:2px solid rgba(78,205,196,.3);border-top-color:var(--cyan);border-radius:50%;animation:spin .8s linear infinite}.error-msg.svelte-1y2kg8x{color:var(--warning);font-size:.85rem;margin-top:12px;text-align:center;animation:shake .4s ease}.on-deck-banner.svelte-1y2kg8x{border-radius:16px;padding:16px;margin-bottom:24px;display:flex;align-items:center;gap:16px;animation:svelte-1y2kg8x-slideDown .4s ease-out}.on-deck-next.svelte-1y2kg8x{background:linear-gradient(135deg,#7bed9f33,#7bed9f0d);border:1px solid rgba(123,237,159,.3)}.on-deck-soon.svelte-1y2kg8x{background:linear-gradient(135deg,#ffa50233,#ffa5020d);border:1px solid rgba(255,165,2,.3)}.deck-icon.svelte-1y2kg8x{font-size:1.8rem}.deck-text.svelte-1y2kg8x{font-size:.95rem;color:var(--text);line-height:1.3}.deck-text.svelte-1y2kg8x strong:where(.svelte-1y2kg8x){font-size:1.05rem;display:block;margin-bottom:2px}.recap-overlay.svelte-1y2kg8x{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:1000;animation:svelte-1y2kg8x-fadeIn .3s ease;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.recap-content.svelte-1y2kg8x{text-align:center;animation:svelte-1y2kg8x-zoomIn .5s cubic-bezier(.34,1.56,.64,1)}.recap-applause.svelte-1y2kg8x{font-size:1.5rem;font-weight:800;color:var(--yellow);letter-spacing:.1em;margin-bottom:24px;text-shadow:0 0 20px rgba(255,165,2,.5)}.recap-votes.svelte-1y2kg8x{font-size:5rem;font-weight:900;line-height:1;margin-bottom:12px;background:linear-gradient(135deg,#fff,#ccc);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(0 4px 12px rgba(0,0,0,.5))}.recap-label.svelte-1y2kg8x{font-size:.8rem;color:var(--text-muted);letter-spacing:.2em;text-transform:uppercase}@keyframes svelte-1y2kg8x-slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1y2kg8x-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-1y2kg8x-zoomIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}

.player-container.svelte-1wtekok{position:relative;height:100vh;height:100dvh;background:var(--bg-deep);overflow:hidden}.video-wrapper.svelte-1wtekok{position:absolute;top:0;left:0;right:0;bottom:100px;background:#000}.video-wrapper.hidden.svelte-1wtekok{visibility:hidden}#yt-player{position:absolute;top:0;left:0;width:100%;height:100%}.overlay.svelte-1wtekok{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--bg-deep)}.start-overlay.svelte-1wtekok{background:radial-gradient(ellipse at center,rgba(78,205,196,.15) 0%,var(--bg-deep) 70%);cursor:pointer;border:none;width:100%;transition:background .3s ease}.start-overlay.svelte-1wtekok:hover{background:radial-gradient(ellipse at center,rgba(78,205,196,.25) 0%,var(--bg-deep) 70%)}.start-content.svelte-1wtekok{text-align:center}.start-icon.svelte-1wtekok{font-size:6rem;color:var(--cyan);margin-bottom:24px;text-shadow:0 0 60px var(--cyan);animation:svelte-1wtekok-pulse 2s ease-in-out infinite}.start-title.svelte-1wtekok{font-size:2rem;font-weight:700;color:var(--text);margin-bottom:32px}.start-song.svelte-1wtekok{font-size:1.5rem;font-weight:600;color:var(--text);margin-bottom:8px;max-width:600px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.start-singer.svelte-1wtekok{font-size:1.25rem;color:var(--text-muted)}.pause-overlay.svelte-1wtekok{background:radial-gradient(ellipse at center,rgba(255,107,157,.1) 0%,var(--bg-deep) 70%)}.pause-content.svelte-1wtekok{text-align:center;margin-bottom:40px}.up-next-label.svelte-1wtekok{font-size:1rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.2em;margin-bottom:16px}.next-singer.svelte-1wtekok{font-size:4rem;font-weight:800;color:var(--text);margin-bottom:8px;text-shadow:0 0 60px var(--accent-glow)}.next-song.svelte-1wtekok{font-size:1.5rem;color:var(--text-muted);max-width:600px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.countdown.svelte-1wtekok{font-size:8rem;font-weight:800;color:var(--accent);margin-top:32px;text-shadow:0 0 80px var(--accent-glow);animation:svelte-1wtekok-pulse 1s ease-in-out infinite}@keyframes svelte-1wtekok-pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}.waiting-message.svelte-1wtekok{font-size:2rem;color:var(--text-muted)}.queue-preview.svelte-1wtekok{position:absolute;bottom:140px;left:40px}.queue-label.svelte-1wtekok{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:12px}.queue-item.svelte-1wtekok{display:flex;align-items:center;gap:12px;margin-bottom:8px;opacity:.7}.queue-position.svelte-1wtekok{font-size:.875rem;color:var(--cyan);font-weight:600;width:20px}.queue-name.svelte-1wtekok{font-size:1rem;font-weight:500}.queue-song.svelte-1wtekok{font-size:.875rem;color:var(--text-muted)}.qr-section.svelte-1wtekok{position:absolute;bottom:140px;right:40px;text-align:center}.qr-code.svelte-1wtekok{width:120px;height:120px;border-radius:12px;background:#fff;padding:8px}.qr-large.svelte-1wtekok{width:200px;height:200px;margin-bottom:24px}.qr-hint.svelte-1wtekok{font-size:.75rem;color:var(--text-muted);margin-top:8px}.idle-overlay.svelte-1wtekok{background:radial-gradient(ellipse at 20% 30%,rgba(255,107,157,.08) 0%,transparent 50%),radial-gradient(ellipse at 80% 70%,rgba(78,205,196,.08) 0%,transparent 50%),var(--bg-deep)}.idle-content.svelte-1wtekok{text-align:center}.idle-title.svelte-1wtekok{font-size:4rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:8px}.idle-subtitle.svelte-1wtekok{font-size:1.5rem;color:var(--text-muted);margin-bottom:48px}.idle-cta.svelte-1wtekok{font-size:1.25rem;color:var(--text)}.idle-decoration.svelte-1wtekok{position:absolute;width:100%;height:100%;pointer-events:none;overflow:hidden}.note.svelte-1wtekok{position:absolute;font-size:4rem;color:var(--accent);opacity:.15;animation:svelte-1wtekok-float 6s ease-in-out infinite}.note-1.svelte-1wtekok{top:20%;left:10%;animation-delay:0s}.note-2.svelte-1wtekok{top:60%;right:15%;animation-delay:2s}.note-3.svelte-1wtekok{bottom:30%;left:20%;animation-delay:4s}@keyframes svelte-1wtekok-float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(10deg)}}.info-bar.svelte-1wtekok{position:absolute;bottom:0;left:0;right:0;background:var(--bg-card);padding:16px 32px;border-top:1px solid rgba(255,255,255,.05)}.now-playing.svelte-1wtekok{display:flex;align-items:center;margin-bottom:12px}.now-label.svelte-1wtekok{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em;margin-right:16px}.now-title.svelte-1wtekok{font-size:1.25rem;font-weight:600;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.now-singer.svelte-1wtekok{font-size:1rem;color:var(--text-muted);margin-left:16px}.up-next-bar.svelte-1wtekok{display:flex;gap:24px}.up-next-bar-label.svelte-1wtekok{font-size:.7rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;padding-top:6px;white-space:nowrap}.up-next-list.svelte-1wtekok{display:flex;gap:12px;flex:1;overflow:hidden}.up-next-item.svelte-1wtekok{background:#ffffff0d;padding:8px 14px;border-radius:8px;min-width:180px;max-width:280px}.up-next-song.svelte-1wtekok{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.up-next-singer.svelte-1wtekok{font-size:.75rem;color:var(--text-muted)}.empty-queue.svelte-1wtekok{color:var(--text-muted);font-style:italic;font-size:.85rem}.connection-status.svelte-1wtekok{position:fixed;top:12px;right:12px;padding:6px 12px;border-radius:20px;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;z-index:100}.connection-status.connected.svelte-1wtekok{background:#4ecdc433;color:var(--cyan);border:1px solid rgba(78,205,196,.3)}.connection-status.polling.svelte-1wtekok{background:#ffa50233;color:#ffa502;border:1px solid rgba(255,165,2,.3)}.connection-status.disconnected.svelte-1wtekok{background:#ff6b8133;color:#ff6b81;border:1px solid rgba(255,107,129,.3)}.info-bar.with-controls.svelte-1wtekok{bottom:70px}.skip-btn.svelte-1wtekok{background:#ffa50233;border:1px solid rgba(255,165,2,.3);color:var(--warning);padding:8px 16px;border-radius:8px;cursor:pointer;font-size:1.2rem;margin-left:16px;transition:all .2s}.skip-btn.svelte-1wtekok:hover{background:#ffa5024d}.up-next-item.svelte-1wtekok{position:relative}.up-next-actions.svelte-1wtekok{position:absolute;top:4px;right:4px;display:flex;gap:2px}.action-btn.svelte-1wtekok{background:#ffffff1a;border:none;color:var(--text-muted);width:24px;height:24px;border-radius:4px;cursor:pointer;font-size:.85rem;display:flex;align-items:center;justify-content:center;transition:all .2s}.action-btn.svelte-1wtekok:hover{background:#fff3;color:var(--text)}.action-btn.danger.svelte-1wtekok:hover{background:#ff6b9d4d;color:var(--accent)}.controls-panel.svelte-1wtekok{position:absolute;bottom:0;left:0;right:0;background:#0a0a0ff2;border-top:1px solid rgba(255,255,255,.1);padding:12px 24px;z-index:50}.controls-row.svelte-1wtekok{display:flex;align-items:flex-start;gap:16px}.search-section.svelte-1wtekok{flex:1;position:relative}.search-input-row.svelte-1wtekok{display:flex;gap:8px}.search-input.svelte-1wtekok{flex:1;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:10px 14px;color:var(--text);font-size:.9rem;font-family:inherit}.search-input.svelte-1wtekok:focus{outline:none;border-color:var(--cyan)}.search-input.svelte-1wtekok::placeholder{color:var(--text-muted)}.search-btn.svelte-1wtekok{padding:10px 16px;font-size:.85rem}.search-results-dropdown.svelte-1wtekok{position:absolute;bottom:100%;left:0;right:0;background:var(--bg-card);border:1px solid rgba(255,255,255,.1);border-radius:12px;margin-bottom:8px;max-height:300px;overflow-y:auto;z-index:100}.search-result-item.svelte-1wtekok{display:flex;gap:10px;padding:10px 12px;background:transparent;border:none;width:100%;text-align:left;cursor:pointer;font-family:inherit;color:var(--text);transition:background .2s}.search-result-item.svelte-1wtekok:hover{background:#ffffff0d}.search-result-item.selected.svelte-1wtekok{background:#4ecdc426}.result-thumb.svelte-1wtekok{width:48px;height:36px;border-radius:4px;object-fit:cover}.result-info.svelte-1wtekok{flex:1;min-width:0}.result-title.svelte-1wtekok{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.result-meta.svelte-1wtekok{font-size:.75rem;color:var(--text-muted)}.selected-song.svelte-1wtekok{display:flex;align-items:center;gap:12px;margin-top:8px;padding:8px 12px;background:#4ecdc41a;border-radius:8px}.selected-title.svelte-1wtekok{flex:1;font-size:.85rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--cyan)}.singer-input.svelte-1wtekok{width:120px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:6px 10px;color:var(--text);font-size:.85rem;font-family:inherit}.singer-input.svelte-1wtekok:focus{outline:none;border-color:var(--cyan)}.add-actions.svelte-1wtekok{display:flex;gap:6px}.add-actions.svelte-1wtekok .btn:where(.svelte-1wtekok){padding:6px 12px;font-size:.8rem}.admin-section.svelte-1wtekok{display:flex;align-items:center}.admin-btn.svelte-1wtekok{background:none;border:none;font-size:1.5rem;cursor:pointer;padding:8px;border-radius:8px;transition:all .2s}.admin-btn.locked.svelte-1wtekok:hover{background:#ffffff1a}.admin-btn.unlocked.svelte-1wtekok{background:#4ecdc433}.admin-btn.unlocked.svelte-1wtekok:hover{background:#4ecdc44d}.toggle-controls-btn.svelte-1wtekok{position:absolute;bottom:0;right:20px;transform:translateY(-100%);background:#0a0a0fe6;border:1px solid rgba(255,255,255,.1);border-bottom:none;border-radius:8px 8px 0 0;color:var(--text-muted);padding:4px 12px;font-size:.8rem;cursor:pointer;z-index:51;transition:all .2s}.toggle-controls-btn.svelte-1wtekok:hover{color:var(--text);background:#0a0a0f}.modal-overlay.svelte-1wtekok{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:200}.modal-content.svelte-1wtekok{background:var(--bg-card);border-radius:16px;padding:24px;min-width:280px;border:1px solid rgba(255,255,255,.1)}.modal-content.svelte-1wtekok h3:where(.svelte-1wtekok){margin:0 0 16px;font-size:1.25rem;text-align:center}.modal-content.svelte-1wtekok input:where(.svelte-1wtekok){width:100%;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:12px;color:var(--text);font-size:1.25rem;text-align:center;letter-spacing:.5em;font-family:inherit;margin-bottom:16px}.modal-content.svelte-1wtekok input:where(.svelte-1wtekok):focus{outline:none;border-color:var(--cyan)}.modal-actions.svelte-1wtekok{display:flex;gap:8px}.modal-actions.svelte-1wtekok .btn:where(.svelte-1wtekok){flex:1}.auth-error.svelte-1wtekok{color:var(--accent);font-size:.85rem;text-align:center;margin-top:12px}.btn.svelte-1wtekok{background:var(--accent);border:none;color:#fff;padding:10px 20px;border-radius:8px;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s}.btn.svelte-1wtekok:hover:not(:disabled){filter:brightness(1.1);transform:translateY(-1px)}.btn.svelte-1wtekok:disabled{opacity:.5;cursor:not-allowed}.btn-cyan.svelte-1wtekok{background:var(--cyan)}.btn-warning.svelte-1wtekok{background:var(--warning)}.btn-muted.svelte-1wtekok{background:#ffffff1a;color:var(--text-muted)}.btn-muted.svelte-1wtekok:hover:not(:disabled){background:#fff3;color:var(--text)}

.toast-container.svelte-1cpok13{position:fixed;bottom:24px;left:50%;transform:translate(-50%);z-index:100;display:flex;flex-direction:column;gap:8px}.toast.svelte-1cpok13{background:var(--bg-card);border:1px solid rgba(255,255,255,.1);padding:16px 24px;border-radius:14px;font-size:.95rem;box-shadow:0 8px 32px #0006;animation:svelte-1cpok13-slideUp .3s ease}.toast.success.svelte-1cpok13{border-color:#7bed9f4d}.toast.error.svelte-1cpok13{border-color:#ff6b9d4d}.toast.info.svelte-1cpok13{border-color:#4ecdc44d}@keyframes svelte-1cpok13-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

.now-playing-card.svelte-gs8b8u{background:linear-gradient(135deg,#ff6b9d26,#4ecdc41a);border:1px solid rgba(255,107,157,.3);border-radius:20px;padding:20px;margin-bottom:24px;text-align:center}.now-playing-label.svelte-gs8b8u{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px}.now-playing-title.svelte-gs8b8u{font-size:1.1rem;font-weight:600;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.now-playing-singer.svelte-gs8b8u{color:var(--text-muted);font-size:.9rem}.skip-own-btn.svelte-gs8b8u{margin-top:12px;background:#ffa50233;border:1px solid rgba(255,165,2,.4);color:var(--warning);padding:10px 20px;border-radius:10px;font-size:.9rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease}.skip-own-btn.svelte-gs8b8u:hover{background:#ffa5024d}.queue-item.svelte-bbkcgc{display:flex;align-items:center;padding:14px;border-radius:14px;margin-bottom:8px;background:#ffffff08;transition:all .2s ease;animation:slideIn .3s ease}.queue-item.is-mine.svelte-bbkcgc{background:linear-gradient(135deg,#4ecdc426,#4ecdc40d);border:1px solid rgba(78,205,196,.3)}.position.svelte-bbkcgc{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.85rem;margin-right:12px;flex-shrink:0;background:#ffffff1a;color:var(--text-muted)}.position.is-mine.svelte-bbkcgc{background:var(--cyan);color:var(--bg)}.queue-info.svelte-bbkcgc{flex:1;min-width:0}.queue-song.svelte-bbkcgc{font-weight:500;font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.queue-singer.svelte-bbkcgc{font-size:.8rem;color:var(--text-muted);display:flex;align-items:center;gap:6px}.you-badge.svelte-bbkcgc{background:var(--cyan);color:var(--bg);font-size:.6rem;font-weight:700;padding:2px 6px;border-radius:4px;letter-spacing:.05em}.queue-actions.svelte-bbkcgc{display:flex;align-items:center;gap:4px;margin-left:12px}.vote-btn.svelte-bbkcgc{background:none;border:none;width:32px;height:32px;border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;font-size:1rem;color:var(--text-muted)}.vote-btn.svelte-bbkcgc:hover:not(:disabled){background:#ffffff1a}.vote-btn.upvote.svelte-bbkcgc{color:var(--success)}.vote-btn.downvote.svelte-bbkcgc{color:var(--accent)}.vote-btn.active.svelte-bbkcgc{background:#ffffff26}.vote-btn.svelte-bbkcgc:disabled{opacity:.3;cursor:not-allowed}.vote-count.svelte-bbkcgc{font-size:.85rem;min-width:24px;text-align:center;color:var(--text-muted)}.vote-count.positive.svelte-bbkcgc{color:var(--success)}.vote-count.negative.svelte-bbkcgc{color:var(--accent)}.remove-btn.svelte-bbkcgc{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:8px;border-radius:8px;transition:all .2s ease;font-size:.9rem}.remove-btn.svelte-bbkcgc:hover{background:#ff6b9d33;color:var(--accent)}.queue-section.svelte-a7cxk7{background:var(--bg-card);border-radius:20px;padding:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.section-header.svelte-a7cxk7{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.section-title.svelte-a7cxk7{font-size:1.1rem;font-weight:600;color:var(--text)}.queue-count.svelte-a7cxk7{background:#ffffff1a;padding:6px 14px;border-radius:20px;font-size:.85rem;color:var(--text-muted)}.queue-list.svelte-a7cxk7{list-style:none}.empty-state.svelte-a7cxk7{text-align:center;padding:60px 24px;color:var(--text-muted);display:flex;flex-direction:column;align-items:center;gap:12px}.empty-icon.svelte-a7cxk7{font-size:4rem;margin-bottom:8px;animation:svelte-a7cxk7-bounce 2s infinite ease-in-out}.empty-state.svelte-a7cxk7 h3:where(.svelte-a7cxk7){font-size:1.25rem;color:var(--text);margin:0;font-weight:700}.empty-state.svelte-a7cxk7 p:where(.svelte-a7cxk7){margin:0;font-size:.95rem;opacity:.8}.arrow.svelte-a7cxk7{font-size:2rem;color:var(--accent);margin-top:16px;animation:svelte-a7cxk7-float 1.5s infinite ease-in-out}@keyframes svelte-a7cxk7-bounce{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes svelte-a7cxk7-float{0%,to{transform:translateY(0)}50%{transform:translateY(10px)}}.search-container.svelte-1002zyw{margin-bottom:16px}.search-row.svelte-1002zyw{display:flex;gap:12px}.search-row.svelte-1002zyw input:where(.svelte-1002zyw){flex:1}.search-btn.svelte-1002zyw{flex-shrink:0;width:auto;padding:16px 24px}.search-results.svelte-1002zyw{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px;margin-top:16px}.search-result.svelte-1002zyw{display:flex;flex-direction:column;padding:0;background:#ffffff08;border:2px solid transparent;border-radius:12px;cursor:pointer;transition:all .2s ease;text-align:left;color:inherit;font-family:inherit;overflow:hidden}.search-result.svelte-1002zyw:hover:not(:disabled){background:#ffffff0f;border-color:#ffffff1a;transform:translateY(-2px)}.search-result.selected.svelte-1002zyw{background:#4ecdc426;border-color:var(--cyan)}.search-result.too-long.svelte-1002zyw{opacity:.5;cursor:not-allowed}.search-result.too-long.svelte-1002zyw:hover{background:#ffffff08;border-color:transparent;transform:none}.result-thumb-wrapper.svelte-1002zyw{position:relative;width:100%;aspect-ratio:16 / 9}.result-thumb.svelte-1002zyw{width:100%;height:100%;object-fit:cover;background:#0000004d}.result-duration.svelte-1002zyw{position:absolute;bottom:6px;right:6px;background:#000c;color:#fff;font-size:.7rem;font-weight:600;padding:2px 6px;border-radius:4px}.result-duration.too-long-badge.svelte-1002zyw{background:var(--warning);color:#000}.result-info.svelte-1002zyw{padding:10px;display:flex;flex-direction:column;gap:4px}.result-title.svelte-1002zyw{font-size:.85rem;font-weight:500;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.result-channel.svelte-1002zyw{font-size:.75rem;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.too-long-msg.svelte-1002zyw{font-size:.7rem;color:var(--warning);font-weight:500}.searching-indicator.svelte-1002zyw{text-align:center;padding:24px;color:var(--text-muted);display:flex;flex-direction:column;align-items:center;gap:12px}.no-results.svelte-1002zyw{text-align:center;padding:24px;color:var(--text-muted)}@media(max-width:480px){.search-results.svelte-1002zyw{grid-template-columns:repeat(2,1fr);gap:8px}.result-info.svelte-1002zyw{padding:8px}.result-title.svelte-1002zyw{font-size:.8rem}}.modal-overlay.svelte-1ppz18g{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:16px}.modal.svelte-1ppz18g{background:var(--bg-card);border-radius:24px;padding:32px;max-width:400px;width:100%;border:1px solid rgba(255,255,255,.1);box-shadow:0 16px 64px #00000080;animation:modalIn .3s ease}.modal.svelte-1ppz18g h2:where(.svelte-1ppz18g){font-size:1.5rem;font-weight:700;margin-bottom:16px;text-align:center}.modal.svelte-1ppz18g p:where(.svelte-1ppz18g){color:var(--text-muted);margin-bottom:12px;line-height:1.5}.modal.svelte-1ppz18g ul:where(.svelte-1ppz18g){color:var(--text-muted);margin:0 0 16px 20px;line-height:1.6}.modal.svelte-1ppz18g ul:where(.svelte-1ppz18g) li:where(.svelte-1ppz18g){margin-bottom:4px}.highlight.svelte-1ppz18g{color:var(--cyan);font-weight:500}.modal-input.svelte-1ppz18g{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:16px 20px;font-size:1.5rem;font-family:inherit;color:var(--text);outline:none;text-align:center;letter-spacing:.5em;margin-bottom:16px}.modal-input.svelte-1ppz18g:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}.modal-input.svelte-1ppz18g::placeholder{color:var(--text-muted);letter-spacing:normal}.modal.svelte-1ppz18g .btn:where(.svelte-1ppz18g){margin-bottom:12px}.small.svelte-1ppz18g{font-size:.85rem;color:var(--text-muted);text-align:center}.skip-link.svelte-1ppz18g{display:block;width:100%;text-align:center;color:var(--text-muted);background:none;border:none;font-size:.9rem;font-family:inherit;cursor:pointer;padding:8px}.skip-link.svelte-1ppz18g:hover{color:var(--text)}.hint.svelte-1ppz18g{font-size:.85rem;color:var(--text-muted);text-align:center;margin-top:12px}.link-btn.svelte-1ppz18g{color:var(--cyan);background:none;border:none;font-family:inherit;font-size:inherit;cursor:pointer;text-decoration:none;padding:0}.link-btn.svelte-1ppz18g:hover{text-decoration:underline}.modal-error.svelte-1ppz18g{color:var(--warning);font-size:.9rem;text-align:center;margin-top:8px;margin-bottom:8px}
</style>
</head>
<body data-sveltekit-preload-data="hover">
  <div style="display: contents"></div>
  <script type="module">var Ud=Object.defineProperty;var Fe=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ln=(e,t)=>{for(var n in t)Ud(e,n,{get:t[n],enumerable:!0})};function Il(e){return typeof e=="function"}function Rl(e){return e()}function Ur(e){for(var t=0;t<e.length;t++)e[t]()}function Nl(){var e,t,n=new Promise((a,r)=>{e=a,t=r});return{promise:n,resolve:e,reject:t}}function Yd(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Gd(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Jd(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Qd(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Kd(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ml(){throw new Error("https://svelte.dev/e/hydration_failed")}function Ol(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Hd(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Xd(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Zd(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function zl(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function ar(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function ec(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ft(e){ce=e}function it(e){if(e===null)throw ar(),ts;return be=e}function ia(){return it(Wt(be))}function v(e){if(ce){if(Wt(be)!==null)throw ar(),ts;be=e}}function pt(e=1){if(ce){for(var t=e,n=be;t--;)n=Wt(n);be=n}}function ns(e=!0){for(var t=0,n=be;;){if(n.nodeType===Yn){var a=n.data;if(a===nr){if(t===0)return n;t-=1}else(a===mi||a===es)&&(t+=1)}var r=Wt(n);e&&n.remove(),n=r}}function Br(e){if(!e||e.nodeType!==Yn)throw ar(),ts;return e.data}function tc(e){return e===this.v}function gi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function nc(e){return!gi(e,this.v)}function ac(){Ca=!0}function Qa(e){Ye=e}function Be(e,t=!1,n){Ye={p:Ye,i:!1,c:null,e:null,s:e,x:null,l:Ca&&!t?{s:null,u:null,\$:[]}:null}}function Ve(e){var t=Ye,n=t.e;if(n!==null){t.e=null;for(var a of n)bc(a)}return e!==void 0&&(t.x=e),t.i=!0,Ye=t.p,e??{}}function sr(){return!Ca||Ye!==null&&Ye.l===null}function sc(){var e=Ba;Ba=[],Ur(e)}function Nt(e){if(Ba.length===0&&!Ks){var t=Ba;queueMicrotask(()=>{t===Ba&&sc()})}Ba.push(e)}function ev(){for(;Ba.length>0;)sc()}function yi(e){var t=xe;if(t===null)return Se.f|=Pa,e;if(t.f&Xa)Ka(e,t);else{if(!(t.f&Fr))throw e;t.b.error(e)}}function Ka(e,t){for(;t!==null;){if(t.f&Fr)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}function wt(e,t){e.f=e.f&tv|t}function wi(e){e.f&mn||e.deps===null?wt(e,Rt):wt(e,Bn)}function rc(e){if(e!==null)for(let t of e)!(t.f&Et)||!(t.f&Ja)||(t.f^=Ja,rc(t.deps))}function ki(e,t,n){e.f&Lt?t.add(e):e.f&Bn&&n.add(e),rc(e.deps),wt(e,Rt)}function bi(e){var t=Ks;Ks=!0;try{for(var n;;){if(ev(),sn.length===0&&(Ce?.flush(),sn.length===0))return Vr=null,n;lc()}}finally{Ks=t}}function lc(){ri=!0;var e=null;try{for(var t=0;sn.length>0;){var n=Ta.ensure();if(t++>1e3){var a,r;av()}n.process(sn),\$a.clear()}}finally{ri=!1,Vr=null}}function av(){try{Kd()}catch(e){Ka(e,Vr)}}function Pl(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var a=e[n++];if(!(a.f&(Fn|Kt))&&lr(a)&&(Un=new Set,Zs(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?Pc(a):a.fn=null),Un?.size>0)){\$a.clear();for(let r of Un){if(r.f&(Fn|Kt))continue;let o=[r],i=r.parent;for(;i!==null;)Un.has(i)&&(Un.delete(i),o.push(i)),i=i.parent;for(let l=o.length-1;l>=0;l--){let u=o[l];!(u.f&(Fn|Kt))&&Zs(u)}}Un.clear()}}Un=null}}function cc(e,t,n,a){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(let r of e.reactions){let o=r.f;o&Et?cc(r,t,n,a):o&(pi|Tn)&&!(o&Lt)&&uc(r,t,a)&&(wt(r,Lt),Wn(r))}}function uc(e,t,n){let a=n.get(e);if(a!==void 0)return a;if(e.deps!==null)for(let r of e.deps){if(t.includes(r))return!0;if(r.f&Et&&uc(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function Wn(e){for(var t=Vr=e;t.parent!==null;){t=t.parent;var n=t.f;if(ri&&t===xe&&n&Tn&&!(n&Wr))return;if(n&(Ha|oa)){if(!(n&Rt))return;t.f^=Rt}}sn.push(t)}function sv(e,t,n,a){let r=sr()?as:rr;var o=e.filter(m=>!m.settled);if(n.length===0&&o.length===0){a(t.map(r));return}var i=Ce,l=xe,u=rv(),d=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(m=>m.promise)):null;function h(m){u();try{a(m)}catch(g){!(l.f&Fn)&&Ka(g,l)}i?.deactivate(),li()}if(n.length===0){d.then(()=>h(t.map(r)));return}function y(){u(),Promise.all(n.map(m=>ov(m))).then(m=>h([...t.map(r),...m])).catch(m=>Ka(m,l))}d?d.then(y):y()}function rv(){var e=xe,t=Se,n=Ye,a=Ce;return function(r=!0){Cn(e),Ut(t),Qa(n),r&&a?.activate()}}function li(){Cn(null),Ut(null),Qa(null)}function as(e){var t=Et|Lt,n=Se!==null&&Se.f&Et?Se:null;return xe!==null&&(xe.f|=Za),{ctx:Ye,deps:null,effects:null,equals:tc,f:t,fn:e,reactions:null,rv:0,v:\$t,wv:0,parent:n??xe,ac:null}}function ov(e,t,n){let a=xe;a===null&&Yd();var r=a.b,o=void 0,i=la(\$t),l=!Se,u=new Map;return uv(()=>{var d,h=Nl();o=h.promise;try{Promise.resolve(e()).then(h.resolve,h.reject).then(()=>{y===Ce&&y.committed&&y.deactivate(),li()})}catch(k){h.reject(k),li()}var y=Ce;if(l){var m=r.is_rendered();r.update_pending_count(1),y.increment(m),(d=u.get(y))==null||d.reject(ws),u.delete(y),u.set(y,h)}let g=(k,w=void 0)=>{if(y.activate(),w)w!==ws&&(i.f|=Pa,Ea(i,w));else{i.f&Pa&&(i.f^=Pa),Ea(i,k);for(let[T,E]of u){if(u.delete(T),T===y)break;E.reject(ws)}}l&&(r.update_pending_count(-1),y.decrement(m))};h.promise.then(g,k=>g(null,k||"unknown"))}),\$i(()=>{for(let d of u.values())d.reject(ws)}),new Promise(d=>{function h(y){function m(){y===o?d(i):h(o)}y.then(m,m)}h(o)})}function Qe(e){let t=as(e);return Cc(t),t}function rr(e){let t=as(e);return t.equals=nc,t}function dc(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ct(t[n])}}function iv(e){for(var t=e.parent;t!==null;){if(!(t.f&Et))return t.f&Fn?null:t;t=t.parent}return null}function _i(e){var t,n=xe;Cn(iv(e));try{e.f&=~Ja,dc(e),t=Nc(e)}finally{Cn(n)}return t}function vc(e){var t=_i(e);if(!e.equals(t)&&(e.wv=Ic(),(!(Ce!=null&&Ce.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){wt(e,Rt);return}ra||(Qt!==null?(Qr()||Ce!=null&&Ce.is_fork)&&Qt.set(e,t):wi(e))}function la(e,t){var n={f:0,v:e,reactions:null,equals:tc,rv:0,wv:0};return n}function \$(e,t){let n=la(e);return Cc(n),n}function Yr(e,t=!1,n=!0){var a;let r=la(e);return t||(r.equals=nc),Ca&&n&&Ye!==null&&Ye.l!==null&&((a=Ye.l).s??(a.s=[])).push(r),r}function c(e,t,n=!1){Se!==null&&(!En||Se.f&xl)&&sr()&&Se.f&(Et|Tn|pi|xl)&&!(gn!=null&&gn.includes(e))&&Zd();let a=n?Ae(t):t;return Ea(e,a)}function Ea(e,t){if(!e.equals(t)){var n=e.v;ra?\$a.set(e,t):\$a.set(e,n),e.v=t;var a=Ta.ensure();if(a.capture(e,n),(e.f&Et)!==0){let r=e;e.f&Lt&&_i(r),wi(r)}e.wv=Ic(),hc(e,Lt),sr()&&xe!==null&&xe.f&Rt&&!(xe.f&(oa|Ha))&&(hn===null?fv([e]):hn.push(e)),!a.is_fork&&ci.size>0&&!fc&&lv()}return t}function lv(){fc=!1;for(let e of ci)e.f&Rt&&wt(e,Bn),lr(e)&&Zs(e);ci.clear()}function pc(e,t=1){var n=s(e),a=t===1?n++:n--;return c(e,n),a}function ks(e){c(e,e.v+1)}function hc(e,t){var n=e.reactions;if(n!==null)for(var a=sr(),r=n.length,o=0;o<r;o++){var i=n[o],l=i.f;if(!(!a&&i===xe)){var u=(l&Lt)===0;if(u&&wt(i,t),(l&Et)!==0){var d=i;Qt?.delete(d),!(l&Ja)&&(l&mn&&(i.f|=Ja),hc(d,Bn))}else u&&(l&Tn&&Un!==null&&Un.add(i),Wn(i))}}}function Ae(e){if(typeof e!="object"||e===null||sa in e)return e;let t=Lr(e);if(t!==Bd&&t!==Vd)return e;var n=new Map,a=vi(e),r=\$(0),o=Ga,i=l=>{if(Ga===o)return l();var u=Se,d=Ga;Ut(null),Cl(o);var h=l();return Ut(u),Cl(d),h};return a&&n.set("length",\$(e.length)),new Proxy(e,{defineProperty(l,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Hd();var h=n.get(u);return h===void 0?h=i(()=>{var y=\$(d.value);return n.set(u,y),y}):c(h,d.value,!0),!0},deleteProperty(l,u){var d=n.get(u);if(d===void 0){if(u in l){let h=i(()=>\$(\$t));n.set(u,h),ks(r)}}else c(d,\$t),ks(r);return!0},get(l,u,d){var h;if(u===sa)return e;var y=n.get(u),m=u in l;if(y===void 0&&(!m||(h=Ya(l,u))!=null&&h.writable)&&(y=i(()=>{var k=Ae(m?l[u]:\$t),w=\$(k);return w}),n.set(u,y)),y!==void 0){var g=s(y);return g===\$t?void 0:g}return Reflect.get(l,u,d)},getOwnPropertyDescriptor(l,u){var d=Reflect.getOwnPropertyDescriptor(l,u);if(d&&"value"in d){var h=n.get(u);h&&(d.value=s(h))}else if(d===void 0){var y=n.get(u),m=y?.v;if(y!==void 0&&m!==\$t)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return d},has(l,u){var d;if(u===sa)return!0;var h=n.get(u),y=h!==void 0&&h.v!==\$t||Reflect.has(l,u);if(h!==void 0||xe!==null&&(!y||(d=Ya(l,u))!=null&&d.writable)){h===void 0&&(h=i(()=>{var g=y?Ae(l[u]):\$t,k=\$(g);return k}),n.set(u,h));var m=s(h);if(m===\$t)return!1}return y},set(l,u,d,h){var y,m=n.get(u),g=u in l;if(a&&u==="length")for(var k=d;k<m.v;k+=1){var w=n.get(k+"");w!==void 0?c(w,\$t):k in l&&(w=i(()=>\$(\$t)),n.set(k+"",w))}if(m===void 0)(!g||(y=Ya(l,u))!=null&&y.writable)&&(m=i(()=>\$(void 0)),c(m,Ae(d)),n.set(u,m));else{g=m.v!==\$t;var T=i(()=>Ae(d));c(m,T)}var E=Reflect.getOwnPropertyDescriptor(l,u);if(E!=null&&E.set&&E.set.call(h,d),!g){if(a&&typeof u=="string"){var N=n.get("length"),x=Number(u);Number.isInteger(x)&&x>=N.v&&c(N,x+1)}ks(r)}return!0},ownKeys(l){s(r);var u=Reflect.ownKeys(l).filter(y=>{var m=n.get(y);return m===void 0||m.v!==\$t});for(var[d,h]of n)h.v!==\$t&&!(d in l)&&u.push(d);return u},setPrototypeOf(){Xd()}})}function Gr(){if(bs===void 0){bs=window,Si=document,xi=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;mc=Ya(t,"firstChild").get,gc=Ya(t,"nextSibling").get,Sl(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Sl(n)&&(n.__t=void 0)}}function kt(e=""){return document.createTextNode(e)}function yn(e){return mc.call(e)}function Wt(e){return gc.call(e)}function f(e,t){if(!ce)return yn(e);var n=yn(be);if(n===null)n=be.appendChild(kt());else if(t&&n.nodeType!==tr){var a=kt();return n?.before(a),it(a),a}return it(n),n}function se(e,t=!1){if(!ce){var n=yn(e);return n instanceof Comment&&n.data===""?Wt(n):n}if(t&&be?.nodeType!==tr){var a=kt();return be?.before(a),it(a),a}return be}function p(e,t=1,n=!1){let a=ce?be:e;for(var r;t--;)r=a,a=Wt(a);if(!ce)return a;if(n&&a?.nodeType!==tr){var o=kt();return a===null?r?.after(o):a.before(o),it(o),o}return it(a),a}function or(e){e.textContent=""}function Jr(){return!1}function yc(e){ce&&yn(e)!==null&&or(e)}function Pi(){\$l||(\$l=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(let n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Ia(e){var t=Se,n=xe;Ut(null),Cn(null);try{return e()}finally{Ut(t),Cn(n)}}function wc(e,t,n,a=n){e.addEventListener(t,()=>Ia(n));let r=e.__on_r;r?e.__on_r=()=>{r(),a(!0)}:e.__on_r=()=>a(!0),Pi()}function kc(e){xe===null&&(Se===null&&Qd(),Jd()),ra&&Gd()}function cv(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Gn(e,t,n){var a=xe;a!==null&&a.f&Kt&&(e|=Kt);var r={ctx:Ye,deps:null,nodes:null,f:e|Lt|mn,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Zs(r),r.f|=Xa}catch(l){throw Ct(r),l}else t!==null&&Wn(r);var o=r;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&!(o.f&Za)&&(o=o.first,e&Tn&&e&Ht&&o!==null&&(o.f|=Ht)),o!==null&&(o.parent=a,a!==null&&cv(o,a),Se!==null&&(Se.f&Et)!==0&&(e&Ha)===0)){var i=Se;(i.effects??(i.effects=[])).push(o)}return r}function Qr(){return Se!==null&&!En}function \$i(e){let t=Gn(er,null,!1);return wt(t,Rt),t.teardown=e,t}function Dt(e){kc();var t=xe.f,n=!Se&&(t&oa)!==0&&(t&Xa)===0;if(n){var a=Ye;(a.e??(a.e=[])).push(e)}else return bc(e)}function bc(e){return Gn(Ar|ql,e,!1)}function Kr(e){return kc(),Gn(er|ql,e,!0)}function _c(e){Ta.ensure();let t=Gn(Ha|Za,e,!0);return(n={})=>new Promise(a=>{n.outro?Jn(t,()=>{Ct(t),a(void 0)}):(Ct(t),a(void 0))})}function Ss(e){return Gn(Ar,e,!1)}function uv(e){return Gn(pi|Za,e,!0)}function xs(e,t=0){return Gn(er|t,e,!0)}function L(e,t=[],n=[],a=[]){sv(a,t,n,r=>{Gn(er,()=>e(...r.map(s)),!0)})}function wn(e,t=0){var n=Gn(Tn|t,e,!0);return n}function Bt(e){return Gn(oa|Za,e,!0)}function Sc(e){var t=e.teardown;if(t!==null){let n=ra,a=Se;El(!0),Ut(null);try{t.call(null)}finally{El(n),Ut(a)}}}function xc(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){let r=n.ac;r!==null&&Ia(()=>{r.abort(ws)});var a=n.next;n.f&Ha?n.parent=null:Ct(n,t),n=a}}function dv(e){for(var t=e.first;t!==null;){var n=t.next;!(t.f&oa)&&Ct(t),t=n}}function Ct(e,t=!0){var n=!1;(t||e.f&Wr)&&e.nodes!==null&&e.nodes.end!==null&&(vv(e.nodes.start,e.nodes.end),n=!0),xc(e,t&&!n),Or(e,0),wt(e,Fn);var a=e.nodes&&e.nodes.t;if(a!==null)for(let o of a)o.stop();Sc(e);var r=e.parent;r!==null&&r.first!==null&&Pc(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function vv(e,t){for(;e!==null;){var n=e===t?null:Wt(e);e.remove(),e=n}}function Pc(e){var t=e.parent,n=e.prev,a=e.next;n!==null&&(n.next=a),a!==null&&(a.prev=n),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=n))}function Jn(e,t,n=!0){var a=[];\$c(e,a,!0);var r=()=>{n&&Ct(e),t&&t()},o=a.length;if(o>0){var i=()=>--o||r();for(var l of a)l.out(i)}else r()}function \$c(e,t,n){if(!(e.f&Kt)){e.f^=Kt;var a=e.nodes&&e.nodes.t;if(a!==null)for(let l of a)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var o=r.next,i=(r.f&Ht)!==0||(r.f&oa)!==0&&(e.f&Tn)!==0;\$c(r,t,i?n:!1),r=o}}}function ir(e){Ec(e,!0)}function Ec(e,t){if(e.f&Kt){e.f^=Kt,!(e.f&Rt)&&(wt(e,Lt),Wn(e));for(var n=e.first;n!==null;){var a=n.next,r=(n.f&Ht)!==0||(n.f&oa)!==0;Ec(n,r?t:!1),n=a}var o=e.nodes&&e.nodes.t;if(o!==null)for(let i of o)(i.is_global||t)&&i.in()}}function Hr(e,t){if(e.nodes)for(var n=e.nodes.start,a=e.nodes.end;n!==null;){var r=n===a?null:Wt(n);t.append(n),n=r}}function El(e){ra=e}function Ut(e){Se=e}function Cn(e){xe=e}function Cc(e){Se!==null&&(gn===null?gn=[e]:gn.push(e))}function fv(e){hn=e}function Cl(e){Ga=e}function Ic(){return++Tc}function lr(e){var t=e.f;if(t&Lt)return!0;if(t&Et&&(e.f&=~Ja),(t&Bn)!==0){for(var n=e.deps,a=n.length,r=0;r<a;r++){var o=n[r];if(lr(o)&&vc(o),o.wv>e.wv)return!0}t&mn&&Qt===null&&wt(e,Rt)}return!1}function Rc(e,t,n=!0){var a=e.reactions;if(a!==null&&!(gn!=null&&gn.includes(e)))for(var r=0;r<a.length;r++){var o=a[r];o.f&Et?Rc(o,t,!1):t===o&&(n?wt(o,Lt):o.f&Rt&&wt(o,Bn),Wn(o))}}function Nc(e){var t,n=Jt,a=an,r=hn,o=Se,i=gn,l=Ye,u=En,d=Ga,h=e.f;Jt=null,an=0,hn=null,Se=h&(oa|Ha)?null:e,gn=null,Qa(e.ctx),En=!1,Ga=++Va,e.ac!==null&&(Ia(()=>{e.ac.abort(ws)}),e.ac=null);try{e.f|=si;var y=e.fn,m=y(),g=e.deps;if(Jt!==null){var k;if(Or(e,an),g!==null&&an>0)for(g.length=an+Jt.length,k=0;k<Jt.length;k++)g[an+k]=Jt[k];else e.deps=g=Jt;if(Qr()&&e.f&mn)for(k=an;k<g.length;k++)((t=g[k]).reactions??(t.reactions=[])).push(e)}else g!==null&&an<g.length&&(Or(e,an),g.length=an);if(sr()&&hn!==null&&!En&&g!==null&&!(e.f&(Et|Bn|Lt)))for(k=0;k<hn.length;k++)Rc(hn[k],e);if(o!==null&&o!==e){if(Va++,o.deps!==null)for(let w=0;w<a;w+=1)o.deps[w].rv=Va;if(n!==null)for(let w of n)w.rv=Va;hn!==null&&(r===null?r=hn:r.push(...hn))}return e.f&Pa&&(e.f^=Pa),m}catch(w){return yi(w)}finally{e.f^=si,Jt=n,an=a,hn=r,Se=o,gn=i,Qa(l),En=u,Ga=d}}function pv(e,t){let n=t.reactions;if(n!==null){var a=Dd.call(n,e);if(a!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[a]=n[r],n.pop())}}if(n===null&&t.f&Et&&(Jt===null||!Jt.includes(t))){var o=t;o.f&mn&&(o.f^=mn,o.f&=~Ja),wi(o),dc(o),Or(o,0)}}function Or(e,t){var n=e.deps;if(n!==null)for(var a=t;a<n.length;a++)pv(e,n[a])}function Zs(e){var t=e.f;if(!(t&Fn)){wt(e,Rt);var n=xe,a=qr;xe=e,qr=!0;try{t&(Tn|jl)?dv(e):xc(e),Sc(e);var r=Nc(e);e.teardown=typeof r=="function"?r:null,e.wv=Tc;var o}finally{qr=a,xe=n}}}async function ca(){await Promise.resolve(),bi()}function jc(){return Ta.ensure().settled()}function s(e){var t=e.f,n=(t&Et)!==0;if(Se!==null&&!En){var a=xe!==null&&(xe.f&Fn)!==0;if(!a&&!(gn!=null&&gn.includes(e))){var r=Se.deps;if(Se.f&si)e.rv<Va&&(e.rv=Va,Jt===null&&r!==null&&r[an]===e?an++:Jt===null?Jt=[e]:Jt.push(e));else{(Se.deps??(Se.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[Se]:o.includes(Se)||o.push(Se)}}}if(ra&&\$a.has(e))return \$a.get(e);if(n){var i=e;if(ra){var l=i.v;return(!(i.f&Rt)&&i.reactions!==null||Ac(i))&&(l=_i(i)),\$a.set(i,l),l}var u=(i.f&mn)===0&&!En&&Se!==null&&(qr||(Se.f&mn)!==0),d=i.deps===null;lr(i)&&(u&&(i.f|=mn),vc(i)),u&&!d&&qc(i)}if(Qt!=null&&Qt.has(e))return Qt.get(e);if(e.f&Pa)throw e.v;return e.v}function qc(e){if(e.deps!==null){e.f|=mn;for(let t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&Et&&!(t.f&mn)&&qc(t)}}function Ac(e){if(e.v===\$t)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(\$a.has(t)||t.f&Et&&Ac(t))return!0;return!1}function Vt(e){var t=En;try{return En=!0,e()}finally{En=t}}function Mc(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(sa in e)ui(e);else if(!Array.isArray(e))for(let t in e){let n=e[t];typeof n=="object"&&n&&sa in n&&ui(n)}}}function ui(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{ui(e[a],t)}catch{}let n=Lr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){let a=fi(n);for(let r in a){let o=a[r].get;if(o)try{o.call(e)}catch{}}}}}var Fd,Tl,Wd,Wa,di,at,aa,Ua,Vs,vi,Dd,_s,zr,Ya,fi,Bd,Vd,Lr,Sl,Dn,Et,Ar,er,jl,Tn,oa,Ha,Fr,mn,Rt,Lt,Bn,Kt,Fn,Xa,Ht,xl,Wr,Za,ql,Vn,Ja,si,pi,Pa,sa,Dr,Al,ws,tr,Yn,Ll,Ul,hi,Fl,Wl,Dl,Bl,Vl,Yl,Gl,Jl,Ql,Kl,Hl,Xl,mi,es,nr,ts,\$t,Zl,ce,be,Ca,Ye,Ba,tv,jr,Ce,Mr,Qt,sn,Vr,ri,Ks,Ys,Gs,xa,Fa,Js,Hs,Xs,Qs,Da,oi,ii,oc,nv,Ta,Un,ci,\$a,fc,bs,Si,xi,mc,gc,\$l,qr,ra,Se,En,xe,gn,Jt,an,hn,Tc,Va,Ga,st=Fe(()=>{"use strict";Fd=Object.defineProperty,Tl=e=>{throw TypeError(e)},Wd=(e,t,n)=>t in e?Fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wa=(e,t,n)=>Wd(e,typeof t!="symbol"?t+"":t,n),di=(e,t,n)=>t.has(e)||Tl("Cannot "+n),at=(e,t,n)=>(di(e,t,"read from private field"),n?n.call(e):t.get(e)),aa=(e,t,n)=>t.has(e)?Tl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ua=(e,t,n,a)=>(di(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),Vs=(e,t,n)=>(di(e,t,"access private method"),n),vi=Array.isArray,Dd=Array.prototype.indexOf,_s=Array.from,zr=Object.defineProperty,Ya=Object.getOwnPropertyDescriptor,fi=Object.getOwnPropertyDescriptors,Bd=Object.prototype,Vd=Array.prototype,Lr=Object.getPrototypeOf,Sl=Object.isExtensible;Dn=()=>{};Et=2,Ar=4,er=8,jl=1<<24,Tn=16,oa=32,Ha=64,Fr=128,mn=512,Rt=1024,Lt=2048,Bn=4096,Kt=8192,Fn=16384,Xa=32768,Ht=65536,xl=1<<17,Wr=1<<18,Za=1<<19,ql=1<<20,Vn=1<<25,Ja=32768,si=1<<21,pi=1<<22,Pa=1<<23,sa=Symbol("\$state"),Dr=Symbol("legacy props"),Al=Symbol(""),ws=new class extends Error{constructor(){super(...arguments),Wa(this,"name","StaleReactionError"),Wa(this,"message","The reaction that called \`getAbortSignal()\` was re-run or destroyed")}},tr=3,Yn=8;Ll=1,Ul=2,hi=4,Fl=8,Wl=16,Dl=1,Bl=2,Vl=4,Yl=8,Gl=16,Jl=1,Ql=2,Kl=4,Hl=1,Xl=2,mi="[",es="[!",nr="]",ts={},\$t=Symbol(),Zl="http://www.w3.org/1999/xhtml";ce=!1;Ca=!1;Ye=null;Ba=[];tv=-7169;jr=new Set,Ce=null,Mr=null,Qt=null,sn=[],Vr=null,ri=!1,Ks=!1,nv=class ic{constructor(){aa(this,Da),Wa(this,"committed",!1),Wa(this,"current",new Map),Wa(this,"previous",new Map),aa(this,Ys,new Set),aa(this,Gs,new Set),aa(this,xa,0),aa(this,Fa,0),aa(this,Js,null),aa(this,Hs,new Set),aa(this,Xs,new Set),Wa(this,"skipped_effects",new Set),Wa(this,"is_fork",!1),aa(this,Qs,!1)}is_deferred(){return this.is_fork||at(this,Fa)>0}process(t){var n;sn=[],this.apply();var a=[],r=[];for(let o of t)Vs(this,Da,oi).call(this,o,a,r);if(this.is_deferred())Vs(this,Da,ii).call(this,r),Vs(this,Da,ii).call(this,a);else{for(let o of at(this,Ys))o();at(this,Ys).clear(),at(this,xa)===0&&Vs(this,Da,oc).call(this),Mr=this,Ce=null,Pl(r),Pl(a),Mr=null,(n=at(this,Js))==null||n.resolve()}Qt=null}capture(t,n){n!==\$t&&!this.previous.has(t)&&this.previous.set(t,n),!(t.f&Pa)&&(this.current.set(t,t.v),Qt?.set(t,t.v))}activate(){Ce=this,this.apply()}deactivate(){Ce===this&&(Ce=null,Qt=null)}flush(){if(this.activate(),sn.length>0){if(lc(),Ce!==null&&Ce!==this)return}else at(this,xa)===0&&this.process([]);this.deactivate()}discard(){for(let t of at(this,Gs))t(this);at(this,Gs).clear()}increment(t){Ua(this,xa,at(this,xa)+1),t&&Ua(this,Fa,at(this,Fa)+1)}decrement(t){Ua(this,xa,at(this,xa)-1),t&&Ua(this,Fa,at(this,Fa)-1),!at(this,Qs)&&(Ua(this,Qs,!0),Nt(()=>{Ua(this,Qs,!1),this.is_deferred()?sn.length>0&&this.flush():this.revive()}))}revive(){for(let t of at(this,Hs))at(this,Xs).delete(t),wt(t,Lt),Wn(t);for(let t of at(this,Xs))wt(t,Bn),Wn(t);this.flush()}oncommit(t){at(this,Ys).add(t)}ondiscard(t){at(this,Gs).add(t)}settled(){return(at(this,Js)??Ua(this,Js,Nl())).promise}static ensure(){if(Ce===null){let t=Ce=new ic;jr.add(Ce),Ks||Nt(()=>{Ce===t&&t.flush()})}return Ce}apply(){}};Ys=new WeakMap,Gs=new WeakMap,xa=new WeakMap,Fa=new WeakMap,Js=new WeakMap,Hs=new WeakMap,Xs=new WeakMap,Qs=new WeakMap,Da=new WeakSet,oi=function(e,t,n){e.f^=Rt;for(var a=e.first,r=null;a!==null;){var o=a.f,i=(o&(oa|Ha))!==0,l=i&&(o&Rt)!==0,u=l||(o&Kt)!==0||this.skipped_effects.has(a);if(!u&&a.fn!==null){i?a.f^=Rt:r!==null&&o&(Ar|er|jl)?r.b.defer_effect(a):o&Ar?t.push(a):lr(a)&&(o&Tn&&at(this,Hs).add(a),Zs(a));var d=a.first;if(d!==null){a=d;continue}}var h=a.parent;for(a=a.next;a===null&&h!==null;)h===r&&(r=null),a=h.next,h=h.parent}},ii=function(e){for(var t=0;t<e.length;t+=1)ki(e[t],at(this,Hs),at(this,Xs))},oc=function(){var e;if(jr.size>1){this.previous.clear();var t=Qt,n=!0;for(let r of jr){if(r===this){n=!1;continue}let o=[];for(let[l,u]of this.current){if(r.current.has(l))if(n&&u!==r.current.get(l))r.current.set(l,u);else continue;o.push(l)}if(o.length===0)continue;let i=[...r.current.keys()].filter(l=>!this.current.has(l));if(i.length>0){var a=sn;sn=[];let l=new Set,u=new Map;for(let d of o)cc(d,i,l,u);if(sn.length>0){Ce=r,r.apply();for(let d of sn)Vs(e=r,Da,oi).call(e,d,[],[]);r.deactivate()}sn=a}}Ce=null,Qt=t}this.committed=!0,jr.delete(this)};Ta=nv;Un=null;ci=new Set,\$a=new Map,fc=!1;\$l=!1;qr=!1,ra=!1;Se=null,En=!1;xe=null;gn=null;Jt=null,an=0,hn=null;Tc=1,Va=0,Ga=Va});function Oc(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function rn(e){Ye===null&&Oc(),Ca&&Ye.l!==null?hv(Ye).m.push(e):Dt(()=>{let t=Vt(e);if(typeof t=="function")return t})}function Ps(e){Ye===null&&Oc(),rn(()=>()=>Vt(e))}function hv(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}var \$s=Fe(()=>{"use strict";st()});function Mi(e,t=Dn){let n=null,a=new Set;function r(l){if(gi(e,l)&&(e=l,n)){let u=!Es.length;for(let d of a)d[1](),Es.push(d,e);if(u){for(let d=0;d<Es.length;d+=2)Es[d][0](Es[d+1]);Es.length=0}}}function o(l){r(l(e))}function i(l,u=Dn){let d=[l,u];return a.add(d),a.size===1&&(n=t(r,o)||Dn),l(e),()=>{a.delete(d),a.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:i}}function gv(e,t){return e==="/"||t==="ignore"?e:t==="never"?e.endsWith("/")?e.slice(0,-1):e:t==="always"&&!e.endsWith("/")?e+"/":e}function yv(e){return e.split("%25").map(decodeURI).join("%25")}function wv(e){for(let t in e)e[t]=decodeURIComponent(e[t]);return e}function Ei({href:e}){return e.split("#")[0]}function kv(...e){let t=5381;for(let n of e)if(typeof n=="string"){let a=n.length;for(;a;)t=t*33^n.charCodeAt(--a)}else if(ArrayBuffer.isView(n)){let a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength),r=a.length;for(;r;)t=t*33^a[--r]}else throw new TypeError("value must be a string or TypedArray");return(t>>>0).toString(36)}function bv(e){let t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}function Sv(e,t){let n=Oi(e,t),a=document.querySelector(n);if(a!=null&&a.textContent){a.remove();let{body:r,...o}=JSON.parse(a.textContent),i=a.getAttribute("data-ttl");return i&&ur.set(n,{body:r,init:o,ttl:1e3*Number(i)}),a.getAttribute("data-b64")!==null&&(r=bv(r)),Promise.resolve(new Response(r,o))}return window.fetch(e,t)}function xv(e,t,n){if(ur.size>0){let a=Oi(e,n),r=ur.get(a);if(r){if(performance.now()<r.ttl&&["default","force-cache","only-if-cached",void 0].includes(n?.cache))return new Response(r.body,r.init);ur.delete(a)}}return window.fetch(t,n)}function Oi(e,t){let n=\`script[data-sveltekit-fetched][data-url=\${JSON.stringify(e instanceof Request?e.url:e)}]\`;if(t!=null&&t.headers||t!=null&&t.body){let a=[];t.headers&&a.push([...new Headers(t.headers)].join(",")),t.body&&(typeof t.body=="string"||ArrayBuffer.isView(t.body))&&a.push(t.body),n+=\`[data-hash="\${kv(...a)}"]\`}return n}function \$v(e){let t=[];return{pattern:e==="/"?/^\\/\$/:new RegExp(\`^\${Cv(e).map(n=>{let a=/^\\[\\.\\.\\.(\\w+)(?:=(\\w+))?\\]\$/.exec(n);if(a)return t.push({name:a[1],matcher:a[2],optional:!1,rest:!0,chained:!0}),"(?:/([^]*))?";let r=/^\\[\\[(\\w+)(?:=(\\w+))?\\]\\]\$/.exec(n);if(r)return t.push({name:r[1],matcher:r[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!n)return;let o=n.split(/\\[(.+?)\\](?!\\])/);return"/"+o.map((i,l)=>{if(l%2){if(i.startsWith("x+"))return Ci(String.fromCharCode(parseInt(i.slice(2),16)));if(i.startsWith("u+"))return Ci(String.fromCharCode(...i.slice(2).split("-").map(g=>parseInt(g,16))));let u=Pv.exec(i),[,d,h,y,m]=u;return t.push({name:y,matcher:m,optional:!!d,rest:!!h,chained:h?l===1&&o[0]==="":!1}),h?"([^]*?)":d?"([^/]*)?":"([^/]+?)"}return Ci(i)}).join("")}).join("")}/?\$\`),params:t}}function Ev(e){return e!==""&&!/^\\([^)]+\\)\$/.test(e)}function Cv(e){return e.slice(1).split("/").filter(Ev)}function Tv(e,t,n){let a={},r=e.slice(1),o=r.filter(l=>l!==void 0),i=0;for(let l=0;l<t.length;l+=1){let u=t[l],d=r[l-i];if(u.chained&&u.rest&&i&&(d=r.slice(l-i,l+1).filter(h=>h).join("/"),i=0),d===void 0){u.rest&&(a[u.name]="");continue}if(!u.matcher||n[u.matcher](d)){a[u.name]=d;let h=t[l+1],y=r[l+1];h&&!h.rest&&h.optional&&y&&u.chained&&(i=0),!h&&!y&&Object.keys(a).length===o.length&&(i=0);continue}if(u.optional&&u.chained){i++;continue}return}if(!i)return a}function Ci(e){return e.normalize().replace(/[[\\]]/g,"\\\\\$&").replace(/%/g,"%25").replace(/\\//g,"%2[Ff]").replace(/\\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^\${}()|\\\\]/g,"\\\\\$&")}function Iv({nodes:e,server_loads:t,dictionary:n,matchers:a}){let r=new Set(t);return Object.entries(n).map(([l,[u,d,h]])=>{let{pattern:y,params:m}=\$v(l),g={id:l,exec:k=>{let w=y.exec(k);if(w)return Tv(w,m,a)},errors:[1,...h||[]].map(k=>e[k]),layouts:[0,...d||[]].map(i),leaf:o(u)};return g.errors.length=g.layouts.length=Math.max(g.errors.length,g.layouts.length),g});function o(l){let u=l<0;return u&&(l=~l),[u,e[l]]}function i(l){return l===void 0?l:[r.has(l),e[l]]}}function Hc(e,t=JSON.parse){try{return t(sessionStorage[e])}catch{}}function zc(e,t,n=JSON.stringify){let a=n(t);try{sessionStorage[e]=a}catch{}}function zi(e){if(e instanceof URL)return e;let t=document.baseURI;if(!t){let n=document.getElementsByTagName("base");t=n.length?n[0].href:document.URL}return new URL(e,t)}function wo(){return{x:pageXOffset,y:pageYOffset}}function Cs(e,t){return e.getAttribute(\`data-sveltekit-\${t}\`)}function tu(e){let t=e.assignedSlot??e.parentNode;return t?.nodeType===11&&(t=t.host),t}function nu(e,t){for(;e&&e!==t;){if(e.nodeName.toUpperCase()==="A"&&e.hasAttribute("href"))return e;e=tu(e)}}function Ri(e,t,n){let a;try{if(a=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI),n&&a.hash.match(/^#[^/]/)){let l=location.hash.split("#")[1]||"/";a.hash=\`#\${l}\${a.hash}\`}}catch{}let r=e instanceof SVGAElement?e.target.baseVal:e.target,o=!a||!!r||ko(a,t,n)||(e.getAttribute("rel")||"").split(/\\s+/).includes("external"),i=a?.origin===yo&&e.hasAttribute("download");return{url:a,external:o,target:r,download:i}}function co(e){let t=null,n=null,a=null,r=null,o=null,i=null,l=e;for(;l&&l!==document.documentElement;)a===null&&(a=Cs(l,"preload-code")),r===null&&(r=Cs(l,"preload-data")),t===null&&(t=Cs(l,"keepfocus")),n===null&&(n=Cs(l,"noscroll")),o===null&&(o=Cs(l,"reload")),i===null&&(i=Cs(l,"replacestate")),l=tu(l);function u(d){switch(d){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:Fc[a??"off"],preload_data:Fc[r??"off"],keepfocus:u(t),noscroll:u(n),reload:u(o),replace_state:u(i)}}function Wc(e){let t=Mi(e),n=!0;function a(){n=!0,t.update(i=>i)}function r(i){n=!1,t.set(i)}function o(i){let l;return t.subscribe(u=>{(l===void 0||n&&u!==l)&&i(l=u)})}return{notify:a,set:r,subscribe:o}}function qv(){let{set:e,subscribe:t}=Mi(!1),n;async function a(){clearTimeout(n);try{let r=await fetch(\`\${Rv}/_app/version.json\`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!r.ok)return!1;let o=(await r.json()).version!==Nv;return o&&(e(!0),au.v(),clearTimeout(n)),o}catch{return!1}}return{subscribe:t,check:a}}function ko(e,t,n){return e.origin!==yo||!e.pathname.startsWith(t)?!0:n?e.pathname!==location.pathname:!1}function Mv(e){return e.filter(t=>t!=null)}function Li(e){return e instanceof vr||e instanceof pr?e.status:500}function Ov(e){return e instanceof pr?e.text:"Internal Error"}function Lv(e){Object.assign(Tt,e)}function Ui(e){os[e]=wo()}function Fv(e,t){let n=e+1;for(;os[n];)delete os[n],n+=1;for(n=t+1;gr[n];)delete gr[n],n+=1}function yr(e,t=!1){return t?location.replace(e.href):location.href=e.href,new Promise(()=>{})}async function ru(){if("serviceWorker"in navigator){let e=await navigator.serviceWorker.getRegistration(bn||"/");e&&await e.update()}}function Yc(){}function qi(){var e;(e=Yt?.fork)==null||e.then(t=>t?.discard()),Yt=null}async function Di(e,t,n){var a,r,o,i,l;(a=globalThis.__sveltekit_tvmpw2)!=null&&a.data&&globalThis.__sveltekit_tvmpw2.data,document.URL!==location.href&&(location.href=location.href),St=e,await((o=(r=e.hooks).init)==null?void 0:o.call(r)),Fi=Iv(e),ua=document.documentElement,ji=t,Ni=e.nodes[0],uo=e.nodes[1],Ni(),uo(),jt=(i=history.state)==null?void 0:i[Ts],kn=(l=history.state)==null?void 0:l[hr],jt||(jt=kn=Date.now(),history.replaceState({...history.state,[Ts]:jt,[hr]:kn},""));let u=os[jt];function d(){u&&(history.scrollRestoration="manual",scrollTo(u.x,u.y))}n?(d(),await tf(ji,n)):(await Is({type:"enter",url:zi(St.hash?sf(new URL(location.href)):location.href),replace_state:!0}),d()),ef()}function Dv(){vo.length=0,Wi=!1}function uu(e){fo.some(t=>t?.snapshot)&&(gr[e]=fo.map(t=>{var n;return(n=t?.snapshot)==null?void 0:n.capture()}))}function du(e){var t;(t=gr[e])==null||t.forEach((n,a)=>{var r,o;(o=(r=fo[a])==null?void 0:r.snapshot)==null||o.restore(n)})}function Qc(){Ui(jt),zc(Zc,os),uu(kn),zc(Xc,gr)}async function vu(e,t,n,a){let r;t.invalidateAll&&qi(),await Is({type:"goto",url:zi(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:n,nav_token:a,accept:()=>{t.invalidateAll&&(Wi=!0,r=[...Jc.keys()]),t.invalidate&&t.invalidate.forEach(Zv)}}),t.invalidateAll&&ca().then(ca).then(()=>{Jc.forEach(({resource:o},i)=>{var l;r!=null&&r.includes(i)&&((l=o.refresh)==null||l.call(o))})})}async function Bv(e){if(e.id!==Yt?.id){qi();let t={};ho.add(t),Yt={id:e.id,token:t,promise:pu({...e,preload:t}).then(n=>(ho.delete(t),n.type==="loaded"&&n.state.error&&qi(),n)),fork:null}}return Yt.promise}async function Ii(e){var t;let n=(t=await bo(e,!1))==null?void 0:t.route;n&&await Promise.all([...n.layouts,n.leaf].map(a=>a?.[1]()))}async function fu(e,t,n){var a;Ke=e.state;let r=document.querySelector("style[data-sveltekit]");if(r&&r.remove(),Object.assign(Tt,e.props.page),cu=new St.root({target:t,props:{...e.props,stores:Kn,components:fo},hydrate:n,sync:!1}),await Promise.resolve(),du(kn),n){let o={from:null,to:{params:Ke.params,route:{id:((a=Ke.route)==null?void 0:a.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};dr.forEach(i=>i(o))}po=!0}function mo({url:e,params:t,branch:n,status:a,error:r,route:o,form:i}){let l="never";if(bn&&(e.pathname===bn||e.pathname===bn+"/"))l="always";else for(let m of n)m?.slash!==void 0&&(l=m.slash);e.pathname=gv(e.pathname,l),e.search=e.search;let u={type:"loaded",state:{url:e,params:t,branch:n,error:r,route:o},props:{constructors:Mv(n).map(m=>m.node.component),page:Ji(Tt)}};i!==void 0&&(u.props.form=i);let d={},h=!Tt,y=0;for(let m=0;m<Math.max(n.length,Ke.branch.length);m+=1){let g=n[m],k=Ke.branch[m];g?.data!==k?.data&&(h=!0),g&&(d={...d,...g.data},h&&(u.props[\`data_\${y}\`]=d),y+=1)}return(!Ke.url||e.href!==Ke.url.href||Ke.error!==r||i!==void 0&&i!==Tt.form||h)&&(u.props.page={error:r,params:t,route:{id:o?.id??null},state:{},status:a,url:new URL(e),form:i??null,data:h?d:Tt.data}),u}async function Bi({loader:e,parent:t,url:n,params:a,route:r,server_data_node:o}){var i,l;let u=null,d={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},h=await e();return{node:h,loader:e,server:o,universal:(i=h.universal)!=null&&i.load?{type:"data",data:u,uses:d}:null,data:u??o?.data??null,slash:((l=h.universal)==null?void 0:l.trailingSlash)??o?.slash}}function Vv(e,t,n){let a=e instanceof Request?e.url:e,r=new URL(a,n);r.origin===n.origin&&(a=r.href.slice(n.origin.length));let o=po?xv(a,r.href,t):Sv(a,t);return{resolved:r,promise:o}}function Yv(e,t,n,a,r,o){if(Wi)return!0;if(!r)return!1;if(r.parent&&e||r.route&&t||r.url&&n)return!0;for(let i of r.search_params)if(a.has(i))return!0;for(let i of r.params)if(o[i]!==Ke.params[i])return!0;for(let i of r.dependencies)if(vo.some(l=>l(new URL(i))))return!0;return!1}function Vi(e,t){return e?.type==="data"?e:e?.type==="skip"?t??null:null}function Gv(e,t){if(!e)return new Set(t.searchParams.keys());let n=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(let a of n){let r=e.searchParams.getAll(a),o=t.searchParams.getAll(a);r.every(i=>o.includes(i))&&o.every(i=>r.includes(i))&&n.delete(a)}return n}function Jv({error:e,url:t,route:n,params:a}){return{type:"loaded",state:{error:e,url:t,route:n,params:a,branch:[]},props:{page:Ji(Tt),constructors:[]}}}async function pu({id:e,invalidating:t,url:n,params:a,route:r,preload:o}){if(Yt?.id===e)return ho.delete(Yt.token),Yt.promise;let{errors:i,layouts:l,leaf:u}=r,d=[...l,u];i.forEach(T=>T?.().catch(()=>{})),d.forEach(T=>T?.[1]().catch(()=>{}));let h=Ke.url?e!==go(Ke.url):!1,y=Ke.route?r.id!==Ke.route.id:!1,m=Gv(Ke.url,n),g=!1,k=d.map(async(T,E)=>{var N;if(!T)return;let x=Ke.branch[E];return T[1]===x?.loader&&!Yv(g,y,h,m,(N=x.universal)==null?void 0:N.uses,a)?x:(g=!0,Bi({loader:T[1],url:n,params:a,route:r,parent:async()=>{var j;let P={};for(let O=0;O<E;O+=1)Object.assign(P,(j=await k[O])==null?void 0:j.data);return P},server_data_node:Vi(T[0]?{type:"skip"}:null,T[0]?x?.server:void 0)}))});for(let T of k)T.catch(()=>{});let w=[];for(let T=0;T<d.length;T+=1)if(d[T])try{w.push(await k[T])}catch(E){if(E instanceof fr)return{type:"redirect",location:E.location};if(ho.has(o))return Jv({error:await kr(E,{params:a,url:n,route:{id:r.id}}),url:n,params:a,route:r});let N=Li(E),x;if(E instanceof vr)x=E.body;else{if(await Kn.updated.check())return await ru(),await yr(n);x=await kr(E,{params:a,url:n,route:{id:r.id}})}let j=await Qv(T,w,i);return j?mo({url:n,params:a,branch:w.slice(0,j.idx).concat(j.node),status:N,error:x,route:r}):await mu(n,{id:r.id},x,N)}else w.push(void 0);return mo({url:n,params:a,branch:w,status:200,error:null,route:r,form:t?void 0:null})}async function Qv(e,t,n){for(;e--;)if(n[e]){let a=e;for(;!t[a];)a-=1;try{return{idx:a+1,node:{node:await n[e](),loader:n[e],data:{},server:null,universal:null}}}catch{continue}}}async function Yi({status:e,error:t,url:n,route:a}){let r={},o=null;try{let i=await Bi({loader:Ni,url:n,params:r,route:a,parent:()=>Promise.resolve({}),server_data_node:Vi(o)}),l={node:await uo(),loader:uo,universal:null,server:null,data:null};return mo({url:n,params:r,branch:[i,l],status:e,error:t,route:null})}catch(i){if(i instanceof fr)return vu(new URL(i.location,location.href),{},0);throw i}}async function Kv(e){let t=e.href;if(lo.has(t))return lo.get(t);let n;try{let a=(async()=>{let r=await St.hooks.reroute({url:new URL(e),fetch:async(o,i)=>Vv(o,i,e).promise})??e;if(typeof r=="string"){let o=new URL(e);St.hash?o.hash=r:o.pathname=r,r=o}return r})();lo.set(t,a),n=await a}catch{lo.delete(t);return}return n}async function bo(e,t){if(e&&!ko(e,bn,St.hash)){let n=await Kv(e);if(!n)return;let a=Hv(n);for(let r of Fi){let o=r.exec(a);if(o)return{id:go(e),invalidating:t,route:r,params:wv(o),url:e}}}}function Hv(e){return yv(St.hash?e.hash.replace(/^#/,"").replace(/[?#].+/,""):e.pathname.slice(bn.length))||"/"}function go(e){return(St.hash?e.hash.replace(/^#/,""):e.pathname)+e.search}function hu({url:e,type:t,intent:n,delta:a,event:r}){let o=!1,i=Gi(Ke,n,e,t);a!==void 0&&(i.navigation.delta=a),r!==void 0&&(i.navigation.event=r);let l={...i.navigation,cancel:()=>{o=!0,i.reject(new Error("navigation cancelled"))}};return wr||ou.forEach(u=>u(l)),o?null:i}async function Is({type:e,url:t,popped:n,keepfocus:a,noscroll:r,replace_state:o,state:i={},redirect_count:l=0,nav_token:u={},accept:d=Yc,block:h=Yc,event:y}){var m;let g=rs;rs=u;let k=await bo(t,!1),w=e==="enter"?Gi(Ke,k,t,e):hu({url:t,type:e,delta:n?.delta,intent:k,event:y});if(!w){h(),rs===u&&(rs=g);return}let T=jt,E=kn;d(),wr=!0,po&&w.navigation.type!=="enter"&&Kn.navigating.set(mr.current=w.navigation);let N=k&&await pu(k);if(!N){if(ko(t,bn,St.hash))return await yr(t,o);N=await mu(t,{id:null},await kr(new pr(404,"Not Found",\`Not found: \${t.pathname}\`),{url:t,params:{},route:{id:null}}),404,o)}if(t=k?.url||t,rs!==u)return w.reject(new Error("navigation aborted")),!1;if(N.type==="redirect"){if(l<20){await Is({type:e,url:new URL(N.location,t),popped:n,keepfocus:a,noscroll:r,replace_state:o,state:i,redirect_count:l+1,nav_token:u}),w.fulfil(void 0);return}N=await Yi({status:500,error:await kr(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}})}else N.props.page.status>=400&&await Kn.updated.check()&&(await ru(),await yr(t,o));if(Dv(),Ui(T),uu(E),N.props.page.url.pathname!==t.pathname&&(t.pathname=N.props.page.url.pathname),i=n?n.state:i,!n){let z=o?0:1,_={[Ts]:jt+=z,[hr]:kn+=z,[eu]:i};(o?history.replaceState:history.pushState).call(history,_,"",t),o||Fv(jt,kn)}let x=k&&Yt?.id===k.id?Yt.fork:null;Yt=null,N.props.page.state=i;let j;if(po){let z=(await Promise.all(Array.from(Wv,C=>C(w.navigation)))).filter(C=>typeof C=="function");if(z.length>0){let C=function(){z.forEach(B=>{dr.delete(B)})};z.push(C),z.forEach(B=>{dr.add(B)})}Ke=N.state,N.props.page&&(N.props.page.url=t);let _=x&&await x;_?j=_.commit():(cu.\$set(N.props),Lv(N.props.page),j=(m=jc)==null?void 0:m()),lu=!0}else await fu(N,ji,!1);let{activeElement:P}=document;await j,await ca(),await ca();let O=n?n.scroll:r?wo():null;if(Gc){let z=t.hash&&document.getElementById(gu(t));if(O)scrollTo(O.x,O.y);else if(z){z.scrollIntoView();let{top:_,left:C}=z.getBoundingClientRect();O={x:pageXOffset+C,y:pageYOffset+_}}else scrollTo(0,0)}let Y=document.activeElement!==P&&document.activeElement!==document.body;!a&&!Y&&af(t,O),Gc=!0,N.props.page&&Object.assign(Tt,N.props.page),wr=!1,e==="popstate"&&du(kn),w.fulfil(void 0),dr.forEach(z=>z(w.navigation)),Kn.navigating.set(mr.current=null)}async function mu(e,t,n,a,r){return e.origin===yo&&e.pathname===location.pathname&&!iu?await Yi({status:a,error:n,url:e,route:t}):await yr(e,r)}function Xv(){let e,t={element:void 0,href:void 0},n;ua.addEventListener("mousemove",l=>{let u=l.target;clearTimeout(e),e=setTimeout(()=>{o(u,ss.hover)},20)});function a(l){l.defaultPrevented||o(l.composedPath()[0],ss.tap)}ua.addEventListener("mousedown",a),ua.addEventListener("touchstart",a,{passive:!0});let r=new IntersectionObserver(l=>{for(let u of l)u.isIntersecting&&(Ii(new URL(u.target.href)),r.unobserve(u.target))},{threshold:0});async function o(l,u){let d=nu(l,ua),h=d===t.element&&d?.href===t.href&&u>=n;if(!d||h)return;let{url:y,external:m,download:g}=Ri(d,bn,St.hash);if(m||g)return;let k=co(d),w=y&&go(Ke.url)===go(y);if(!(k.reload||w))if(u<=k.preload_data){t={element:d,href:d.href},n=ss.tap;let T=await bo(y,!1);if(!T)return;Bv(T)}else u<=k.preload_code&&(t={element:d,href:d.href},n=u,Ii(y))}function i(){r.disconnect();for(let l of ua.querySelectorAll("a")){let{url:u,external:d,download:h}=Ri(l,bn,St.hash);if(d||h)continue;let y=co(l);y.reload||(y.preload_code===ss.viewport&&r.observe(l),y.preload_code===ss.eager&&Ii(u))}}dr.add(i),i()}function kr(e,t){if(e instanceof vr)return e.body;let n=Li(e),a=Ov(e);return St.hooks.handleError({error:e,event:t,status:n,message:a})??{message:a}}function _o(e,t={}){return e=new URL(zi(e)),e.origin!==yo?Promise.reject(new Error("goto: invalid URL")):vu(e,t,0)}function Zv(e){if(typeof e=="function")vo.push(e);else{let{href:t}=new URL(e,location.href);vo.push(n=>n.href===t)}}function ef(){var e;history.scrollRestoration="manual",addEventListener("beforeunload",n=>{let a=!1;if(Qc(),!wr){let r=Gi(Ke,void 0,null,"leave"),o={...r.navigation,cancel:()=>{a=!0,r.reject(new Error("navigation cancelled"))}};ou.forEach(i=>i(o))}a?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Qc()}),(e=navigator.connection)!=null&&e.saveData||Xv(),ua.addEventListener("click",async n=>{if(n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;let a=nu(n.composedPath()[0],ua);if(!a)return;let{url:r,external:o,target:i,download:l}=Ri(a,bn,St.hash);if(!r)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;let u=co(a);if(!(a instanceof SVGAElement)&&r.protocol!==location.protocol&&!(r.protocol==="https:"||r.protocol==="http:")||l)return;let[d,h]=(St.hash?r.hash.replace(/^#/,""):r.href).split("#"),y=d===Ei(location);if(o||u.reload&&(!y||!h)){hu({url:r,type:"link",event:n})?wr=!0:n.preventDefault();return}if(h!==void 0&&y){let[,m]=Ke.url.href.split("#");if(m===h){if(n.preventDefault(),h===""||h==="top"&&a.ownerDocument.getElementById("top")===null)scrollTo({top:0});else{let g=a.ownerDocument.getElementById(decodeURIComponent(h));g&&(g.scrollIntoView(),g.focus())}return}if(cr=!0,Ui(jt),t(r),!u.replace_state)return;cr=!1}n.preventDefault(),await new Promise(m=>{requestAnimationFrame(()=>{setTimeout(m,0)}),setTimeout(m,100)}),await Is({type:"link",url:r,keepfocus:u.keepfocus,noscroll:u.noscroll,replace_state:u.replace_state??r.href===location.href,event:n})}),ua.addEventListener("submit",n=>{if(n.defaultPrevented)return;let a=HTMLFormElement.prototype.cloneNode.call(n.target),r=n.submitter;if((r?.formTarget||a.target)==="_blank"||(r?.formMethod||a.method)!=="get")return;let o=new URL(r?.hasAttribute("formaction")&&r?.formAction||a.action);if(ko(o,bn,!1))return;let i=n.target,l=co(i);if(l.reload)return;n.preventDefault(),n.stopPropagation();let u=new FormData(i,r);o.search=new URLSearchParams(u).toString(),Is({type:"form",url:o,keepfocus:l.keepfocus,noscroll:l.noscroll,replace_state:l.replace_state??o.href===location.href,event:n})}),addEventListener("popstate",async n=>{var a;if(!Ai){if((a=n.state)!=null&&a[Ts]){let r=n.state[Ts];if(rs={},r===jt)return;let o=os[r],i=n.state[eu]??{},l=new URL(n.state[jv]??location.href),u=n.state[hr],d=Ke.url?Ei(location)===Ei(Ke.url):!1;if(u===kn&&(lu||d)){i!==Tt.state&&(Tt.state=i),t(l),os[jt]=wo(),o&&scrollTo(o.x,o.y),jt=r;return}let h=r-jt;await Is({type:"popstate",url:l,popped:{state:i,scroll:o,delta:h},accept:()=>{jt=r,kn=u},block:()=>{history.go(-h)},nav_token:rs,event:n})}else if(!cr){let r=new URL(location.href);t(r),St.hash&&location.reload()}}}),addEventListener("hashchange",()=>{cr&&(cr=!1,history.replaceState({...history.state,[Ts]:++jt,[hr]:kn},"",location.href))});for(let n of document.querySelectorAll("link"))Uv.has(n.rel)&&(n.href=n.href);addEventListener("pageshow",n=>{n.persisted&&Kn.navigating.set(mr.current=null)});function t(n){Ke.url=Tt.url=n,Kn.page.set(Ji(Tt)),Kn.page.notify()}}async function tf(e,{status:t=200,error:n,node_ids:a,params:r,route:o,server_route:i,data:l,form:u}){iu=!0;let d=new URL(location.href),h;({params:r={},route:o={id:null}}=await bo(d,!1)||{}),h=Fi.find(({id:g})=>g===o.id);let y,m=!0;try{let g=a.map(async(w,T)=>{let E=l[T];return E!=null&&E.uses&&(E.uses=nf(E.uses)),Bi({loader:St.nodes[w],url:d,params:r,route:o,parent:async()=>{let N={};for(let x=0;x<T;x+=1)Object.assign(N,(await g[x]).data);return N},server_data_node:Vi(E)})}),k=await Promise.all(g);if(h){let w=h.layouts;for(let T=0;T<w.length;T++)w[T]||k.splice(T,0,void 0)}y=mo({url:d,params:r,branch:k,status:t,error:n,form:u,route:h??null})}catch(g){if(g instanceof fr){await yr(new URL(g.location,location.href));return}y=await Yi({status:Li(g),error:await kr(g,{url:d,params:r,route:o}),url:d,route:o}),e.textContent="",m=!1}y.props.page&&(y.props.page.state={}),await fu(y,e,m)}function nf(e){return{dependencies:new Set(e?.dependencies??[]),params:new Set(e?.params??[]),parent:!!(e!=null&&e.parent),route:!!(e!=null&&e.route),url:!!(e!=null&&e.url),search_params:new Set(e?.search_params??[])}}function af(e,t=null){let n=document.querySelector("[autofocus]");if(n)n.focus();else{let a=gu(e);if(a&&document.getElementById(a)){let{x:o,y:i}=t??wo();setTimeout(()=>{let l=history.state;Ai=!0,location.replace(\`#\${a}\`),St.hash&&location.replace(e.hash),history.replaceState(l,"",e.hash),scrollTo(o,i),Ai=!1})}else{let o=document.body,i=o.getAttribute("tabindex");o.tabIndex=-1,o.focus({preventScroll:!0,focusVisible:!1}),i!==null?o.setAttribute("tabindex",i):o.removeAttribute("tabindex")}let r=getSelection();if(r&&r.type!=="None"){let o=[];for(let i=0;i<r.rangeCount;i+=1)o.push(r.getRangeAt(i));setTimeout(()=>{if(r.rangeCount===o.length){for(let i=0;i<r.rangeCount;i+=1){let l=o[i],u=r.getRangeAt(i);if(l.commonAncestorContainer!==u.commonAncestorContainer||l.startContainer!==u.startContainer||l.endContainer!==u.endContainer||l.startOffset!==u.startOffset||l.endOffset!==u.endOffset)return}r.removeAllRanges()}})}}}function Gi(e,t,n,a){var r,o;let i,l,u=new Promise((d,h)=>{i=d,l=h});return u.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:((r=e.route)==null?void 0:r.id)??null},url:e.url},to:n&&{params:t?.params??null,route:{id:((o=t?.route)==null?void 0:o.id)??null},url:n},willUnload:!t,type:a,complete:u},fulfil:i,reject:l}}function Ji(e){return{data:e.data,error:e.error,form:e.form,params:e.params,route:e.route,state:e.state,status:e.status,url:e.url}}function sf(e){let t=new URL(e);return t.hash=decodeURIComponent(e.hash),t}function gu(e){let t;if(St.hash){let[,,n]=e.hash.split("#",3);t=n??""}else t=e.hash.slice(1);return decodeURIComponent(t)}var Kc,mv,ht,Qn,Es,vr,fr,pr,_v,ur,Pv,Lc,bn,Uc,Rv,Nv,Xc,Zc,eu,jv,Ts,hr,ss,yo,Fc,au,su,Av,Tt,mr,Ti,zv,Xr,Zr,eo,to,no,ao,so,ro,Dc,oo,Bc,io,Vc,Uv,os,gr,Kn,Fi,Ni,uo,ua,ji,St,vo,fo,Yt,lo,ou,Wv,dr,Ke,iu,po,Gc,wr,cr,lu,Wi,cu,jt,kn,rs,ho,Jc,Ai,So=Fe(()=>{"use strict";st();\$s();Kc=e=>{throw TypeError(e)},mv=(e,t,n)=>t.has(e)||Kc("Cannot "+n),ht=(e,t,n)=>(mv(e,t,"read from private field"),n?n.call(e):t.get(e)),Qn=(e,t,n)=>t.has(e)?Kc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Es=[];vr=class{constructor(t,n){this.status=t,typeof n=="string"?this.body={message:n}:n?this.body=n:this.body={message:\`Error: \${t}\`}}toString(){return JSON.stringify(this.body)}},fr=class{constructor(t,n){this.status=t,this.location=n}},pr=class extends Error{constructor(t,n,a){super(a),this.status=t,this.text=n}};new URL("sveltekit-internal://");new TextEncoder;new TextDecoder;_v=window.fetch;window.fetch=(e,t)=>((e instanceof Request?e.method:t?.method||"GET")!=="GET"&&ur.delete(Oi(e)),_v(e,t));ur=new Map;Pv=/^(\\[)?(\\.\\.\\.)?(\\w+)(?:=(\\w+))?(\\])?\$/;bn=((Lc=globalThis.__sveltekit_tvmpw2)==null?void 0:Lc.base)??"",Rv=((Uc=globalThis.__sveltekit_tvmpw2)==null?void 0:Uc.assets)??bn??"",Nv="1769772661728",Xc="sveltekit:snapshot",Zc="sveltekit:scroll",eu="sveltekit:states",jv="sveltekit:pageurl",Ts="sveltekit:history",hr="sveltekit:navigation",ss={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},yo=location.origin;Fc={...ss,"":ss.hover};au={v:()=>{}};su=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...su];Av=new Set([...su]);[...Av];zv=rn.toString().includes("\$\$")||/function \\w+\\(\\) \\{\\}/.test(rn.toString());zv?(Tt={data:{},form:null,error:null,params:{},route:{id:null},state:{},status:-1,url:new URL("https://example.com")},mr={current:null},Ti={current:!1}):(Tt=new(Dc=class{constructor(){Qn(this,Xr,\$({})),Qn(this,Zr,\$(null)),Qn(this,eo,\$(null)),Qn(this,to,\$({})),Qn(this,no,\$({id:null})),Qn(this,ao,\$({})),Qn(this,so,\$(-1)),Qn(this,ro,\$(new URL("https://example.com")))}get data(){return s(ht(this,Xr))}set data(e){c(ht(this,Xr),e)}get form(){return s(ht(this,Zr))}set form(e){c(ht(this,Zr),e)}get error(){return s(ht(this,eo))}set error(e){c(ht(this,eo),e)}get params(){return s(ht(this,to))}set params(e){c(ht(this,to),e)}get route(){return s(ht(this,no))}set route(e){c(ht(this,no),e)}get state(){return s(ht(this,ao))}set state(e){c(ht(this,ao),e)}get status(){return s(ht(this,so))}set status(e){c(ht(this,so),e)}get url(){return s(ht(this,ro))}set url(e){c(ht(this,ro),e)}},Xr=new WeakMap,Zr=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap,ao=new WeakMap,so=new WeakMap,ro=new WeakMap,Dc),mr=new(Bc=class{constructor(){Qn(this,oo,\$(null))}get current(){return s(ht(this,oo))}set current(e){c(ht(this,oo),e)}},oo=new WeakMap,Bc),Ti=new(Vc=class{constructor(){Qn(this,io,\$(!1))}get current(){return s(ht(this,io))}set current(e){c(ht(this,io),e)}},io=new WeakMap,Vc),au.v=()=>Ti.current=!0);Uv=new Set(["icon","shortcut icon","apple-touch-icon"]),os=Hc(Zc)??{},gr=Hc(Xc)??{},Kn={url:Wc({}),page:Wc({}),navigating:Mi(null),updated:qv()};vo=[],fo=[],Yt=null;lo=new Map,ou=new Set,Wv=new Set,dr=new Set,Ke={branch:[],error:null,url:null},iu=!1,po=!1,Gc=!0,wr=!1,cr=!1,lu=!1,Wi=!1,ho=new Set,Jc=new Map;Ai=!1});function cf(e){let t=0,n=la(0),a;return()=>{Qr()&&(s(n),xs(()=>(t===0&&(a=Vt(()=>e(()=>ks(n)))),t+=1,()=>{Nt(()=>{t-=1,t===0&&(a?.(),a=void 0,ks(n))})})))}}function df(e,t,n){new Xi(e,t,n)}function ff(e){return vf.includes(e)}function pf(e,t,n,a={}){function r(o){if(a.capture||_r.call(t,o),!o.cancelBubble)return Ia(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Nt(()=>{t.addEventListener(e,r,a)}):t.addEventListener(e,r,a),r}function ln(e,t,n,a,r){var o={capture:a,passive:r},i=pf(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&\$i(()=>{t.removeEventListener(e,i,o)})}function xt(e){for(var t=0;t<e.length;t++)xu.add(e[t]);for(var n of Zi)n(e)}function _r(e){var t,n=this,a=n.ownerDocument,r=e.type,o=((t=e.composedPath)==null?void 0:t.call(e))||[],i=o[0]||e.target;wu=e;var l=0,u=wu===e&&e.__root;if(u){var d=o.indexOf(u);if(d!==-1&&(n===document||n===window)){e.__root=n;return}var h=o.indexOf(n);if(h===-1)return;d<=h&&(l=d)}if(i=o[l]||e.target,i!==n){zr(e,"currentTarget",{configurable:!0,get(){return i||a}});var y=Se,m=xe;Ut(null),Cn(null);try{for(var g,k=[];i!==null;){var w=i.assignedSlot||i.parentNode||i.host||null;try{var T=i["__"+r];T!=null&&(!i.disabled||e.target===i)&&T.call(i,e)}catch(E){g?k.push(E):g=E}if(e.cancelBubble||w===n||w===null)break;i=w}if(g){for(let E of k)queueMicrotask(()=>{throw E});throw g}}finally{e.__root=n,delete e.currentTarget,Ut(y),Cn(m)}}}function hf(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ja(e,t){var n=xe;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function S(e,t){var n=(t&Hl)!==0,a=(t&Xl)!==0,r,o=!e.startsWith("<!>");return()=>{if(ce)return ja(be,null),be;r===void 0&&(r=hf(o?e:"<!>"+e),n||(r=yn(r)));var i=a||xi?document.importNode(r,!0):r.cloneNode(!0);if(n){var l=yn(i),u=i.lastChild;ja(l,u)}else ja(i,i);return i}}function Pr(e=""){if(!ce){var t=kt(e+"");return ja(t,t),t}var n=be;return n.nodeType!==tr&&(n.before(n=kt()),it(n)),ja(n,n),n}function ze(){if(ce)return ja(be,null),be;var e=document.createDocumentFragment(),t=document.createComment(""),n=kt();return e.append(t,n),ja(t,n),e}function b(e,t){if(ce){var n=xe;(!(n.f&Xa)||n.nodes.end===null)&&(n.nodes.end=be),ia();return}e!==null&&e.before(t)}function q(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function nl(e,t){return \$u(e,t)}function Pu(e,t){Gr(),t.intro=t.intro??!1;let n=t.target,a=ce,r=be;try{for(var o=yn(n);o&&(o.nodeType!==Yn||o.data!==mi);)o=Wt(o);if(!o)throw ts;Ft(!0),it(o);let i=\$u(e,{...t,anchor:o});return Ft(!1),i}catch(i){if(i instanceof Error&&i.message.split(\`
\`).some(l=>l.startsWith("https://svelte.dev/e/")))throw i;return i!==ts&&console.warn("Failed to hydrate: ",i),t.recover===!1&&Ml(),Gr(),or(n),Ft(!1),nl(e,t)}finally{Ft(a),it(r)}}function \$u(e,{target:t,anchor:n,props:a={},events:r,context:o,intro:i=!0}){Gr();var l=new Set,u=y=>{for(var m=0;m<y.length;m++){var g=y[m];if(!l.has(g)){l.add(g);var k=ff(g);t.addEventListener(g,_r,{passive:k});var w=Rs.get(g);w===void 0?(document.addEventListener(g,_r,{passive:k}),Rs.set(g,1)):Rs.set(g,w+1)}}};u(_s(xu)),Zi.add(u);var d=void 0,h=_c(()=>{var y=n??t.appendChild(kt());return df(y,{pending:()=>{}},m=>{if(o){Be({});var g=Ye;g.c=o}if(r&&(a.\$\$events=r),ce&&ja(m,null),Eo=i,d=e(m,a)||{},Eo=!0,ce&&(xe.nodes.end=be,be===null||be.nodeType!==Yn||be.data!==nr))throw ar(),ts;o&&Ve()}),()=>{var m;for(var g of l){t.removeEventListener(g,_r);var k=Rs.get(g);--k===0?(document.removeEventListener(g,_r),Rs.delete(g)):Rs.set(g,k)}Zi.delete(u),y!==n&&((m=y.parentNode)==null||m.removeChild(y))}});return el.set(d,h),d}function Eu(e,t){let n=el.get(e);return n?(el.delete(e),n(t)):Promise.resolve()}var of,bu,lf,yu,tl,V,bt,Oe,_n,uf,Sn,xo,va,js,fa,In,on,da,Ra,ls,is,pa,br,Ns,Sr,xr,Na,Qi,Xt,_u,Su,Ki,Po,\$o,Hi,Xi,vf,xu,Zi,wu,Eo,Rs,el,mf,ku,qt=Fe(()=>{"use strict";st();of=Object.defineProperty,bu=e=>{throw TypeError(e)},lf=(e,t,n)=>t in e?of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yu=(e,t,n)=>lf(e,typeof t!="symbol"?t+"":t,n),tl=(e,t,n)=>t.has(e)||bu("Cannot "+n),V=(e,t,n)=>(tl(e,t,"read from private field"),n?n.call(e):t.get(e)),bt=(e,t,n)=>t.has(e)?bu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Oe=(e,t,n,a)=>(tl(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),_n=(e,t,n)=>(tl(e,t,"access private method"),n);uf=Ht|Za|Fr;Xi=class{constructor(t,n,a){bt(this,Xt),yu(this,"parent"),yu(this,"is_pending",!1),bt(this,Sn),bt(this,xo,ce?be:null),bt(this,va),bt(this,js),bt(this,fa),bt(this,In,null),bt(this,on,null),bt(this,da,null),bt(this,Ra,null),bt(this,ls,null),bt(this,is,0),bt(this,pa,0),bt(this,br,!1),bt(this,Ns,!1),bt(this,Sr,new Set),bt(this,xr,new Set),bt(this,Na,null),bt(this,Qi,cf(()=>(Oe(this,Na,la(V(this,is))),()=>{Oe(this,Na,null)}))),Oe(this,Sn,t),Oe(this,va,n),Oe(this,js,a),this.parent=xe.b,this.is_pending=!!V(this,va).pending,Oe(this,fa,wn(()=>{if(xe.b=this,ce){let o=V(this,xo);ia(),o.nodeType===Yn&&o.data===es?_n(this,Xt,Su).call(this):(_n(this,Xt,_u).call(this),V(this,pa)===0&&(this.is_pending=!1))}else{var r=_n(this,Xt,Ki).call(this);try{Oe(this,In,Bt(()=>a(r)))}catch(o){this.error(o)}V(this,pa)>0?_n(this,Xt,\$o).call(this):this.is_pending=!1}return()=>{var o;(o=V(this,ls))==null||o.remove()}},uf)),ce&&Oe(this,Sn,be)}defer_effect(t){ki(t,V(this,Sr),V(this,xr))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!V(this,va).pending}update_pending_count(t){_n(this,Xt,Hi).call(this,t),Oe(this,is,V(this,is)+t),!(!V(this,Na)||V(this,br))&&(Oe(this,br,!0),Nt(()=>{Oe(this,br,!1),V(this,Na)&&Ea(V(this,Na),V(this,is))}))}get_effect_pending(){return V(this,Qi).call(this),s(V(this,Na))}error(t){var n=V(this,va).onerror;let a=V(this,va).failed;if(V(this,Ns)||!n&&!a)throw t;V(this,In)&&(Ct(V(this,In)),Oe(this,In,null)),V(this,on)&&(Ct(V(this,on)),Oe(this,on,null)),V(this,da)&&(Ct(V(this,da)),Oe(this,da,null)),ce&&(it(V(this,xo)),pt(),it(ns()));var r=!1,o=!1;let i=()=>{if(r){ec();return}r=!0,o&&zl(),Ta.ensure(),Oe(this,is,0),V(this,da)!==null&&Jn(V(this,da),()=>{Oe(this,da,null)}),this.is_pending=this.has_pending_snippet(),Oe(this,In,_n(this,Xt,Po).call(this,()=>(Oe(this,Ns,!1),Bt(()=>V(this,js).call(this,V(this,Sn)))))),V(this,pa)>0?_n(this,Xt,\$o).call(this):this.is_pending=!1};var l=Se;try{Ut(null),o=!0,n?.(t,i),o=!1}catch(u){Ka(u,V(this,fa)&&V(this,fa).parent)}finally{Ut(l)}a&&Nt(()=>{Oe(this,da,_n(this,Xt,Po).call(this,()=>{Ta.ensure(),Oe(this,Ns,!0);try{return Bt(()=>{a(V(this,Sn),()=>t,()=>i)})}catch(u){return Ka(u,V(this,fa).parent),null}finally{Oe(this,Ns,!1)}}))})}};Sn=new WeakMap,xo=new WeakMap,va=new WeakMap,js=new WeakMap,fa=new WeakMap,In=new WeakMap,on=new WeakMap,da=new WeakMap,Ra=new WeakMap,ls=new WeakMap,is=new WeakMap,pa=new WeakMap,br=new WeakMap,Ns=new WeakMap,Sr=new WeakMap,xr=new WeakMap,Na=new WeakMap,Qi=new WeakMap,Xt=new WeakSet,_u=function(){try{Oe(this,In,Bt(()=>V(this,js).call(this,V(this,Sn))))}catch(e){this.error(e)}},Su=function(){let e=V(this,va).pending;e&&(Oe(this,on,Bt(()=>e(V(this,Sn)))),Nt(()=>{var t=_n(this,Xt,Ki).call(this);Oe(this,In,_n(this,Xt,Po).call(this,()=>(Ta.ensure(),Bt(()=>V(this,js).call(this,t))))),V(this,pa)>0?_n(this,Xt,\$o).call(this):(Jn(V(this,on),()=>{Oe(this,on,null)}),this.is_pending=!1)}))},Ki=function(){var e=V(this,Sn);return this.is_pending&&(Oe(this,ls,kt()),V(this,Sn).before(V(this,ls)),e=V(this,ls)),e},Po=function(e){var t=xe,n=Se,a=Ye;Cn(V(this,fa)),Ut(V(this,fa)),Qa(V(this,fa).ctx);try{return e()}catch(r){return yi(r),null}finally{Cn(t),Ut(n),Qa(a)}},\$o=function(){let e=V(this,va).pending;V(this,In)!==null&&(Oe(this,Ra,document.createDocumentFragment()),V(this,Ra).append(V(this,ls)),Hr(V(this,In),V(this,Ra))),V(this,on)===null&&Oe(this,on,Bt(()=>e(V(this,Sn))))},Hi=function(e){var t;if(!this.has_pending_snippet()){this.parent&&_n(t=this.parent,Xt,Hi).call(t,e);return}if(Oe(this,pa,V(this,pa)+e),V(this,pa)===0){this.is_pending=!1;for(let n of V(this,Sr))wt(n,Lt),Wn(n);for(let n of V(this,xr))wt(n,Bn),Wn(n);V(this,Sr).clear(),V(this,xr).clear(),V(this,on)&&Jn(V(this,on),()=>{Oe(this,on,null)}),V(this,Ra)&&(V(this,Sn).before(V(this,Ra)),Oe(this,Ra,null))}};vf=["touchstart","touchmove"];xu=new Set,Zi=new Set;wu=null;Eo=!0;Rs=new Map;el=new WeakMap;mf="5";typeof window<"u"&&((ku=window.__svelte??(window.__svelte={})).v??(ku.v=new Set)).add(mf)});var gf,Cu,yf,wf,Tu,Ne,cs,kf,Hn,ha,xn,qs,Co,To,al,qa,Io=Fe(()=>{"use strict";st();gf=Object.defineProperty,Cu=e=>{throw TypeError(e)},yf=(e,t,n)=>t in e?gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wf=(e,t,n)=>yf(e,typeof t!="symbol"?t+"":t,n),Tu=(e,t,n)=>t.has(e)||Cu("Cannot "+n),Ne=(e,t,n)=>(Tu(e,t,"read from private field"),n?n.call(e):t.get(e)),cs=(e,t,n)=>t.has(e)?Cu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),kf=(e,t,n,a)=>(Tu(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),qa=class{constructor(t,n=!0){wf(this,"anchor"),cs(this,Hn,new Map),cs(this,ha,new Map),cs(this,xn,new Map),cs(this,qs,new Set),cs(this,Co,!0),cs(this,To,()=>{var a=Ce;if(Ne(this,Hn).has(a)){var r=Ne(this,Hn).get(a),o=Ne(this,ha).get(r);if(o)ir(o),Ne(this,qs).delete(r);else{var i=Ne(this,xn).get(r);i&&(Ne(this,ha).set(r,i.effect),Ne(this,xn).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),o=i.effect)}for(let[l,u]of Ne(this,Hn)){if(Ne(this,Hn).delete(l),l===a)break;let d=Ne(this,xn).get(u);d&&(Ct(d.effect),Ne(this,xn).delete(u))}for(let[l,u]of Ne(this,ha)){if(l===r||Ne(this,qs).has(l))continue;let d=()=>{if(Array.from(Ne(this,Hn).values()).includes(l)){var h=document.createDocumentFragment();Hr(u,h),h.append(kt()),Ne(this,xn).set(l,{effect:u,fragment:h})}else Ct(u);Ne(this,qs).delete(l),Ne(this,ha).delete(l)};Ne(this,Co)||!o?(Ne(this,qs).add(l),Jn(u,d,!1)):d()}}}),cs(this,al,a=>{Ne(this,Hn).delete(a);let r=Array.from(Ne(this,Hn).values());for(let[o,i]of Ne(this,xn))r.includes(o)||(Ct(i.effect),Ne(this,xn).delete(o))}),this.anchor=t,kf(this,Co,n)}ensure(t,n){var a=Ce,r=Jr();if(n&&!Ne(this,ha).has(t)&&!Ne(this,xn).has(t))if(r){var o=document.createDocumentFragment(),i=kt();o.append(i),Ne(this,xn).set(t,{effect:Bt(()=>n(i)),fragment:o})}else Ne(this,ha).set(t,Bt(()=>n(this.anchor)));if(Ne(this,Hn).set(a,t),r){for(let[l,u]of Ne(this,ha))l===t?a.skipped_effects.delete(u):a.skipped_effects.add(u);for(let[l,u]of Ne(this,xn))l===t?a.skipped_effects.delete(u.effect):a.skipped_effects.add(u.effect);a.oncommit(Ne(this,To)),a.ondiscard(Ne(this,al))}else ce&&(this.anchor=be),Ne(this,To).call(this)}};Hn=new WeakMap,ha=new WeakMap,xn=new WeakMap,qs=new WeakMap,Co=new WeakMap,To=new WeakMap,al=new WeakMap});function A(e,t,n=!1){ce&&ia();var a=new qa(e),r=n?Ht:0;function o(i,l){if(ce){let d=Br(e)===es;if(i===d){var u=ns();it(u),a.anchor=u,Ft(!1),a.ensure(i,l),Ft(!0);return}}a.ensure(i,l)}wn(()=>{var i=!1;t((l,u=!0)=>{i=!0,o(u,l)}),i||o(!1,null)},r)}var us=Fe(()=>{"use strict";st();Io()});function Iu(e,t){return e===t||e?.[sa]===t}function As(e={},t,n,a){return Ss(()=>{var r,o;return xs(()=>{r=o,o=[],Vt(()=>{e!==n(...o)&&(t(e,...o),r&&Iu(n(...r),e)&&t(null,...r))})}),()=>{Nt(()=>{o&&Iu(n(...o),e)&&t(null,...o)})}}),e}var sl=Fe(()=>{"use strict";st()});function bf(e){var t=Ro;try{return Ro=!1,[e(),Ro]}finally{Ro=t}}function At(e,t,n,a){var r,o=!Ca||(n&Bl)!==0,i=(n&Yl)!==0,l=(n&Gl)!==0,u=a,d=!0,h=()=>(d&&(d=!1,u=l?Vt(a):a),u),y;if(i){var m=sa in e||Dr in e;y=((r=Ya(e,t))==null?void 0:r.set)??(m&&t in e?j=>e[t]=j:void 0)}var g,k=!1;i?[g,k]=bf(()=>e[t]):g=e[t],g===void 0&&a!==void 0&&(g=h(),y&&(o&&Ol(),y(g)));var w;if(o?w=()=>{var j=e[t];return j===void 0?h():(d=!0,j)}:w=()=>{var j=e[t];return j!==void 0&&(u=void 0),j===void 0?u:j},o&&(n&Vl)===0)return w;if(y){var T=e.\$\$legacy;return function(j,P){return arguments.length>0?((!o||!P||T||k)&&y(P?w():j),j):w()}}var E=!1,N=(n&Dl?as:rr)(()=>(E=!1,w()));i&&s(N);var x=xe;return function(j,P){if(arguments.length>0){let O=P?s(N):o&&i?Ae(j):j;return c(N,O),E=!0,u!==void 0&&(u=O),j}return ra&&E||x.f&Fn?N.v:s(N)}}var Ro,No=Fe(()=>{"use strict";st();Ro=!1});var Rn=Fe(()=>{"use strict";st();ac()});function Ma(e,t){return t}function _f(e,t,n){for(var a=[],r=t.length,o,i=t.length,l=0;l<r;l++){let y=t[l];Jn(y,()=>{if(o){if(o.pending.delete(y),o.done.add(y),o.pending.size===0){var m=e.outrogroups;rl(_s(o.done)),m.delete(o),m.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var u=a.length===0&&n!==null;if(u){var d=n,h=d.parentNode;or(h),h.append(d),e.items.clear()}rl(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function rl(e,t=!0){for(var n=0;n<e.length;n++)Ct(e[n],t)}function lt(e,t,n,a,r,o=null){var i=e,l=new Map,u=(t&hi)!==0;if(u){var d=e;i=ce?it(yn(d)):d.appendChild(kt())}ce&&ia();var h=null,y=rr(()=>{var E=n();return vi(E)?E:E==null?[]:_s(E)}),m,g=!0;function k(){T.fallback=h,Sf(T,m,i,t,a),h!==null&&(m.length===0?h.f&Vn?(h.f^=Vn,\$r(h,null,i)):ir(h):Jn(h,()=>{h=null}))}var w=wn(()=>{m=s(y);var E=m.length;let N=!1;if(ce){var x=Br(i)===es;x!==(E===0)&&(i=ns(),it(i),Ft(!1),N=!0)}for(var j=new Set,P=Ce,O=Jr(),Y=0;Y<E;Y+=1){ce&&be.nodeType===Yn&&be.data===nr&&(i=be,N=!0,Ft(!1));var z=m[Y],_=a(z,Y),C=g?null:l.get(_);C?(C.v&&Ea(C.v,z),C.i&&Ea(C.i,Y),O&&P.skipped_effects.delete(C.e)):(C=xf(l,g?i:jo??(jo=kt()),z,_,Y,r,t,n),g||(C.e.f|=Vn),l.set(_,C)),j.add(_)}if(E===0&&o&&!h&&(g?h=Bt(()=>o(i)):(h=Bt(()=>o(jo??(jo=kt()))),h.f|=Vn)),ce&&E>0&&it(ns()),!g)if(O){for(let[B,K]of l)j.has(B)||P.skipped_effects.add(K.e);P.oncommit(k),P.ondiscard(()=>{})}else k();N&&Ft(!0),s(y)}),T={effect:w,items:l,outrogroups:null,fallback:h};g=!1,ce&&(i=be)}function Sf(e,t,n,a,r){var o,i,l,u,d,h,y,m,g,k=(a&Fl)!==0,w=t.length,T=e.items,E=e.effect.first,N,x=null,j,P=[],O=[],Y,z,_,C;if(k)for(C=0;C<w;C+=1)Y=t[C],z=r(Y,C),_=T.get(z).e,!(_.f&Vn)&&((i=(o=_.nodes)==null?void 0:o.a)==null||i.measure(),(j??(j=new Set)).add(_));for(C=0;C<w;C+=1){if(Y=t[C],z=r(Y,C),_=T.get(z).e,e.outrogroups!==null)for(let ge of e.outrogroups)ge.pending.delete(_),ge.done.delete(_);if(_.f&Vn)if(_.f^=Vn,_===E)\$r(_,null,n);else{var B=x?x.next:E;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),Aa(e,x,_),Aa(e,_,B),\$r(_,B,n),x=_,P=[],O=[],E=x.next;continue}if(_.f&Kt&&(ir(_),k&&((u=(l=_.nodes)==null?void 0:l.a)==null||u.unfix(),(j??(j=new Set)).delete(_))),_!==E){if(N!==void 0&&N.has(_)){if(P.length<O.length){var K=O[0],Z;x=K.prev;var te=P[0],R=P[P.length-1];for(Z=0;Z<P.length;Z+=1)\$r(P[Z],K,n);for(Z=0;Z<O.length;Z+=1)N.delete(O[Z]);Aa(e,te.prev,R.next),Aa(e,x,te),Aa(e,R,K),E=K,x=R,C-=1,P=[],O=[]}else N.delete(_),\$r(_,E,n),Aa(e,_.prev,_.next),Aa(e,_,x===null?e.effect.first:x.next),Aa(e,x,_),x=_;continue}for(P=[],O=[];E!==null&&E!==_;)(N??(N=new Set)).add(E),O.push(E),E=E.next;if(E===null)continue}!(_.f&Vn)&&P.push(_),x=_,E=_.next}if(e.outrogroups!==null){for(let ge of e.outrogroups)ge.pending.size===0&&(rl(_s(ge.done)),(d=e.outrogroups)==null||d.delete(ge));e.outrogroups.size===0&&(e.outrogroups=null)}if(E!==null||N!==void 0){var J=[];if(N!==void 0)for(_ of N)!(_.f&Kt)&&J.push(_);for(;E!==null;)!(E.f&Kt)&&E!==e.fallback&&J.push(E),E=E.next;var ne=J.length;if(ne>0){var re=a&hi&&w===0?n:null;if(k){for(C=0;C<ne;C+=1)(y=(h=J[C].nodes)==null?void 0:h.a)==null||y.measure();for(C=0;C<ne;C+=1)(g=(m=J[C].nodes)==null?void 0:m.a)==null||g.fix()}_f(e,J,re)}}k&&Nt(()=>{var ge,ue;if(j!==void 0)for(_ of j)(ue=(ge=_.nodes)==null?void 0:ge.a)==null||ue.apply()})}function xf(e,t,n,a,r,o,i,l){var u=i&Ll?i&Wl?la(n):Yr(n,!1,!1):null,d=i&Ul?la(r):null;return{v:u,i:d,e:Bt(()=>(o(t,u??n,d??r,l),()=>{e.delete(a)}))}}function \$r(e,t,n){if(e.nodes)for(var a=e.nodes.start,r=e.nodes.end,o=t&&!(t.f&Vn)?t.nodes.start:n;a!==null;){var i=Wt(a);if(o.before(a),a===r)return;a=i}}function Aa(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function qo(e,t="info",n=3e3){let a=Pf++;c(ds,[...s(ds),{message:e,type:t,id:a}],!0),setTimeout(()=>{c(ds,s(ds).filter(r=>r.id!==a),!0)},n)}function \$f(e,t=3e3){qo(e,"success",t)}function Ef(e,t=3e3){qo(e,"error",t)}function Cf(e,t=3e3){qo(e,"info",t)}function Tf(e){c(ds,s(ds).filter(t=>t.id!==e),!0)}var jo,ds,Pf,X,vs=Fe(()=>{"use strict";st();ds=\$(Ae([])),Pf=0;X={get toasts(){return s(ds)},show:qo,success:\$f,error:Ef,info:Cf,dismiss:Tf}});function If(e,t,n){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),n){for(var r in n)if(n[r])a=a?a+" "+r:r;else if(a.length)for(var o=r.length,i=0;(i=a.indexOf(r,i))>=0;){var l=i+o;(i===0||Ru.includes(a[i-1]))&&(l===a.length||Ru.includes(a[l]))?a=(i===0?"":a.substring(0,i))+a.substring(l+1):i=l}}return a===""?null:a}function We(e,t,n,a,r,o){var i=e.__className;if(ce||i!==n||i===void 0){var l=If(n,a,o);(!ce||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}else if(o&&r!==o)for(var u in o){var d=!!o[u];(r==null||d!==!!r[u])&&e.classList.toggle(u,d)}return o}var Ru,Ms=Fe(()=>{"use strict";st();Ru=[...\` 	
\\r\\f\\xA0\\v\\uFEFF\`]});function Ao(e=!1){let t=Ye,n=t.l.u;if(!n)return;let a=()=>Mc(t.s);if(e){let r=0,o={},i=as(()=>{let l=!1,u=t.s;for(let d in u)u[d]!==o[d]&&(o[d]=u[d],l=!0);return l&&r++,r});a=()=>s(i)}n.b.length&&Kr(()=>{Nu(t,a),Ur(n.b)}),Dt(()=>{let r=Vt(()=>n.m.map(Rl));return()=>{for(let o of r)typeof o=="function"&&o()}}),n.a.length&&Dt(()=>{Nu(t,a),Ur(n.a)})}function Nu(e,t){if(e.l.s)for(let n of e.l.s)s(n);t()}var ol=Fe(()=>{"use strict";st()});function Mo(e,t){Be(t,!1),Ao();var n=Nf();lt(n,5,()=>X.toasts,a=>a.id,(a,r)=>{var o=Rf(),i=f(o,!0);v(o),L(()=>{We(o,1,\`toast \${s(r).type??""}\`,"svelte-1cpok13"),q(i,s(r).message)}),b(a,o)}),v(n),b(e,n),Ve()}var Rf,Nf,il=Fe(()=>{"use strict";qt();Rn();st();vs();Ms();ol();Rf=S('<div role="alert"> </div>'),Nf=S('<div class="toast-container svelte-1cpok13"></div>')});var ju={};Ln(ju,{component:()=>zf,universal:()=>Mf});function jf(e,t,...n){var a=new qa(e);wn(()=>{let r=t()??null;a.ensure(r,r&&(o=>r(o,...n)))},Ht)}function zf(e,t){var n=Of(),a=se(n);jf(a,()=>t.children);var r=p(a,2);Mo(r,{}),b(e,n)}var qf,Af,Mf,Of,qu=Fe(()=>{"use strict";qt();st();Io();il();qf=!0,Af=!1,Mf=Object.freeze(Object.defineProperty({__proto__:null,prerender:qf,ssr:Af},Symbol.toStringTag,{value:"Module"})),Of=S("<!> <!>",1)});var Mu={};Ln(Mu,{component:()=>Ff});function Ff(e,t){Be(t,!1),Ao();var n=Uf(),a=se(n),r=f(a,!0);v(a);var o=p(a,2),i=f(o,!0);v(o),L(()=>{var l;q(r,Au.status),q(i,(l=Au.error)==null?void 0:l.message)}),b(e,n),Ve()}var Lf,Au,Uf,Ou=Fe(()=>{"use strict";qt();Rn();st();ol();So();Lf={get error(){return Tt.error},get status(){return Tt.status}};Kn.updated.check;Au=Lf,Uf=S("<h1> </h1> <p> </p>",1)});function He(e){if(ce){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Pt(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var r=e.checked;Pt(e,"checked",null),e.checked=r}}};e.__on_r=n,Nt(n),Pi()}}function Er(e,t){var n=Lu(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Pt(e,t,n,a){var r=Lu(e);ce&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=n)&&(t==="loading"&&(e[Al]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Bf(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Lu(e){return e.__attributes??(e.__attributes={[Wf]:e.nodeName.includes("-"),[Df]:e.namespaceURI===Zl})}function Bf(e){var t=e.getAttribute("is")||e.nodeName,n=zu.get(t);if(n)return n;zu.set(t,n=[]);for(var a,r=e,o=Element.prototype;o!==r;){a=fi(r);for(var i in a)a[i].set&&n.push(i);r=Lr(r)}return n}function rt(e,t,n=t){var a=new WeakSet;wc(e,"input",async r=>{var o=r?e.defaultValue:e.value;if(o=ll(e)?cl(o):o,n(o),Ce!==null&&a.add(Ce),await ca(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd,u=e.value.length;if(e.value=o??"",l!==null){var d=e.value.length;i===l&&l===u&&d>u?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=i,e.selectionEnd=Math.min(l,d))}}}),(ce&&e.defaultValue!==e.value||Vt(t)==null&&e.value)&&(n(ll(e)?cl(e.value):e.value),Ce!==null&&a.add(Ce)),xs(()=>{var r=t();if(e===document.activeElement){var o=Mr??Ce;if(a.has(o))return}ll(e)&&r===cl(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function ll(e){var t=e.type;return t==="number"||t==="range"}function cl(e){return e===""?null:+e}var Wf,Df,zu,Os=Fe(()=>{"use strict";st();Wf=Symbol("is custom element"),Df=Symbol("is html");zu=new Map});var Uu={};Ln(Uu,{component:()=>op});function Vf(e,t){let n=null,a=ce;var r;if(ce){n=be;for(var o=yn(document.head);o!==null&&(o.nodeType!==Yn||o.data!==e);)o=Wt(o);if(o===null)Ft(!1);else{var i=Wt(o);o.remove(),it(i)}}ce||(r=document.head.appendChild(kt()));try{wn(()=>t(r),Wr)}finally{a&&(Ft(!0),it(n))}}function op(e,t){Be(t,!0);let n=\$(""),a=\$("enter"),r=\$(""),o=\$(""),i=\$(""),l=\$(!1),u=\$(""),d=\$(Ae([])),h=\$(Ae([])),y=\$(!0),m=Qe(()=>s(h).filter(R=>!s(d).includes(R.roomId)).filter(R=>R.queueSize&&R.queueSize>0||R.nowPlaying));Dt(()=>{if(typeof localStorage<"u"){let R=localStorage.getItem("karaoke_recent_rooms");if(R)try{c(d,JSON.parse(R),!0)}catch{c(d,[],!0)}}}),Dt(()=>{g()});async function g(){try{let R=await(await fetch("/api/rooms/active")).json();c(h,R.rooms||[],!0)}catch{c(h,[],!0)}finally{c(y,!1)}}function k(R){let J=Date.now()-R,ne=Math.floor(J/6e4);if(ne<1)return"just now";if(ne<60)return\`\${ne}m ago\`;let re=Math.floor(ne/60);return re<24?\`\${re}h ago\`:\`\${Math.floor(re/24)}d ago\`}function w(R){if(typeof localStorage>"u")return;let J=s(d).filter(re=>re!==R);J.unshift(R);let ne=J.slice(0,5);localStorage.setItem("karaoke_recent_rooms",JSON.stringify(ne)),c(d,ne,!0)}function T(R){return R.toLowerCase().trim().replace(/\\s+/g,"-")}function E(R){return/^[a-z0-9][a-z0-9-]{0,28}[a-z0-9]\$|^[a-z0-9]{1,2}\$/.test(R)}async function N(){let R=T(s(n));if(!R){c(u,"Enter a room code");return}if(!E(R)){c(u,"Room code must be 2-30 characters (letters, numbers, hyphens)");return}if(new Set(["api","player","admin","shikashika","landing"]).has(R)){c(u,\`"\${R}" is reserved\`);return}c(l,!0),c(u,"");try{(await(await fetch(\`/api/room/check?room=\${encodeURIComponent(R)}\`)).json()).kind==="exists"?(w(R),_o(\`/\${R}\`)):(c(n,R,!0),c(a,"notFound"))}catch{c(u,"Could not check room. Try again.")}finally{c(l,!1)}}function x(){c(a,"createPin"),c(i,s(n).split("-").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "),!0)}async function j(){if(s(r).length!==6||!/^\\d{6}\$/.test(s(r))){c(u,"PIN must be 6 digits");return}if(s(r)!==s(o)){c(u,"PINs do not match");return}c(l,!0),c(u,"");try{let R=await(await fetch(\`/api/room/create?room=\${encodeURIComponent(s(n))}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomId:s(n),pin:s(r),displayName:s(i).trim()||s(n)})})).json();if(R.kind==="created"){if(w(s(n)),typeof sessionStorage<"u"){let J=await(await fetch(\`/api/admin/verify?room=\${encodeURIComponent(s(n))}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:s(r)})})).json();J.kind==="verified"&&sessionStorage.setItem(\`karaoke_admin_token_\${s(n)}\`,J.token)}X.success("Room created!"),_o(\`/\${s(n)}/admin\`)}else R.kind==="alreadyExists"?(c(u,"Room already exists"),c(a,"enter")):R.kind==="invalidRoomId"?c(u,R.reason,!0):R.kind==="invalidPin"?c(u,R.reason,!0):c(u,R.message||"Failed to create room",!0)}catch{c(u,"Could not create room. Try again.")}finally{c(l,!1)}}function P(){c(a,"enter"),c(r,""),c(o,""),c(u,"")}function O(R){R.key==="Enter"&&!s(l)&&(s(a)==="enter"?N():s(a)==="createPin"&&j())}function Y(R){w(R),_o(\`/\${R}\`)}var z=rp();Vf("1uha8ag",R=>{Ss(()=>{Si.title="Karaoke - Join a Room"})});var _=p(f(z),2),C=f(_);{var B=R=>{var J=Qf(),ne=se(J),re=p(f(ne),2);He(re),re.__keydown=O,v(ne);var ge=p(ne,2);ge.__click=N;var ue=f(ge,!0);v(ge);var ee=p(ge,2);{var Pe=de=>{var fe=Yf(),me=f(fe,!0);v(fe),L(()=>q(me,s(u))),b(de,fe)};A(ee,de=>{s(u)&&de(Pe)})}var he=p(ee,2);{var Te=de=>{var fe=Jf(),me=p(f(fe),2);lt(me,21,()=>s(d),Ma,(Ge,De)=>{var \$e=Gf();\$e.__click=()=>Y(s(De));var Ie=f(\$e,!0);v(\$e),L(()=>q(Ie,s(De))),b(Ge,\$e)}),v(me),v(fe),b(de,fe)};A(he,de=>{s(d).length>0&&de(Te)})}L(de=>{re.disabled=s(l),ge.disabled=de,q(ue,s(l)?"Checking...":"Go")},[()=>s(l)||!s(n).trim()]),rt(re,()=>s(n),de=>c(n,de)),b(R,J)},K=R=>{var J=ze(),ne=se(J);{var re=ue=>{var ee=Kf(),Pe=f(ee),he=p(f(Pe)),Te=f(he,!0);v(he),pt(),v(Pe);var de=p(Pe,2);de.__click=x;var fe=p(de,2);fe.__click=P,v(ee),L(()=>q(Te,s(n))),b(ue,ee)},ge=ue=>{var ee=ze(),Pe=se(ee);{var he=Te=>{var de=Xf(),fe=f(de),me=p(f(fe)),Ge=f(me,!0);v(me),pt(),v(fe);var De=p(fe,2),\$e=p(f(De),2);He(\$e),v(De);var Ie=p(De,2),U=p(f(Ie),2);He(U),U.__keydown=O,v(Ie);var Q=p(Ie,2),ye=p(f(Q),2);He(ye),ye.__keydown=O,v(Q);var Le=p(Q,2);Le.__click=j;var en=f(Le,!0);v(Le);var ct=p(Le,2);ct.__click=P;var It=p(ct,2);{var tn=tt=>{var un=Hf(),jn=f(un,!0);v(un),L(()=>q(jn,s(u))),b(tt,un)};A(It,tt=>{s(u)&&tt(tn)})}v(de),L(()=>{q(Ge,s(n)),Pt(\$e,"placeholder",s(n)),\$e.disabled=s(l),U.disabled=s(l),ye.disabled=s(l),Le.disabled=s(l)||s(r).length!==6,q(en,s(l)?"Creating...":"Create Room"),ct.disabled=s(l)}),rt(\$e,()=>s(i),tt=>c(i,tt)),rt(U,()=>s(r),tt=>c(r,tt)),rt(ye,()=>s(o),tt=>c(o,tt)),b(Te,de)};A(Pe,Te=>{s(a)==="createPin"&&Te(he)},!0)}b(ue,ee)};A(ne,ue=>{s(a)==="notFound"?ue(re):ue(ge,!1)},!0)}b(R,J)};A(C,R=>{s(a)==="enter"?R(B):R(K,!1)})}v(_);var Z=p(_,2);{var te=R=>{var J=sp(),ne=p(f(J),2);{var re=ue=>{var ee=Zf();b(ue,ee)},ge=ue=>{var ee=ap();lt(ee,21,()=>s(m),Ma,(Pe,he)=>{var Te=np();Te.__click=()=>Y(s(he).roomId);var de=f(Te),fe=f(de,!0);v(de);var me=p(de,2),Ge=f(me);{var De=ye=>{var Le=ep(),en=f(Le,!0);v(Le),L(ct=>{Pt(Le,"title",s(he).nowPlaying),q(en,ct)},[()=>s(he).nowPlaying.length>30?s(he).nowPlaying.slice(0,30)+"...":s(he).nowPlaying]),b(ye,Le)};A(Ge,ye=>{s(he).nowPlaying&&ye(De)})}var \$e=p(Ge,2);{var Ie=ye=>{var Le=tp(),en=f(Le);v(Le),L(()=>q(en,\`\${s(he).queueSize??""} waiting\`)),b(ye,Le)};A(\$e,ye=>{s(he).queueSize&&s(he).queueSize>0&&ye(Ie)})}var U=p(\$e,2),Q=f(U,!0);v(U),v(me),v(Te),L(ye=>{q(fe,s(he).roomId),q(Q,ye)},[()=>k(s(he).lastActivity)]),b(Pe,Te)}),v(ee),b(ue,ee)};A(ne,ue=>{s(y)?ue(re):ue(ge,!1)})}v(J),b(R,J)};A(Z,R=>{s(a)==="enter"&&(s(m).length>0||s(y))&&R(te)})}v(z),b(e,z),Ve()}var Yf,Gf,Jf,Qf,Kf,Hf,Xf,Zf,ep,tp,np,ap,sp,rp,Fu=Fe(()=>{"use strict";qt();st();us();vs();Os();So();Yf=S('<div class="error-msg svelte-1uha8ag"> </div>'),Gf=S('<button class="recent-btn svelte-1uha8ag"> </button>'),Jf=S('<div class="recent svelte-1uha8ag"><div class="recent-label svelte-1uha8ag">Recent rooms</div> <div class="recent-list svelte-1uha8ag"></div></div>'),Qf=S('<div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="roomCode">Room code</label> <input type="text" id="roomCode" placeholder="e.g. bobs-party" maxlength="30" autocomplete="off" autocapitalize="off" class="svelte-1uha8ag"/></div> <button class="btn svelte-1uha8ag"> </button> <!> <!>',1),Kf=S(\`<div class="not-found svelte-1uha8ag"><p class="not-found-msg svelte-1uha8ag">Room "<strong class="svelte-1uha8ag"> </strong>" doesn't exist yet.</p> <button class="btn svelte-1uha8ag">Create it</button> <button class="btn btn-secondary svelte-1uha8ag">Back</button></div>\`),Hf=S('<div class="error-msg svelte-1uha8ag"> </div>'),Xf=S('<div class="create-form svelte-1uha8ag"><p class="create-msg svelte-1uha8ag">Set an admin PIN for "<strong class="svelte-1uha8ag"> </strong>"</p> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="displayName">Display name (optional)</label> <input type="text" id="displayName" maxlength="50" class="svelte-1uha8ag"/></div> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="pin">Admin PIN (6 digits)</label> <input type="password" id="pin" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000" class="svelte-1uha8ag"/></div> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="pinConfirm">Confirm PIN</label> <input type="password" id="pinConfirm" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000" class="svelte-1uha8ag"/></div> <button class="btn svelte-1uha8ag"> </button> <button class="btn btn-secondary svelte-1uha8ag">Back</button> <!></div>'),Zf=S('<div class="active-loading svelte-1uha8ag">Loading...</div>'),ep=S('<span class="now-playing svelte-1uha8ag"> </span>'),tp=S('<span class="queue-count svelte-1uha8ag"> </span>'),np=S('<button class="active-room-btn svelte-1uha8ag"><span class="room-name svelte-1uha8ag"> </span> <span class="room-meta svelte-1uha8ag"><!> <!> <span class="last-active svelte-1uha8ag"> </span></span></button>'),ap=S('<div class="active-list svelte-1uha8ag"></div>'),sp=S('<div class="active-rooms svelte-1uha8ag"><div class="active-rooms-header svelte-1uha8ag"><span class="pulse-dot svelte-1uha8ag"></span> <span class="active-label svelte-1uha8ag">Happening Now</span></div> <!></div>'),rp=S('<div class="container landing svelte-1uha8ag"><header class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">Karaoke</h1> <p class="subtitle svelte-1uha8ag">Pick a room, pick a song, sing your heart out</p></header> <div class="card svelte-1uha8ag"><!></div> <!></div>');xt(["keydown","click"])});function Bu(){let e=ma.now();ma.tasks.forEach(t=>{t.c(e)||(ma.tasks.delete(t),t.f())}),ma.tasks.size!==0&&ma.tick(Bu)}function lp(e){let t;return ma.tasks.size===0&&ma.tick(Bu),{promise:new Promise(n=>{ma.tasks.add(t={c:e,f:n})}),abort(){ma.tasks.delete(t)}}}function Oo(e,t){Ia(()=>{e.dispatchEvent(new CustomEvent(t))})}function cp(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;let t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Wu(e){let t={},n=e.split(";");for(let a of n){let[r,o]=a.split(":");if(!r||o===void 0)break;let i=cp(r.trim());t[i]=o.trim()}return t}function Vu(e,t,n){var a=xe,r=a.nodes,o,i,l,u=null;r.a??(r.a={element:e,measure(){o=this.element.getBoundingClientRect()},apply(){if(l?.abort(),i=this.element.getBoundingClientRect(),o.left!==i.left||o.right!==i.right||o.top!==i.top||o.bottom!==i.bottom){let d=t()(this.element,{from:o,to:i},n?.());l=Uo(this.element,d,void 0,1,()=>{l?.abort(),l=void 0})}},fix(){if(!e.getAnimations().length){var{position:d,width:h,height:y}=getComputedStyle(e);if(d!=="absolute"&&d!=="fixed"){var m=e.style;u={position:m.position,width:m.width,height:m.height,transform:m.transform},m.position="absolute",m.width=h,m.height=y;var g=e.getBoundingClientRect();if(o.left!==g.left||o.top!==g.top){var k=\`translate(\${o.left-g.left}px, \${o.top-g.top}px)\`;m.transform=m.transform?\`\${m.transform} \${k}\`:k}}}},unfix(){if(u){var d=e.style;d.position=u.position,d.width=u.width,d.height=u.height,d.transform=u.transform}}}),r.a.element=e}function Fo(e,t,n,a){var r,o=(e&Jl)!==0,i=(e&Ql)!==0,l=o&&i,u=(e&Kl)!==0,d=l?"both":o?"in":"out",h,y=t.inert,m=t.style.overflow,g,k;function w(){return Ia(()=>h??(h=n()(t,a?.()??{},{direction:d})))}var T={is_global:u,in(){var j;if(t.inert=y,!o){k?.abort(),(j=k?.reset)==null||j.call(k);return}i||g==null||g.abort(),Oo(t,"introstart"),g=Uo(t,w(),k,1,()=>{Oo(t,"introend"),g?.abort(),g=h=void 0,t.style.overflow=m})},out(j){if(!i){j?.(),h=void 0;return}t.inert=!0,Oo(t,"outrostart"),k=Uo(t,w(),g,0,()=>{Oo(t,"outroend"),j?.()})},stop:()=>{g?.abort(),k?.abort()}},E=xe;if(((r=E.nodes).t??(r.t=[])).push(T),o&&Eo){var N=u;if(!N){for(var x=E.parent;x&&x.f&Ht;)for(;(x=x.parent)&&!(x.f&Tn););N=!x||(x.f&Xa)!==0}N&&Ss(()=>{Vt(()=>T.in())})}}function Uo(e,t,n,a,r){var o=a===1;if(Il(t)){var i,l=!1;return Nt(()=>{if(!l){var T=t({direction:o?"in":"out"});i=Uo(e,T,n,a,r)}}),{abort:()=>{l=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(n?.deactivate(),!(t!=null&&t.duration))return r(),{abort:Dn,deactivate:Dn,reset:Dn,t:()=>a};let{delay:u=0,css:d,tick:h,easing:y=up}=t;var m=[];if(o&&n===void 0&&(h&&h(0,1),d)){var g=Wu(d(0,1));m.push(g,g)}var k=()=>1-a,w=e.animate(m,{duration:u,fill:"forwards"});return w.onfinish=()=>{w.cancel();var T=n?.t()??1-a;n?.abort();var E=a-T,N=t.duration*Math.abs(E),x=[];if(N>0){var j=!1;if(d)for(var P=Math.ceil(N/16.666666666666668),O=0;O<=P;O+=1){var Y=T+E*y(O/P),z=Wu(d(Y,1-Y));x.push(z),j||(j=z.overflow==="hidden")}j&&(e.style.overflow="hidden"),k=()=>{var _=w.currentTime;return T+E*y(_/N)},h&&lp(()=>{if(w.playState!=="running")return!1;var _=k();return h(_,1-_),!0})}w=e.animate(x,{duration:N,fill:"forwards"}),w.onfinish=()=>{k=()=>a,h?.(a,1-a),r()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=Dn)},deactivate:()=>{r=Dn},reset:()=>{a===0&&h?.(1,0)},t:()=>k()}}function Yu(e,t){Be(t,!0);let n=At(t,"canSkip",3,!1);var a=vp(),r=p(f(a),2),o=f(r,!0);v(r);var i=p(r,2),l=f(i,!0);v(i);var u=p(i,2);{var d=h=>{var y=dp();y.__click=function(...m){var g;(g=t.onSkip)==null||g.apply(this,m)},b(h,y)};A(u,h=>{n()&&t.onSkip&&h(d)})}v(a),L(()=>{q(o,t.entry.title),q(l,t.entry.name)}),b(e,a),Ve()}function Gu(e,t){Be(t,!0);let n=At(t,"myVote",3,0),a=At(t,"isMine",3,!1),r=At(t,"readonly",3,!1);function o(P){if(r()||a()||!t.onVote)return;let O=n()===P?0:P;t.onVote(O)}let i=Qe(()=>t.entry.votes>0?"positive":t.entry.votes<0?"negative":"");var l=mp();let u;var d=f(l);let h;var y=f(d,!0);v(d);var m=p(d,2),g=f(m),k=f(g,!0);v(g);var w=p(g,2),T=f(w),E=p(T);{var N=P=>{var O=fp();b(P,O)};A(E,P=>{a()&&P(N)})}v(w),v(m);var x=p(m,2);{var j=P=>{var O=hp(),Y=f(O);let z;Y.__click=()=>o(1);var _=p(Y,2),C=f(_,!0);v(_);var B=p(_,2);let K;B.__click=()=>o(-1);var Z=p(B,2);{var te=R=>{var J=pp();J.__click=function(...ne){var re;(re=t.onRemove)==null||re.apply(this,ne)},b(R,J)};A(Z,R=>{a()&&t.onRemove&&R(te)})}v(O),L(()=>{z=We(Y,1,"vote-btn upvote svelte-bbkcgc",null,z,{active:n()===1}),Y.disabled=a(),We(_,1,\`vote-count \${s(i)??""}\`,"svelte-bbkcgc"),q(C,t.entry.votes),K=We(B,1,"vote-btn downvote svelte-bbkcgc",null,K,{active:n()===-1}),B.disabled=a()}),b(P,O)};A(x,P=>{r()||P(j)})}v(l),L(()=>{u=We(l,1,"queue-item svelte-bbkcgc",null,u,{"is-mine":a()}),h=We(d,1,"position svelte-bbkcgc",null,h,{"is-mine":a()}),q(y,t.position),q(k,t.entry.title),q(T,\`\${t.entry.name??""} \`)}),b(e,l),Ve()}function yp(e){let t=e-1;return t*t*t+1}function Du(e){let t=typeof e=="string"&&e.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*\$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function ul(e,{delay:t=0,duration:n=400,easing:a=gp}={}){let r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:a,css:o=>\`opacity: \${o*r}\`}}function Ju(e,{delay:t=0,duration:n=400,easing:a=yp,x:r=0,y:o=0,opacity:i=0}={}){let l=getComputedStyle(e),u=+l.opacity,d=l.transform==="none"?"":l.transform,h=u*(1-i),[y,m]=Du(r),[g,k]=Du(o);return{delay:t,duration:n,easing:a,css:(w,T)=>\`
			transform: \${d} translate(\${(1-w)*y}\${m}, \${(1-w)*g}\${k});
			opacity: \${u-h*T}\`}}function ot(){if(typeof window>"u")return"default";let e=window.location.pathname.split("/").filter(Boolean);return e.length>0&&!wp.has(e[0])?e[0]:"default"}async function Zt(e,t={}){let{method:n="GET",headers:a={},body:r,skipRoom:o=!1}=t,i=\`\${Oa}\${e}\`;if(!o){let l=ot(),u=e.includes("?")?"&":"?";i=\`\${i}\${u}room=\${encodeURIComponent(l)}\`}try{return await(await fetch(i,{method:n,headers:r?{"Content-Type":"application/json",...a}:a,body:r?JSON.stringify(r):void 0})).json()}catch{return{kind:"error",message:"Network error"}}}async function Wo(){try{let e=ot(),t=await fetch(\`\${Oa}/state?room=\${encodeURIComponent(e)}\`);return t.ok?await t.json():null}catch{return null}}async function Do(){try{let e=ot(),t=await fetch(\`\${Oa}/room/config?room=\${encodeURIComponent(e)}\`);return t.ok?await t.json():null}catch{return null}}async function Bo(e){let t=ot();try{return await(await fetch(\`\${Oa}/admin/verify?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:e})})).json()}catch{return{kind:"error",message:"Network error"}}}function Tr(){if(typeof sessionStorage>"u")return null;let e=ot();return sessionStorage.getItem(\`karaoke_admin_token_\${e}\`)}function Vo(e){if(typeof sessionStorage>"u")return;let t=ot();sessionStorage.setItem(\`karaoke_admin_token_\${t}\`,e)}function Yo(){if(typeof sessionStorage>"u")return;let e=ot();sessionStorage.removeItem(\`karaoke_admin_token_\${e}\`)}function Ir(){let e=Tr();return e?{Authorization:\`Bearer \${e}\`}:{"X-Admin":"true"}}async function ed(e){let t={...e,page:window.location.pathname,userAgent:navigator.userAgent,roomId:ot()!=="default"?ot():void 0};return Zt("/feedback",{method:"POST",body:t,skipRoom:!0})}function td(e){let t=ot(),n=window.location.pathname,a=new URLSearchParams({room:t,return:n});window.location.href=\`/auth/google?\${a.toString()}\`}async function nd(){try{return await(await fetch("/auth/session",{credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function ad(e){let t=ot();try{return await(await fetch("/auth/anonymous",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({roomId:t,displayName:e})})).json()}catch{return{kind:"error",message:"Network error"}}}async function sd(){try{return await(await fetch("/auth/logout",{method:"POST",credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function rd(){try{let e=ot();return await(await fetch(\`\${Oa}/stack?room=\${encodeURIComponent(e)}\`,{credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function od(e,t){try{let n=ot();return await(await fetch(\`\${Oa}/stack/add?room=\${encodeURIComponent(n)}\`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({videoId:e,title:t})})).json()}catch{return{kind:"error",message:"Network error"}}}async function id(e){try{let t=ot();return await(await fetch(\`\${Oa}/stack/remove?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({songId:e})})).json()}catch{return{kind:"error",message:"Network error"}}}async function ld(e){try{let t=ot();return await(await fetch(\`\${Oa}/stack/reorder?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({songIds:e})})).json()}catch{return{kind:"error",message:"Network error"}}}function cd(e,t){Be(t,!0);let n=At(t,"maxDuration",3,420),a=\$(""),r=\$(Ae([])),o=\$(!1),i=\$(null),l=\$(null);async function u(){if(!s(a).trim()||s(o))return;c(o,!0),c(l,null),c(r,[],!0),c(i,null);let x=await Cr(s(a).trim());if(c(o,!1),x.kind==="error"){c(l,x.message,!0);return}if(x.results.length===0){c(l,"No results found. Try a different search.");return}c(r,x.results,!0)}function d(x){x.key==="Enter"&&u()}function h(x){x.durationSeconds>n()||(c(i,x.id,!0),t.onSelect(x))}function y(x){return x.durationSeconds>n()}var m=Ep(),g=f(m),k=f(g);He(k),k.__keydown=d;var w=p(k,2);w.__click=u,v(g);var T=p(g,2);{var E=x=>{var j=_p();b(x,j)},N=x=>{var j=ze(),P=se(j);{var O=z=>{var _=Sp(),C=f(_,!0);v(_),L(()=>q(C,s(l))),b(z,_)},Y=z=>{var _=ze(),C=se(_);{var B=K=>{var Z=\$p();lt(Z,23,()=>s(r),te=>te.id,(te,R,J)=>{var ne=Pp();let re;ne.__click=()=>h(s(R));var ge=f(ne),ue=f(ge),ee=p(ue,2);let Pe;var he=f(ee,!0);v(ee),v(ge);var Te=p(ge,2),de=f(Te),fe=f(de,!0);v(de);var me=p(de,2),Ge=f(me,!0);v(me);var De=p(me,2);{var \$e=Ie=>{var U=xp();b(Ie,U)};A(De,Ie=>{y(s(R))&&Ie(\$e)})}v(Te),v(ne),L((Ie,U,Q)=>{re=We(ne,1,"search-result svelte-1002zyw",null,re,Ie),ne.disabled=U,Pt(ue,"src",s(R).thumbnail),Pe=We(ee,1,"result-duration svelte-1002zyw",null,Pe,Q),q(he,s(R).duration),q(fe,s(R).title),q(Ge,s(R).channel)},[()=>({selected:s(i)===s(R).id,"too-long":y(s(R))}),()=>y(s(R)),()=>({"too-long-badge":y(s(R))})]),Fo(1,ne,()=>ul,()=>({duration:200,delay:s(J)*50})),b(te,ne)}),v(Z),b(K,Z)};A(C,K=>{s(r).length>0&&K(B)},!0)}b(z,_)};A(P,z=>{s(l)?z(O):z(Y,!1)},!0)}b(x,j)};A(T,x=>{s(o)?x(E):x(N,!1)})}v(m),L(()=>w.disabled=s(o)),rt(k,()=>s(a),x=>c(a,x)),b(e,m),Ve()}function ud(e,t){Be(t,!0);let n=At(t,"mode",3,"closed"),a=At(t,"name",3,""),r=\$(""),o=\$(""),i=\$(!1);Dt(()=>{c(r,""),c(o,"")});function l(g){let k=g.target;c(r,k.value.replace(/\\D/g,"").slice(0,6),!0)}async function u(){var g;if(!/^\\d{6}\$/.test(s(r))){c(o,"PIN must be 6 digits");return}c(i,!0),c(o,"");let k=await kp(a(),s(r));switch(c(i,!1),k.kind){case"claimed":(g=t.onSuccess)==null||g.call(t);break;case"alreadyClaimed":c(o,"This name is already claimed");break;case"invalidPin":c(o,k.reason,!0);break;case"error":c(o,k.message,!0);break}}async function d(){var g;if(!/^\\d{6}\$/.test(s(r))){c(o,"PIN must be 6 digits");return}c(i,!0),c(o,"");let k=await bp(a(),s(r));switch(c(i,!1),k.kind){case"verified":(g=t.onSuccess)==null||g.call(t);break;case"nameNotFound":c(o,"Name not found");break;case"invalidPin":c(o,"Invalid PIN");break;case"error":c(o,k.message,!0);break}}var h=ze(),y=se(h);{var m=g=>{var k=Np(),w=f(k),T=f(w);{var E=x=>{var j=Tp(),P=p(se(j),4),O=f(P),Y=p(f(O)),z=f(Y);v(Y),pt(),v(O),pt(4),v(P);var _=p(P,4);He(_),_.__input=l;var C=p(_,2);C.__click=u;var B=p(C,2);{var K=te=>{var R=Cp(),J=f(R,!0);v(R),L(()=>q(J,s(o))),b(te,R)};A(B,te=>{s(o)&&te(K)})}var Z=p(B,4);Z.__click=function(...te){var R;(R=t.onClose)==null||R.apply(this,te)},L(()=>{q(z,\`"\${a()??""}"\`),Er(_,s(r)),C.disabled=s(i)}),b(x,j)},N=x=>{var j=ze(),P=se(j);{var O=Y=>{var z=Rp(),_=p(se(z),2),C=f(_),B=f(C);v(C),pt(),v(_);var K=p(_,2);He(K),K.__input=l;var Z=p(K,2);Z.__click=d;var te=p(Z,2);{var R=re=>{var ge=Ip(),ue=f(ge,!0);v(ge),L(()=>q(ue,s(o))),b(re,ge)};A(te,re=>{s(o)&&re(R)})}var J=p(te,2),ne=p(f(J));ne.__click=function(...re){var ge;(ge=t.onChangeName)==null||ge.apply(this,re)},v(J),L(()=>{q(B,\`"\${a()??""}"\`),Er(K,s(r)),Z.disabled=s(i)}),b(Y,z)};A(P,Y=>{n()==="verify"&&Y(O)},!0)}b(x,j)};A(T,x=>{n()==="claim"?x(E):x(N,!1)})}v(w),v(k),b(g,k)};A(y,g=>{n()!=="closed"&&g(m)})}b(e,h),Ve()}function zo(...e){jp&&console.log("[WS]",...e)}function Lo(...e){console.error("[WS]",...e)}function Us(){let e=null,t=!1,n=0,a=null,r=null,o="user",i=3e4,l=1e3,u=null,d=null,h=null,y=0,m=0;function g(){return Math.min(l*Math.pow(2,n),i)+Math.random()*1e3}function k(){T(),w(),r=setInterval(()=>{e&&t&&w()},3e4)}function w(){e&&t&&(m=Date.now(),e.send(JSON.stringify({kind:"ping",clientTime:m})))}function T(){r&&(clearInterval(r),r=null)}function E(P){switch(P.kind){case"state":u?.(P.state,P.playback,P.extensionConnected);break;case"extensionStatus":d?.(P.connected);break;case"pong":if(P.serverTime&&P.clientTime){let O=Date.now()-P.clientTime;y=P.serverTime-P.clientTime-O/2,zo("Clock sync: offset",y,"ms, RTT",O,"ms")}break;case"sync":h?.(P.playback,y);break;case"error":Lo("Server error:",P.message);break}}function N(P){if(o=P,typeof window>"u")return;let O=location.protocol==="https:"?"wss:":"ws:",Y=ot(),z=\`\${O}//\${location.host}/?upgrade=websocket&room=\${encodeURIComponent(Y)}\`;try{e=new WebSocket(z),e.onopen=()=>{zo("Connected"),t=!0,n=0,e.send(JSON.stringify({kind:"subscribe",clientType:P})),k()},e.onmessage=_=>{try{let C=JSON.parse(_.data);E(C)}catch(C){Lo("Failed to parse message:",C)}},e.onclose=()=>{zo("Disconnected"),t=!1,e=null,T(),n++;let _=g();zo(\`Reconnecting in \${Math.round(_/1e3)}s (attempt \${n})\`),a=setTimeout(()=>N(o),_)},e.onerror=_=>{Lo("Error:",_)}}catch(_){Lo("Failed to connect:",_)}}function x(){a&&(clearTimeout(a),a=null),T(),e&&(e.close(),e=null),t=!1}function j(P){e&&t&&e.send(JSON.stringify(P))}return{connect:N,disconnect:x,send:j,onState(P){u=P},onExtensionStatus(P){d=P},onSync(P){h=P},requestSync(){j({kind:"syncRequest"})},getServerTimeOffset(){return y},isConnected(){return t}}}var ip,ma,up,dp,vp,fp,pp,hp,mp,gp,Oa,wp,zs,Qu,Ku,Hu,Cr,kp,bp,Xu,Go,Jo,Qo,Ls,Zu,_p,Sp,xp,Pp,\$p,Ep,Cp,Tp,Ip,Rp,Np,jp,Ko=Fe(()=>{"use strict";qt();st();us();No();Ms();vs();Os();ip=()=>performance.now(),ma={tick:e=>requestAnimationFrame(e),now:()=>ip(),tasks:new Set};up=e=>e;dp=S('<button class="skip-own-btn svelte-gs8b8u">Skip My Song</button>'),vp=S('<div class="now-playing-card svelte-gs8b8u"><div class="now-playing-label svelte-gs8b8u">Now Playing</div> <div class="now-playing-title svelte-gs8b8u"> </div> <div class="now-playing-singer svelte-gs8b8u"> </div> <!></div>');xt(["click"]);fp=S('<span class="you-badge svelte-bbkcgc">YOU</span>'),pp=S('<button class="remove-btn svelte-bbkcgc" aria-label="Remove">x</button>'),hp=S('<div class="queue-actions svelte-bbkcgc"><button aria-label="Upvote">+</button> <span> </span> <button aria-label="Downvote">-</button> <!></div>'),mp=S('<li><span> </span> <div class="queue-info svelte-bbkcgc"><div class="queue-song svelte-bbkcgc"> </div> <div class="queue-singer svelte-bbkcgc"> <!></div></div> <!></li>');xt(["click"]);gp=e=>e;Oa="/api",wp=new Set(["player","admin","api","shikashika"]);zs=e=>Zt("/join",{method:"POST",body:e}),Qu=(e,t,n)=>Zt("/vote",{method:"POST",headers:{"X-Voter-Id":n},body:{entryId:e,direction:t}}),Ku=(e,t)=>Zt("/remove",{method:"POST",headers:{"X-User-Name":t},body:{entryId:e}}),Hu=e=>Zt("/skip",{method:"POST",headers:{"X-User-Name":e}}),Cr=e=>Zt(\`/search?q=\${encodeURIComponent(e)}\`);kp=(e,t)=>Zt("/claim",{method:"POST",body:{name:e,pin:t}}),bp=(e,t)=>Zt("/verify",{method:"POST",body:{name:e,pin:t}}),Xu=(e=10)=>Zt(\`/songs/popular?limit=\${e}\`);Go=()=>Zt("/skip",{method:"POST",headers:Ir()}),Jo=e=>Zt("/remove",{method:"POST",headers:Ir(),body:{entryId:e}}),Qo=e=>Zt("/add",{method:"POST",headers:Ir(),body:e}),Ls=(e,t)=>Zt("/reorder",{method:"POST",headers:Ir(),body:{entryId:e,newPosition:t}}),Zu=e=>Zt("/room/config",{method:"POST",headers:Ir(),body:{mode:e}});_p=S('<div class="searching-indicator svelte-1002zyw"><div class="spinner"></div> Searching...</div>'),Sp=S('<div class="no-results svelte-1002zyw"> </div>'),xp=S('<div class="too-long-msg svelte-1002zyw">Too long (max 7 min)</div>'),Pp=S('<button><div class="result-thumb-wrapper svelte-1002zyw"><img class="result-thumb svelte-1002zyw" alt="" loading="lazy"/> <span> </span></div> <div class="result-info svelte-1002zyw"><div class="result-title svelte-1002zyw"> </div> <div class="result-channel svelte-1002zyw"> </div> <!></div></button>'),\$p=S('<div class="search-results svelte-1002zyw"></div>'),Ep=S('<div class="search-container svelte-1002zyw"><div class="search-row svelte-1002zyw"><input type="text" placeholder="Song title or artist..." autocomplete="off" class="svelte-1002zyw"/> <button class="btn btn-cyan search-btn svelte-1002zyw">Search</button></div> <!></div>');xt(["keydown","click"]);Cp=S('<div class="modal-error svelte-1ppz18g"> </div>'),Tp=S(\`<h2 class="svelte-1ppz18g">You made karaoke history!</h2> <p class="svelte-1ppz18g">Your performance is saved. Set a PIN to:</p> <ul class="svelte-1ppz18g"><li class="svelte-1ppz18g">Keep <span class="highlight svelte-1ppz18g"> </span> as your stage name</li> <li class="svelte-1ppz18g">Build your songbook across devices</li> <li class="svelte-1ppz18g">See your stats and history anytime</li></ul> <p class="svelte-1ppz18g">Pick a 6-digit PIN you'll remember:</p> <input type="text" class="modal-input svelte-1ppz18g" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="------" autocomplete="off"/> <button class="btn svelte-1ppz18g">Lock in my name</button> <!> <p class="small svelte-1ppz18g">Skip for now? Anyone can use this name until you claim it.</p> <button class="skip-link svelte-1ppz18g">I'll set it up later</button>\`,1),Ip=S('<div class="modal-error svelte-1ppz18g"> </div>'),Rp=S('<h2 class="svelte-1ppz18g">Welcome back!</h2> <p class="svelte-1ppz18g"><span class="highlight svelte-1ppz18g"> </span> has a PIN. Enter it to continue.</p> <input type="text" class="modal-input svelte-1ppz18g" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="------" autocomplete="off"/> <button class="btn svelte-1ppz18g">Continue</button> <!> <p class="hint svelte-1ppz18g">Not you? <button class="link-btn svelte-1ppz18g">Use different name</button></p>',1),Np=S('<div class="modal-overlay svelte-1ppz18g"><div class="modal svelte-1ppz18g"><!></div></div>');xt(["input","click"]);\$(Ae({queue:[],nowPlaying:null,currentEpoch:0}));\$(Ae(typeof localStorage<"u"?localStorage.getItem("karaoke_name")??"":""));Ae(typeof localStorage<"u"?localStorage.getItem("karaoke_voter_id")??crypto.randomUUID():crypto.randomUUID());\$(Ae(typeof localStorage<"u"?JSON.parse(localStorage.getItem("karaoke_votes")??"{}"):{}));\$(Ae(typeof localStorage<"u"?JSON.parse(localStorage.getItem("karaoke_verified")??"{}"):{}));jp=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")});function Fs(e){if(!e)return null;let t=e.trim(),n=[/(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/)([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/shorts\\/([a-zA-Z0-9_-]{11})/,/music\\.youtube\\.com\\/watch\\?v=([a-zA-Z0-9_-]{11})/,/music\\.youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/m\\.youtube\\.com\\/watch\\?v=([a-zA-Z0-9_-]{11})/,/m\\.youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/v\\/([a-zA-Z0-9_-]{11})/];for(let a of n){let r=t.match(a);if(r!=null&&r[1])return r[1]}return null}var dl=Fe(()=>{"use strict"});function qp(e){let t=e-1;return t*t*t+1}function Ap(e,{from:t,to:n},a={}){var{delay:r=0,duration:o=O=>Math.sqrt(O)*120,easing:i=qp}=a,l=getComputedStyle(e),u=l.transform==="none"?"":l.transform,[d,h]=l.transformOrigin.split(" ").map(parseFloat);d/=e.clientWidth,h/=e.clientHeight;var y=Mp(e),m=e.clientWidth/n.width/y,g=e.clientHeight/n.height/y,k=t.left+t.width*d,w=t.top+t.height*h,T=n.left+n.width*d,E=n.top+n.height*h,N=(k-T)*m,x=(w-E)*g,j=t.width/n.width,P=t.height/n.height;return{delay:r,duration:typeof o=="function"?o(Math.sqrt(N*N+x*x)):o,easing:i,css:(O,Y)=>{var z=Y*N,_=Y*x,C=O+Y*j,B=O+Y*P;return\`transform: \${u} translate(\${z}px, \${_}px) scale(\${C}, \${B});\`}}}function Mp(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,n=1;t!==null;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}function Fp(e,t){Be(t,!0);let n=At(t,"myName",3,""),a=At(t,"myVotes",19,()=>({})),r=At(t,"readonly",3,!1);function o(k){return k.name.toLowerCase()===n().toLowerCase()}function i(k){let w=a()[k];return w===1?1:w===-1?-1:0}var l=Up(),u=f(l),d=p(f(u),2),h=f(d);v(d),v(u);var y=p(u,2);{var m=k=>{var w=Op();b(k,w)},g=k=>{var w=Lp();lt(w,31,()=>t.entries,T=>T.id,(T,E,N)=>{var x=zp(),j=f(x);{let P=Qe(()=>s(N)+1),O=Qe(()=>i(s(E).id)),Y=Qe(()=>o(s(E)));Gu(j,{get entry(){return s(E)},get position(){return s(P)},get myVote(){return s(O)},get isMine(){return s(Y)},get readonly(){return r()},onVote:z=>{var _;return(_=t.onVote)==null?void 0:_.call(t,s(E).id,z)},onRemove:()=>{var z;return(z=t.onRemove)==null?void 0:z.call(t,s(E).id)}})}v(x),Vu(x,()=>Ap,()=>({duration:300})),Fo(1,x,()=>Ju,()=>({y:20,duration:300})),Fo(2,x,()=>ul),b(T,x)}),v(w),b(k,w)};A(y,k=>{t.entries.length===0?k(m):k(g,!1)})}v(l),L(()=>q(h,\`\${t.entries.length??""} in queue\`)),b(e,l),Ve()}function dd(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function Rr(){vl&&navigator.vibrate([50,30,50])}function vd(){vl&&navigator.vibrate(10)}function Ho(){vl&&navigator.vibrate([100,50,100])}function Bp(e,t){Be(t,!0);let n=\$(Ae([])),a=\$(!0),r=\$(!1);rn(async()=>{let y=await Xu(8);c(a,!1),c(r,!0),y.kind==="songs"&&c(n,y.songs,!0)});function o(y){return\`https://i.ytimg.com/vi/\${y}/mqdefault.jpg\`}function i(y){t.onSelect(y.videoId,y.title)}var l=ze(),u=se(l);{var d=y=>{var m=Dp(),g=p(f(m),2);lt(g,21,()=>s(n),k=>k.videoId,(k,w)=>{var T=Wp();T.__click=()=>i(s(w));var E=f(T),N=f(E),x=p(N,2),j=f(x);v(x),v(E);var P=p(E,2),O=f(P),Y=f(O,!0);v(O),v(P),v(T),L(z=>{Pt(N,"src",z),q(j,\`\${s(w).playCount??""}x\`),q(Y,s(w).title)},[()=>o(s(w).videoId)]),b(k,T)}),v(g),v(m),b(y,m)},h=y=>{var m=ze(),g=se(m);{var k=w=>{};A(g,w=>{s(a)&&w(k)},!0)}b(y,m)};A(u,y=>{s(r)&&s(n).length>0?y(d):y(h,!1)})}b(e,l),Ve()}function Jp(e,t){Be(t,!0);let n=\$(""),a=\$(""),r=\$("suggestion"),o=\$(!1),i=\$(""),l=[{value:"bug",label:"Bug",icon:"X"},{value:"suggestion",label:"Suggestion",icon:"+"},{value:"question",label:"Question",icon:"?"},{value:"other",label:"Other",icon:"#"}];function u(){c(n,""),c(a,""),c(r,"suggestion"),c(i,"")}function d(){u(),t.onClose()}async function h(){if(!s(n).trim())return;c(o,!0),c(i,"");let w=await ed({feedback:s(n).trim(),title:s(a).trim()||void 0,category:s(r)});c(o,!1),w.kind==="created"?(Rr(),X.success(\`Thanks! Created issue #\${w.issueNumber}\`),d()):w.kind==="rateLimited"?(Ho(),c(i,"Too many submissions. Please wait a minute.")):(Ho(),c(i,w.message,!0))}function y(w){w.key==="Escape"&&d()}var m=ze();ln("keydown",bs,y);var g=se(m);{var k=w=>{var T=Gp();T.__click=d;var E=f(T);E.__click=C=>C.stopPropagation(),E.__keydown=()=>{};var N=f(E);N.__click=d;var x=p(N,4);lt(x,21,()=>l,Ma,(C,B)=>{var K=Vp();let Z;K.__click=()=>c(r,s(B).value,!0);var te=f(K),R=f(te,!0);v(te);var J=p(te,2),ne=f(J,!0);v(J),v(K),L(()=>{Z=We(K,1,"category-btn svelte-4vowdw",null,Z,{selected:s(r)===s(B).value}),q(R,s(B).icon),q(ne,s(B).label)}),b(C,K)}),v(x);var j=p(x,2);yc(j);var P=p(j,2);He(P);var O=p(P,2);{var Y=C=>{var B=Yp(),K=f(B,!0);v(B),L(()=>q(K,s(i))),b(C,B)};A(O,C=>{s(i)&&C(Y)})}var z=p(O,2);z.__click=h;var _=f(z,!0);v(z),v(E),v(T),L(C=>{z.disabled=C,q(_,s(o)?"Sending...":"Send Feedback")},[()=>!s(n).trim()||s(o)]),rt(j,()=>s(n),C=>c(n,C)),rt(P,()=>s(a),C=>c(a,C)),b(w,T)};A(g,w=>{t.isOpen&&w(k)})}b(e,m),Ve()}function Hp(e){let t=\$(!1),n=\$(!1);function a(){c(t,!s(t))}function r(){c(t,!1)}function o(){c(t,!1),c(n,!0)}function i(){c(n,!1)}function l(g){g.key==="Escape"&&s(t)&&r()}var u=Kp();ln("keydown",bs,l);var d=se(u);d.__click=a;var h=p(d,2);{var y=g=>{var k=Qp();k.__click=r,k.__keydown=N=>N.key==="Escape"&&r();var w=f(k);w.__click=N=>N.stopPropagation(),w.__keydown=()=>{};var T=f(w);T.__click=r;var E=p(T,26);E.__click=o,v(w),v(k),b(g,k)};A(h,g=>{s(t)&&g(y)})}var m=p(h,2);Jp(m,{get isOpen(){return s(n)},onClose:i}),b(e,u)}function ch(e,t){Be(t,!0);let n=\$(null),a=\$(null),r=\$(!1),o=\$(!0),i=\$(!1),l=\$(""),u=\$(!1);Dt(()=>{d()});async function d(){var x;c(o,!0);let j=await nd();j.kind==="authenticated"?(c(n,j.session,!0),c(a,j.user,!0),c(r,!1)):j.kind==="anonymous"?(c(n,j.session,!0),c(a,null),c(r,!0)):(c(n,null),c(a,null),c(r,!1)),c(o,!1),(x=t.onSessionChange)==null||x.call(t,s(n),s(a))}function h(){td()}async function y(){var x;if(!s(l).trim()){c(u,!0);return}c(o,!0);let j=await ad(s(l).trim());j.kind==="created"&&(c(n,j.session,!0),c(r,!0),c(u,!1),c(l,""),(x=t.onSessionChange)==null||x.call(t,s(n),null)),c(o,!1)}async function m(){var x;await sd(),c(n,null),c(a,null),c(r,!1),c(i,!1),(x=t.onSessionChange)==null||x.call(t,null,null)}function g(){c(i,!s(i))}function k(){c(i,!1)}var w=lh();ln("click",bs,k);var T=f(w);{var E=x=>{var j=Xp();b(x,j)},N=x=>{var j=ze(),P=se(j);{var O=z=>{var _=sh(),C=se(_);C.__click=ue=>{ue.stopPropagation(),g()};var B=f(C);{var K=ue=>{var ee=Zp();L(()=>Pt(ee,"src",s(a).picture)),b(ue,ee)},Z=ue=>{var ee=eh(),Pe=f(ee,!0);v(ee),L(he=>q(Pe,he),[()=>s(n).displayName.charAt(0).toUpperCase()]),b(ue,ee)};A(B,ue=>{var ee;(ee=s(a))!=null&&ee.picture?ue(K):ue(Z,!1)})}var te=p(B,2),R=f(te,!0);v(te);var J=p(te,2),ne=f(J,!0);v(J),v(C);var re=p(C,2);{var ge=ue=>{var ee=ah();ee.__click=\$e=>\$e.stopPropagation(),ee.__keydown=()=>{};var Pe=f(ee),he=f(Pe),Te=f(he,!0);v(he);var de=p(he,2);{var fe=\$e=>{var Ie=th(),U=f(Ie,!0);v(Ie),L(()=>q(U,s(a).email)),b(\$e,Ie)};A(de,\$e=>{var Ie;(Ie=s(a))!=null&&Ie.email&&\$e(fe)})}v(Pe);var me=p(Pe,2);{var Ge=\$e=>{var Ie=nh();Ie.__click=h,b(\$e,Ie)};A(me,\$e=>{s(r)&&\$e(Ge)})}var De=p(me,2);De.__click=m,v(ee),L(()=>q(Te,s(r)?"Guest":"Google")),b(ue,ee)};A(re,ue=>{s(i)&&ue(ge)})}L(()=>{q(R,s(n).displayName),q(ne,s(i)?"\\u25B2":"\\u25BC")}),b(z,_)},Y=z=>{var _=ih(),C=f(_);{var B=Z=>{var te=rh(),R=f(te);He(R),R.__keydown=ne=>ne.key==="Enter"&&y();var J=p(R,2);J.__click=y,v(te),rt(R,()=>s(l),ne=>c(l,ne)),b(Z,te)},K=Z=>{var te=oh(),R=se(te);R.__click=h;var J=p(R,2);J.__click=()=>c(u,!0),b(Z,te)};A(C,Z=>{s(u)?Z(B):Z(K,!1)})}v(_),b(z,_)};A(P,z=>{s(n)?z(O):z(Y,!1)},!0)}b(x,j)};A(T,x=>{s(o)?x(E):x(N,!1)})}v(w),b(e,w),Ve()}function bh(e,t){Be(t,!0);let n=\$(Ae([])),a=\$(null),r=\$(!0),o=\$(null),i=\$(null),l=\$(null);Dt(()=>{u()});async function u(){var _;c(r,!0),c(o,null);let C=await rd();C.kind==="stack"?(c(n,C.songs,!0),c(a,C.inQueue,!0),(_=t.onStackChange)==null||_.call(t,s(n),s(a))):C.kind==="unauthenticated"?(c(n,[],!0),c(a,null)):c(o,C.message,!0),c(r,!1)}async function d(_){var C;(await id(_)).kind==="removed"&&(c(n,s(n).filter(B=>B.id!==_),!0),(C=t.onStackChange)==null||C.call(t,s(n),s(a)))}function h(_){c(i,_,!0)}function y(_,C){_.preventDefault(),c(l,C,!0)}function m(){if(s(i)!==null&&s(l)!==null&&s(i)!==s(l)){let _=[...s(n)],[C]=_.splice(s(i),1);_.splice(s(l),0,C),c(n,_,!0),ld(_.map(B=>B.id)).then(B=>{var K;B.kind==="reordered"&&((K=t.onStackChange)==null||K.call(t,s(n),s(a)))})}c(i,null),c(l,null)}function g(){c(l,null)}function k(){u()}function w(_){var C;c(n,_,!0),(C=t.onStackChange)==null||C.call(t,s(n),s(a))}function T(_){var C;c(a,_,!0),(C=t.onStackChange)==null||C.call(t,s(n),s(a))}var E={refresh:k,updateStack:w,updateInQueue:T},N=kh(),x=f(N),j=p(f(x));{var P=_=>{var C=uh(),B=f(C);v(C),L(()=>q(B,\`(\${s(n).length??""})\`)),b(_,C)};A(j,_=>{s(n).length>0&&_(P)})}v(x);var O=p(x,2);{var Y=_=>{var C=dh();b(_,C)},z=_=>{var C=ze(),B=se(C);{var K=te=>{var R=vh(),J=f(R,!0);v(R),L(()=>q(J,s(o))),b(te,R)},Z=te=>{var R=wh(),J=se(R);{var ne=ee=>{var Pe=fh(),he=p(f(Pe),2),Te=f(he),de=f(Te,!0);v(Te);var fe=p(Te,2),me=f(fe);v(fe),v(he),v(Pe),L(()=>{q(de,s(a).title),q(me,\`\${s(a).votes>0?"+":""}\${s(a).votes??""} votes\`)}),b(ee,Pe)};A(J,ee=>{s(a)&&ee(ne)})}var re=p(J,2);{var ge=ee=>{var Pe=mh(),he=f(Pe);{var Te=fe=>{var me=ph();b(fe,me)},de=fe=>{var me=hh();b(fe,me)};A(he,fe=>{s(a)?fe(Te):fe(de,!1)})}v(Pe),b(ee,Pe)},ue=ee=>{var Pe=yh(),he=se(Pe);lt(he,21,()=>s(n),Ma,(Te,de,fe)=>{var me=gh();let Ge;var De=p(f(me),2),\$e=f(De);\$e.textContent=\`#\${fe+1}\`;var Ie=p(\$e,2),U=f(Ie,!0);v(Ie),v(De);var Q=p(De,2);Q.__click=()=>d(s(de).id),v(me),L(()=>{Ge=We(me,1,"stack-item svelte-owkba6",null,Ge,{dragging:s(i)===fe,"drag-over":s(l)===fe}),q(U,s(de).title)}),ln("dragstart",me,()=>h(fe)),ln("dragover",me,ye=>y(ye,fe)),ln("dragleave",me,g),ln("dragend",me,m),b(Te,me)}),v(he),pt(2),b(ee,Pe)};A(re,ee=>{s(n).length===0?ee(ge):ee(ue,!1)})}b(te,R)};A(B,te=>{s(o)?te(K):te(Z,!1)},!0)}b(_,C)};A(O,_=>{s(r)?_(Y):_(z,!1)})}return v(N),b(e,N),Ve(E)}function Xo(e,t){Be(t,!0);let n=\$(Ae({queue:[],nowPlaying:null,currentEpoch:0})),a=\$(""),r=\$(""),o=\$(Ae({})),i=\$(Ae({})),l=\$(null),u=\$(null),d=\$(null),h=\$(null),y=\$(null),m=\$(null),g=\$(null),k=\$(!1),w=\$(null),T=\$("closed"),E=\$(""),N=\$(null),x=\$(!1),j=\$(0),P=\$("idle"),O=\$(""),Y=420,z=Us(),_=null,C=null,B=null,K=Qe(()=>s(n).queue.find(M=>M.name.toLowerCase()===s(a).toLowerCase())),Z=Qe(()=>{var M;return((M=s(n).nowPlaying)==null?void 0:M.name.toLowerCase())===s(a).toLowerCase()}),te=Qe(()=>!!s(K)),R=Qe(()=>s(K)?s(n).queue.findIndex(M=>M.id===s(K).id)+1:null),J=Qe(ot),ne=Qe(()=>!!s(l)),re=Qe(()=>{var M;return((M=s(h))==null?void 0:M.mode)??"karaoke"}),ge=Qe(()=>s(m)&&(s(re)==="jukebox"&&s(ne)||s(re)==="karaoke"&&s(a).trim().length>0&&!s(te)&&!s(Z)));rn(async()=>{if(c(a,localStorage.getItem("karaoke_name")??"",!0),c(r,localStorage.getItem("karaoke_voter_id")??crypto.randomUUID(),!0),c(o,dd(localStorage.getItem("karaoke_votes"),{}),!0),c(i,dd(localStorage.getItem("karaoke_verified"),{}),!0),localStorage.setItem("karaoke_voter_id",s(r)),z.onState(ue),z.connect("user"),typeof window<"u"&&!window.YT){let M=document.createElement("script");M.src="https://www.youtube.com/iframe_api",document.head.appendChild(M)}c(h,await Do(),!0)}),Ps(()=>{z.disconnect()});function ue(M){var G;let oe=s(a).toLowerCase(),Ee=M.queue.find(I=>I.name.toLowerCase()===oe),le=Ee?M.queue.findIndex(I=>I.id===Ee.id)+1:null,we=_?.name.toLowerCase()===oe,Xe=((G=M.nowPlaying)==null?void 0:G.name.toLowerCase())===oe;if(we&&!Xe&&s(a)){let I=B?.votes??0,W=I>0?\`+\${I}\`:I===0?"0":\`\${I}\`;s(i)[oe]===!0?X.success(\`You got \${W} votes! Add another?\`):(X.success(\`Nice! You got \${W} votes\`),setTimeout(()=>{c(E,s(a),!0),c(T,"claim")},1500)),c(j,I,!0),c(x,!0),setTimeout(()=>c(x,!1),4e3)}C!==null&&le!==null&&C!==le&&(le<C?X.success(\`You moved up! Now #\${le}\`):le>C&&X.info(\`Slipped to #\${le}\`)),le!==null&&C!==null&&(le===2&&C>2?X.info("2 songs until you're up!"):le===1&&C>1&&X.success("You're next! Get ready! \\u{1F3A4}")),!we&&Xe&&(X.success("You're up! Time to shine! \\u2728"),Rr()),_=M.nowPlaying,C=le,B=Ee??null,c(n,M,!0)}function ee(M){let G=M.target;c(a,G.value,!0),localStorage.setItem("karaoke_name",s(a))}function Pe(M){c(y,M,!0);let G=\`https://www.youtube.com/watch?v=\${M.id}\`;Te(G,M.title)}function he(M,G){c(y,{id:M,title:G,channel:"Popular in this room",duration:"",durationSeconds:0,thumbnail:\`https://i.ytimg.com/vi/\${M}/mqdefault.jpg\`,source:"youtube",playable:!0},!0);let oe=\`https://www.youtube.com/watch?v=\${M}\`;Te(oe,G)}async function Te(M,G){c(P,"checking"),c(O,"Checking video...");let oe=Fs(M);if(!oe){c(P,"invalid"),c(O,"Invalid YouTube URL"),c(m,null),c(g,null);return}typeof window<"u"&&window.YT?await de(oe,M,G):(c(P,"valid"),c(O,"Ready to add!"),c(m,M,!0),c(g,G??"Unknown Song",!0))}function de(M,G,oe){return new Promise(Ee=>{let le=document.getElementById("validationPlayer");if(!le){c(P,"valid"),c(m,G,!0),c(g,oe??"Unknown Song",!0),Ee();return}le.innerHTML='<div id="ytPlayer"></div>',new window.YT.Player("ytPlayer",{height:"1",width:"1",videoId:M,playerVars:{autoplay:0,controls:0},events:{onReady:we=>{let Xe=we.target.getDuration(),I=we.target.getVideoData();if(Xe===0){c(P,"invalid"),c(O,"Livestreams not allowed"),c(m,null),Ee();return}if(Xe>Y){let W=Math.floor(Xe/60),ve=Math.round(Xe%60);c(P,"invalid"),c(O,\`Too long (\${W}:\${ve.toString().padStart(2,"0")}) - max 7 minutes\`),c(m,null),Ee();return}c(m,G,!0),c(g,oe??I.title??"Unknown Song",!0),c(P,"valid"),c(O,"Ready to add!"),Ee()},onError:()=>{c(P,"invalid"),c(O,"Video not found or unavailable"),c(m,null),Ee()}}}),setTimeout(()=>{s(P)==="checking"&&(c(P,"invalid"),c(O,"Could not load video"),c(m,null),Ee())},1e4)})}async function fe(){var M,G;if(!s(m)||!s(g))return;let oe=Fs(s(m));if(!oe){c(w,"Invalid video URL");return}if(c(k,!0),c(w,null),s(re)==="jukebox"&&s(ne)){let we=await od(oe,s(g));switch(c(k,!1),we.kind){case"addedToQueue":X.success(\`Added to queue at #\${we.queuePosition}!\`),Rr(),me(),(M=s(d))==null||M.refresh();break;case"added":X.success(\`Added to your stack (#\${we.stackPosition} waiting)\`),Rr(),me(),(G=s(d))==null||G.refresh();break;case"stackFull":c(w,\`Stack is full (max \${we.maxSize} songs)\`);break;case"unauthenticated":c(w,"Please sign in to add songs");break;case"error":Ho(),c(w,we.message,!0);break}return}if(!s(a).trim()){c(w,"Enter your name"),c(k,!1);return}let Ee=s(i)[s(a).toLowerCase()]===!0,le=await zs({name:s(a).trim(),videoId:oe,title:s(g),verified:Ee});switch(c(k,!1),le.kind){case"joined":X.success(\`You're #\${le.position} in the queue!\`),Rr(),me();break;case"requiresPin":c(N,{name:s(a).trim(),url:s(m),title:s(g)},!0),c(E,s(a).trim(),!0),c(T,"verify");break;case"alreadyInQueue":c(w,\`\${le.name} is already in the queue\`);break;case"invalidVideo":c(w,le.reason,!0);break;case"error":Ho(),c(w,le.message,!0);break}}function me(){c(y,null),c(m,null),c(g,null),c(P,"idle"),c(O,""),c(w,null)}async function Ge(M,G){let oe=s(o)[M]??0,Ee=G-oe;if(G===0){let{[M]:we,...Xe}=s(o);c(o,Xe,!0),vd()}else c(o,{...s(o),[M]:G},!0),vd();localStorage.setItem("karaoke_votes",JSON.stringify(s(o))),c(n,{...s(n),queue:s(n).queue.map(we=>we.id===M?{...we,votes:we.votes+Ee}:we)},!0);let le=await Qu(M,G,s(r));if(le.kind!=="voted"){if(oe===0){let{[M]:Xe,...I}=s(o);c(o,I,!0)}else c(o,{...s(o),[M]:oe},!0);localStorage.setItem("karaoke_votes",JSON.stringify(s(o)));let we=le.kind==="error"?le.message:"Vote failed";X.error(we)}}async function De(M){if(!confirm("Remove your song from the queue?"))return;let G=await Ku(M,s(a));if(G.kind!=="removed"){let oe=G.kind==="error"?G.message:G.kind==="entryNotFound"?"Song not found":G.kind==="unauthorized"?"Not authorized":"Failed to remove";X.error(oe)}}async function \$e(){if(!confirm("Skip your song?"))return;let M=await Hu(s(a));if(M.kind==="skipped")X.success("Song skipped");else{let G=M.kind==="error"?M.message:M.kind==="nothingPlaying"?"Nothing is playing":M.kind==="unauthorized"?"Not authorized":"Failed to skip";X.error(G)}}function Ie(){c(i,{...s(i),[s(E).toLowerCase()]:!0},!0),localStorage.setItem("karaoke_verified",JSON.stringify(s(i))),s(T)==="verify"&&s(N)?(c(m,s(N).url,!0),c(g,s(N).title,!0),c(a,s(N).name,!0),c(N,null),c(T,"closed"),fe()):(X.success("Your name is locked in!"),c(T,"closed"))}function U(){c(T,"closed"),c(N,null)}function Q(){var M;c(T,"closed"),c(N,null),c(a,""),(M=document.getElementById("nameInput"))==null||M.focus()}function ye(M,G){c(l,M,!0),c(u,G,!0),M&&c(a,M.displayName,!0)}var Le=Ah(),en=se(Le),ct=f(en),It=f(ct),tn=p(f(It),2);ch(tn,{onSessionChange:ye}),v(It);var tt=p(It,4),un=f(tt);{var jn=M=>{var G=_h();let oe;var Ee=f(G,!0);v(G),L(()=>{oe=We(G,1,"mode-badge svelte-1y2kg8x",null,oe,{jukebox:s(re)==="jukebox",karaoke:s(re)==="karaoke"}),q(Ee,s(re)==="jukebox"?"\\u{1F3B5} Jukebox":"\\u{1F3A4} Karaoke")}),b(M,G)};A(un,M=>{s(h)&&M(jn)})}var Zn=p(un,2);v(tt),v(ct);var Pn=p(ct,2);{var dn=M=>{Yu(M,{get entry(){return s(n).nowPlaying},get canSkip(){return s(Z)},onSkip:\$e})};A(Pn,M=>{s(n).nowPlaying&&M(dn)})}var ya=p(Pn,2);{var qn=M=>{var G=Sh();b(M,G)},ea=M=>{var G=ze(),oe=se(G);{var Ee=le=>{var we=xh();b(le,we)};A(oe,le=>{s(R)===2&&le(Ee)},!0)}b(M,G)};A(ya,M=>{s(R)===1&&!s(Z)?M(qn):M(ea,!1)})}var mt=p(ya,2);{var nn=M=>{var G=Ph(),oe=f(G),Ee=p(f(oe),2),le=f(Ee);v(Ee),v(oe);var we=p(oe,2),Xe=f(we,!0);v(we);var I=p(we,2);I.__click=()=>De(s(K).id),v(G),L(W=>{q(le,\`#\${W??""} in queue\`),q(Xe,s(K).title)},[()=>s(n).queue.findIndex(W=>W.id===s(K).id)+1]),b(M,G)},vn=M=>{var G=ze(),oe=se(G);{var Ee=le=>{var we=\$h(),Xe=p(f(we),2),I=f(Xe,!0);v(Xe);var W=p(Xe,2);W.__click=\$e,v(we),L(()=>{var ve;return q(I,(ve=s(n).nowPlaying)==null?void 0:ve.title)}),b(le,we)};A(oe,le=>{s(Z)&&s(re)==="karaoke"&&le(Ee)},!0)}b(M,G)};A(mt,M=>{s(K)&&s(re)==="karaoke"?M(nn):M(vn,!1)})}var wa=p(mt,2);{var ka=M=>{var G=Nh(),oe=f(G);{var Ee=D=>{var ae=Eh(),ie=p(f(ae),2);He(ie),ie.__input=ee,v(ae),L(()=>Er(ie,s(a))),b(D,ae)};A(oe,D=>{s(re)==="karaoke"&&D(Ee)})}var le=p(oe,2),we=f(le),Xe=f(we,!0);v(we);var I=p(we,2);cd(I,{maxDuration:Y,onSelect:Pe});var W=p(I,2);{var ve=D=>{Bp(D,{onSelect:he})};A(W,D=>{s(y)||D(ve)})}var _e=p(W,2);{var Ze=D=>{var ae=Ch(),ie=f(ae),ke=f(ie,!0);v(ie);var je=p(ie,2),H=f(je);v(je),v(ae),L(()=>{q(ke,s(y).title),q(H,\`\${s(y).channel??""} \\xB7 \${s(y).duration??""}\`)}),b(D,ae)};A(_e,D=>{s(y)&&D(Ze)})}var Me=p(_e,2);{var nt=D=>{var ae=Ih(),ie=f(ae);{var ke=H=>{var pe=Th();b(H,pe)};A(ie,H=>{s(P)==="checking"&&H(ke)})}var je=p(ie);v(ae),L(()=>{We(ae,1,\`validation-status \${s(P)??""}\`,"svelte-1y2kg8x"),q(je,\` \${s(O)??""}\`)}),b(D,ae)};A(Me,D=>{s(P)!=="idle"&&D(nt)})}v(le);var ut=p(le,2);ut.__click=fe;var Mt=f(ut,!0);v(ut);var Gt=p(ut,2);{var F=D=>{var ae=Rh(),ie=f(ae,!0);v(ae),L(()=>q(ie,s(w))),b(D,ae)};A(Gt,D=>{s(w)&&D(F)})}v(G),L(()=>{q(Xe,s(re)==="jukebox"?"Add another song":"Search for a song"),ut.disabled=!s(ge)||s(k),q(Mt,s(re)==="jukebox"?"Add to Stack":"Add to Queue")}),b(M,G)};A(wa,M=>{(s(re)==="jukebox"||!s(K)&&!s(Z))&&M(ka)})}var ba=p(wa,2);Fp(ba,{get entries(){return s(n).queue},get myName(){return s(a)},get myVotes(){return s(o)},onVote:Ge,onRemove:De});var ta=p(ba,2);{var fs=M=>{var G=jh(),oe=f(G);As(bh(oe,{}),Ee=>c(d,Ee,!0),()=>s(d)),v(G),b(M,G)};A(ta,M=>{s(ne)&&M(fs)})}v(en);var _a=p(en,4);ud(_a,{get mode(){return s(T)},get name(){return s(E)},onSuccess:Ie,onClose:U,onChangeName:Q});var ps=p(_a,2);{var hs=M=>{var G=qh(),oe=f(G),Ee=p(f(oe),2),le=f(Ee);v(Ee),pt(2),v(oe),v(G),L(()=>q(le,\`\${s(j)>0?"+":""}\${s(j)??""}\`)),b(M,G)};A(ps,M=>{s(x)&&M(hs)})}var La=p(ps,2);Hp(La),L(()=>Pt(Zn,"href",\`/\${s(J)??""}/player\`)),b(e,Le),Ve()}var Op,zp,Lp,Up,vl,Wp,Dp,Vp,Yp,Gp,Qp,Kp,Xp,Zp,eh,th,nh,ah,sh,rh,oh,ih,lh,uh,dh,vh,fh,ph,hh,mh,gh,yh,wh,kh,_h,Sh,xh,Ph,\$h,Eh,Ch,Th,Ih,Rh,Nh,jh,qh,Ah,fl=Fe(()=>{"use strict";qt();\$s();st();us();Os();Ms();sl();Rn();vs();Ko();No();dl();Op=S('<div class="empty-state svelte-a7cxk7"><div class="empty-icon svelte-a7cxk7">\\u{1F3A4}</div> <h3 class="svelte-a7cxk7">The stage is silent...</h3> <p class="svelte-a7cxk7">Be the hero this party needs!</p> <div class="arrow svelte-a7cxk7">\\u2193</div></div>'),zp=S('<div class="svelte-a7cxk7"><!></div>'),Lp=S('<ul class="queue-list svelte-a7cxk7"></ul>'),Up=S('<div class="queue-section svelte-a7cxk7"><div class="section-header svelte-a7cxk7"><span class="section-title svelte-a7cxk7">Up Next</span> <span class="queue-count svelte-a7cxk7"> </span></div> <!></div>');vl=typeof navigator<"u"&&typeof navigator.vibrate=="function";Wp=S('<button class="popular-item svelte-m2a9xz"><div class="popular-thumb-wrapper svelte-m2a9xz"><img class="popular-thumb svelte-m2a9xz" alt="" loading="lazy"/> <span class="play-count svelte-m2a9xz"> </span></div> <div class="popular-info svelte-m2a9xz"><div class="popular-song-title svelte-m2a9xz"> </div></div></button>'),Dp=S('<div class="popular-section svelte-m2a9xz"><h3 class="popular-title svelte-m2a9xz">Popular in this room</h3> <div class="popular-grid svelte-m2a9xz"></div></div>');xt(["click"]);Vp=S('<button><span class="cat-icon svelte-4vowdw"> </span> <span class="cat-label"> </span></button>'),Yp=S('<div class="error-msg svelte-4vowdw"> </div>'),Gp=S(\`<div class="overlay svelte-4vowdw" role="presentation"><div class="modal svelte-4vowdw" role="dialog" aria-modal="true" tabindex="-1"><button class="close-btn svelte-4vowdw" aria-label="Close">x</button> <h2 class="svelte-4vowdw">Send Feedback</h2> <div class="category-row svelte-4vowdw"></div> <textarea placeholder="What's on your mind?" maxlength="2000" rows="5" class="svelte-4vowdw"></textarea> <input type="text" placeholder="Brief title (optional)" maxlength="100" class="svelte-4vowdw"/> <!> <button class="btn svelte-4vowdw"> </button></div></div>\`);xt(["click","keydown"]);Qp=S(\`<div class="overlay svelte-8t29c9" role="presentation"><div class="modal svelte-8t29c9" role="dialog" aria-modal="true" tabindex="-1"><button class="close-btn svelte-8t29c9" aria-label="Close">\\xD7</button> <h2 class="svelte-8t29c9">How It Works</h2> <div class="steps svelte-8t29c9"><div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">1</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Enter your name</strong> <p class="svelte-8t29c9">This is how you'll appear on the big screen</p></div></div> <div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">2</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Search for a song</strong> <p class="svelte-8t29c9">Find your karaoke jam (max 7 minutes)</p></div></div> <div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">3</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Join the queue</strong> <p class="svelte-8t29c9">You'll see your position and when you're up</p></div></div></div> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Fair Queue System</h3> <p class="info svelte-8t29c9">First-timers and people who've been waiting longer get priority.
        After you sing, you move to the back \\u2014 so everyone gets a turn!</p> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Voting</h3> <p class="info svelte-8t29c9">Upvote songs you want to hear sooner. Downvote to push them back.
        Votes only affect order within the same priority tier.</p> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Claim Your Name</h3> <p class="info svelte-8t29c9">After your first song, you can lock your name with a 6-digit PIN.
        This prevents others from using your stage name.</p> <div class="divider svelte-8t29c9"></div> <button class="feedback-link svelte-8t29c9">Send Feedback</button></div></div>\`),Kp=S('<button class="help-btn svelte-8t29c9" aria-label="Help">?</button> <!> <!>',1);xt(["click","keydown"]);Xp=S('<div class="loading-skeleton svelte-r761lh"></div>'),Zp=S('<img alt="" class="avatar svelte-r761lh"/>'),eh=S('<div class="avatar-placeholder svelte-r761lh"> </div>'),th=S('<span class="email svelte-r761lh"> </span>'),nh=S('<button class="menu-item svelte-r761lh"><svg viewBox="0 0 24 24" class="google-icon svelte-r761lh"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" class="svelte-r761lh"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" class="svelte-r761lh"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" class="svelte-r761lh"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" class="svelte-r761lh"></path></svg> Sign in with Google</button>'),ah=S('<div class="dropdown-menu svelte-r761lh"><div class="menu-header svelte-r761lh"><span class="provider-badge svelte-r761lh"> </span> <!></div> <!> <button class="menu-item logout svelte-r761lh">Sign Out</button></div>'),sh=S('<button class="user-button svelte-r761lh"><!> <span class="display-name svelte-r761lh"> </span> <span class="dropdown-arrow svelte-r761lh"> </span></button> <!>',1),rh=S('<div class="name-input-container svelte-r761lh"><input type="text" placeholder="Your name" maxlength="30" class="name-input svelte-r761lh"/> <button class="go-btn svelte-r761lh">Go</button></div>'),oh=S('<button class="login-btn google svelte-r761lh"><svg viewBox="0 0 24 24" class="google-icon svelte-r761lh"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" class="svelte-r761lh"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" class="svelte-r761lh"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" class="svelte-r761lh"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" class="svelte-r761lh"></path></svg> Sign in</button> <button class="login-btn guest svelte-r761lh">Continue as Guest</button>',1),ih=S('<div class="login-options svelte-r761lh"><!></div>'),lh=S('<div class="login-container svelte-r761lh"><!></div>');xt(["click","keydown"]);uh=S('<span class="count svelte-owkba6"> </span>'),dh=S('<div class="loading svelte-owkba6">Loading...</div>'),vh=S('<div class="error svelte-owkba6"> </div>'),fh=S('<div class="in-queue-card svelte-owkba6"><div class="status-badge svelte-owkba6">In Queue</div> <div class="song-info svelte-owkba6"><span class="title svelte-owkba6"> </span> <span class="votes svelte-owkba6"> </span></div></div>'),ph=S(\`<p class="svelte-owkba6">Add more songs - they'll play after your current one!</p>\`),hh=S('<p class="svelte-owkba6">Search and add songs to build your queue</p>'),mh=S('<div class="empty-state svelte-owkba6"><!></div>'),gh=S('<div draggable="true" role="listitem"><span class="drag-handle svelte-owkba6">\\u22EE\\u22EE</span> <div class="song-details svelte-owkba6"><span class="position svelte-owkba6"></span> <span class="title svelte-owkba6"> </span></div> <button class="remove-btn svelte-owkba6" aria-label="Remove from stack">\\xD7</button></div>'),yh=S('<div class="stack-list svelte-owkba6"></div> <p class="stack-hint svelte-owkba6">Drag to reorder. Your next song will join the main queue when your current song finishes.</p>',1),wh=S("<!> <!>",1),kh=S('<div class="my-stack svelte-owkba6"><h3 class="section-title svelte-owkba6">My Queue <!></h3> <!></div>');xt(["click"]);_h=S("<span> </span>"),Sh=S(\`<div class="on-deck-banner on-deck-next svelte-1y2kg8x"><div class="deck-icon svelte-1y2kg8x">\\u{1F399}\\uFE0F</div> <div class="deck-text svelte-1y2kg8x"><strong class="svelte-1y2kg8x">You're up next!</strong><br/> Get ready to take the mic!</div></div>\`),xh=S('<div class="on-deck-banner on-deck-soon svelte-1y2kg8x"><div class="deck-icon svelte-1y2kg8x">\\u{1F440}</div> <div class="deck-text svelte-1y2kg8x"><strong class="svelte-1y2kg8x">On deck</strong><br/> One song until your turn</div></div>'),Ph=S('<div class="my-song-card svelte-1y2kg8x"><div class="my-song-header svelte-1y2kg8x"><span class="my-song-label svelte-1y2kg8x">Your song</span> <span class="my-song-position svelte-1y2kg8x"> </span></div> <div class="my-song-title svelte-1y2kg8x"> </div> <button class="btn btn-change svelte-1y2kg8x">Change Song</button></div>'),\$h=S(\`<div class="my-turn-card svelte-1y2kg8x"><div class="my-turn-label svelte-1y2kg8x">You're up!</div> <div class="my-turn-song svelte-1y2kg8x"> </div> <button class="btn btn-warning">Skip My Song</button></div>\`),Eh=S('<div class="input-group svelte-1y2kg8x"><label class="input-label svelte-1y2kg8x" for="nameInput">Your name</label> <input type="text" id="nameInput" placeholder="Enter your name" maxlength="30" autocomplete="off"/></div>'),Ch=S('<div class="selected-song svelte-1y2kg8x"><div class="selected-song-title svelte-1y2kg8x"> </div> <div class="selected-song-meta svelte-1y2kg8x"> </div></div>'),Th=S('<div class="validation-spinner svelte-1y2kg8x"></div>'),Ih=S("<div><!> </div>"),Rh=S('<div class="error-msg svelte-1y2kg8x"> </div>'),Nh=S('<div class="join-card svelte-1y2kg8x"><!> <div class="input-group svelte-1y2kg8x"><span class="input-label svelte-1y2kg8x"> </span> <!> <!> <!> <!></div> <button class="btn"> </button> <!></div>'),jh=S('<div class="my-stack-section svelte-1y2kg8x"><!></div>'),qh=S('<div class="recap-overlay svelte-1y2kg8x"><div class="recap-content svelte-1y2kg8x"><div class="recap-applause svelte-1y2kg8x">\\u{1F44F} APPLAUSE! \\u{1F44F}</div> <div class="recap-votes svelte-1y2kg8x"> </div> <div class="recap-label svelte-1y2kg8x">VOTES RECEIVED</div></div></div>'),Ah=S('<div class="container"><header class="svelte-1y2kg8x"><div class="header-top svelte-1y2kg8x"><h1 class="svelte-1y2kg8x">Karaoke</h1> <!></div> <p class="subtitle svelte-1y2kg8x">Pick a song, join the queue, sing your heart out</p> <div class="header-actions svelte-1y2kg8x"><!> <a target="_blank" rel="noopener" class="player-link svelte-1y2kg8x">Open Player</a></div></header> <!> <!> <!>  <!> <!> <!></div> <div id="validationPlayer" style="display: none;"></div> <!> <!> <!>',1);xt(["click","input"])});var fd={};Ln(fd,{component:()=>zh,universal:()=>Oh});function zh(e){Xo(e,{})}var Mh,Oh,pd=Fe(()=>{"use strict";qt();Rn();fl();Mh=!1,Oh=Object.freeze(Object.defineProperty({__proto__:null,prerender:Mh},Symbol.toStringTag,{value:"Module"}))});function Zo(e,t){Be(t,!0);let n=\$(!1),a=\$(!1),r=\$(""),o=\$(""),i=\$(!1),l=\$(""),u=\$(Ae({queue:[],nowPlaying:null,currentEpoch:0})),d=\$(null),h=\$(!1),y=\$(""),m=\$(""),g=\$(""),k=\$(""),w=\$(Ae([])),T=\$(!1),E=\$(null),N=\$(!1),x=\$("singer"),j=\$(""),P=\$(null),O=\$(Ae([])),Y=\$(!1),z=Us(),_=null;rn(()=>{c(l,ot(),!0),Tr()?(c(n,!0),c(a,!0),B()):C()}),Ps(()=>{z.disconnect(),_&&clearInterval(_)});async function C(){try{(await(await fetch(\`/api/room/check?room=\${encodeURIComponent(s(l))}\`)).json()).kind==="notFound"?(c(n,!0),B()):c(n,!1)}catch{c(n,!1)}c(a,!0)}async function B(){z.onState(U=>{c(u,U,!0),_&&(clearInterval(_),_=null)}),z.connect("admin"),_=setInterval(async()=>{let U=await Wo();U&&c(u,U,!0)},2e3),c(d,await Do(),!0)}async function K(){if(s(r).length!==6){c(o,"PIN must be 6 digits");return}c(i,!0),c(o,"");let U=await Bo(s(r));c(i,!1),U.kind==="verified"?(Vo(U.token),c(n,!0),X.success("Logged in as admin"),B()):U.kind==="invalidPin"?(c(o,"Incorrect PIN"),c(r,"")):U.kind==="roomNotFound"?c(o,"Room not found"):c(o,U.message||"Authentication failed",!0)}function Z(){Yo(),c(n,!1),z.disconnect(),_&&(clearInterval(_),_=null),c(r,""),c(u,{queue:[],nowPlaying:null,currentEpoch:0},!0)}function te(U){U.key==="Enter"&&!s(i)&&K()}async function R(){let U=await Go();if(U.kind==="skipped")X.success("Skipped!");else{let Q=U.kind==="error"?U.message:U.kind==="nothingPlaying"?"Nothing is playing":U.kind==="unauthorized"?"Session expired - please log in again":"Failed to skip";U.kind==="unauthorized"&&Z(),X.error(Q)}}async function J(){if(!s(k).trim()||s(T))return;c(T,!0),c(w,[],!0),c(E,null);let U=await Cr(s(k).trim());if(c(T,!1),U.kind==="error"){X.error(U.message);return}c(w,U.results,!0)}function ne(U){c(E,U.id,!0),c(m,\`https://www.youtube.com/watch?v=\${U.id}\`),c(g,U.title,!0)}async function re(){if(!s(y).trim()||!s(m).trim()){X.error("Name and URL required");return}let U=Fs(s(m).trim());if(!U){X.error("Invalid YouTube URL");return}let Q=await Qo({name:s(y).trim(),videoId:U,title:s(g).trim()||"Added by admin"});if(Q.kind==="joined")X.success("Added to front of queue!"),c(y,""),c(m,""),c(g,""),c(k,""),c(w,[],!0),c(E,null);else{let ye=Q.kind==="error"?Q.message:Q.kind==="invalidVideo"?Q.reason:"Failed to add";X.error(ye)}}async function ge(){if(!s(y).trim()||!s(m).trim()){X.error("Name and URL required");return}let U=Fs(s(m).trim());if(!U){X.error("Invalid YouTube URL");return}let Q=await zs({name:s(y).trim(),videoId:U,title:s(g).trim()||"Added by admin",verified:!0});if(Q.kind==="joined")X.success("Added to queue!"),c(y,""),c(m,""),c(g,""),c(k,""),c(w,[],!0),c(E,null);else{let ye=Q.kind==="error"?Q.message:Q.kind==="invalidVideo"?Q.reason:"Failed to add";X.error(ye)}}async function ue(U){if(!confirm("Remove this entry?"))return;let Q=await Jo(U);if(Q.kind!=="removed"){let ye=Q.kind==="error"?Q.message:Q.kind==="entryNotFound"?"Entry not found":Q.kind==="unauthorized"?"Session expired - please log in again":"Failed to remove";Q.kind==="unauthorized"&&Z(),X.error(ye)}}async function ee(U){let Q=s(u).queue.findIndex(Le=>Le.id===U);if(Q<=0)return;let ye=await Ls(U,Q-1);if(ye.kind!=="reordered"){let Le=ye.kind==="error"?ye.message:"Failed to move";X.error(Le)}}async function Pe(U){let Q=s(u).queue.findIndex(Le=>Le.id===U);if(Q===-1||Q>=s(u).queue.length-1)return;let ye=await Ls(U,Q+1);if(ye.kind!=="reordered"){let Le=ye.kind==="error"?ye.message:"Failed to move";X.error(Le)}}async function he(){if(!s(d)||s(h))return;let U=s(d).mode==="jukebox"?"karaoke":"jukebox";if(!confirm(U==="jukebox"?"Switch to Jukebox Mode? Queue will re-sort by votes only.":"Switch to Karaoke Mode? Queue will re-sort by epochs."))return;c(h,!0);let Q=await Zu(U);if(c(h,!1),Q.kind==="updated")c(d,Q.config,!0),X.success(\`Switched to \${U==="jukebox"?"Jukebox":"Karaoke"} Mode\`);else if(Q.kind==="unauthorized")X.error("Session expired - please log in again"),Z();else{let ye=Q.kind==="error"?Q.message:"Failed to change mode";X.error(ye)}}function Te(){c(N,!s(N))}function de(U){c(x,U,!0),U==="popular"&&!s(Y)&&me()}async function fe(){if(s(j).trim())try{let U=await fetch(\`/api/history/\${encodeURIComponent(s(j).trim())}?room=\${encodeURIComponent(s(l))}\`),Q=await U.json();U.ok?c(P,Q,!0):c(P,{error:Q.error??"Not found"},!0)}catch{c(P,{error:"Lookup failed"},!0)}}async function me(){try{let U=await fetch(\`/api/songs/popular?limit=20&room=\${encodeURIComponent(s(l))}\`),Q=await U.json();U.ok&&Q.songs&&(c(O,Q.songs,!0),c(Y,!0))}catch{c(O,[],!0)}}var Ge=ze(),De=se(Ge);{var \$e=U=>{var Q=Lh();b(U,Q)},Ie=U=>{var Q=ze(),ye=se(Q);{var Le=ct=>{var It=Wh(),tn=f(It),tt=p(f(tn),2);{var un=mt=>{var nn=Uh(),vn=f(nn);v(nn),L(()=>q(vn,\`Room: \${s(l)??""}\`)),b(mt,nn)};A(tt,mt=>{s(l)!=="default"&&mt(un)})}v(tn);var jn=p(tn,2),Zn=f(jn),Pn=p(f(Zn),2);He(Pn),Pn.__keydown=te,v(Zn);var dn=p(Zn,2);dn.__click=K;var ya=f(dn,!0);v(dn);var qn=p(dn,2);{var ea=mt=>{var nn=Fh(),vn=f(nn,!0);v(nn),L(()=>q(vn,s(o))),b(mt,nn)};A(qn,mt=>{s(o)&&mt(ea)})}v(jn),v(It),L(()=>{Pn.disabled=s(i),dn.disabled=s(i)||s(r).length!==6,q(ya,s(i)?"Verifying...":"Login")}),rt(Pn,()=>s(r),mt=>c(r,mt)),b(ct,It)},en=ct=>{var It=dm(),tn=f(It),tt=p(f(tn),2),un=f(tt);{var jn=F=>{var D=Pr();L(()=>q(D,\`Room: \${s(l)??""}\`)),b(F,D)},Zn=F=>{var D=Pr("Manage the karaoke queue");b(F,D)};A(un,F=>{s(l)!=="default"?F(jn):F(Zn,!1)})}v(tt);var Pn=p(tt,2);Pn.__click=Z,v(tn);var dn=p(tn,2);{var ya=F=>{var D=Dh(),ae=f(D),ie=p(f(ae),2);let ke;var je=f(ie,!0);v(ie),v(ae);var H=p(ae,2);H.__click=he;var pe=f(H,!0);v(H),v(D),L(()=>{ke=We(ie,1,"mode-badge svelte-ghvl9i",null,ke,{jukebox:s(d).mode==="jukebox",karaoke:s(d).mode==="karaoke"}),q(je,s(d).mode==="jukebox"?"\\u{1F3B5} Jukebox":"\\u{1F3A4} Karaoke"),H.disabled=s(h),q(pe,s(h)?"Switching...":\`Switch to \${s(d).mode==="jukebox"?"Karaoke":"Jukebox"}\`)}),b(F,D)};A(dn,F=>{s(d)&&F(ya)})}var qn=p(dn,2),ea=f(qn);{var mt=F=>{var D=Bh(),ae=se(D),ie=p(f(ae),2),ke=f(ie);v(ie),v(ae);var je=p(ae,2),H=f(je),pe=f(H,!0);v(H);var Re=p(H,2),qe=f(Re,!0);v(Re),v(je);var Ue=p(je,2),Je=f(Ue);Je.__click=R,v(Ue),L(()=>{q(ke,\`Epoch: \${s(u).currentEpoch??""}\`),q(pe,s(u).nowPlaying.title),q(qe,s(u).nowPlaying.name)}),b(F,D)},nn=F=>{var D=Vh();b(F,D)};A(ea,F=>{s(u).nowPlaying?F(mt):F(nn,!1)})}v(qn);var vn=p(qn,2),wa=p(f(vn),2),ka=f(wa);He(ka);var ba=p(ka,2),ta=f(ba);He(ta);var fs=p(ta,2);fs.__click=J,v(ba);var _a=p(ba,2);{var ps=F=>{var D=Yh();b(F,D)},hs=F=>{var D=ze(),ae=se(D);{var ie=ke=>{var je=Jh();lt(je,21,()=>s(w),H=>H.id,(H,pe)=>{var Re=Gh();let qe;Re.__click=()=>ne(s(pe));var Ue=f(Re),Je=p(Ue,2),et=f(Je),dt=f(et,!0);v(et);var vt=p(et,2),gt=f(vt);v(vt),v(Je),v(Re),L(()=>{qe=We(Re,1,"search-result svelte-ghvl9i",null,qe,{selected:s(E)===s(pe).id}),Pt(Ue,"src",s(pe).thumbnail),q(dt,s(pe).title),q(gt,\`\${s(pe).channel??""} \\xB7 \${s(pe).duration??""}\`)}),b(H,Re)}),v(je),b(ke,je)};A(ae,ke=>{s(w).length>0&&ke(ie)},!0)}b(F,D)};A(_a,F=>{s(T)?F(ps):F(hs,!1)})}var La=p(_a,2);He(La);var M=p(La,2);He(M);var G=p(M,2),oe=f(G);oe.__click=ge;var Ee=p(oe,2);Ee.__click=re,v(G),v(wa),v(vn);var le=p(vn,2),we=f(le),Xe=p(f(we),2),I=f(Xe);v(Xe),v(we);var W=p(we,2);{var ve=F=>{var D=Qh();b(F,D)},_e=F=>{var D=Zh();lt(D,23,()=>s(u).queue,ae=>ae.id,(ae,ie,ke)=>{var je=Xh(),H=f(je),pe=f(H,!0);v(H);var Re=p(H,2),qe=f(Re),Ue=f(qe,!0);v(qe);var Je=p(qe,2),et=f(Je),dt=f(et,!0);v(et);var vt=p(et,2),gt=f(vt);v(vt);var ft=p(vt,2),yt=f(ft);v(ft),v(Je),v(Re);var fn=p(Re,2),Sa=f(fn);{var _t=zt=>{var Mn=Kh();Mn.__click=()=>ee(s(ie).id),b(zt,Mn)};A(Sa,zt=>{s(ke)>0&&zt(_t)})}var Ot=p(Sa,2);{var An=zt=>{var Mn=Hh();Mn.__click=()=>Pe(s(ie).id),b(zt,Mn)};A(Ot,zt=>{s(ke)<s(u).queue.length-1&&zt(An)})}var pn=p(Ot,2);pn.__click=()=>ue(s(ie).id),v(fn),v(je),L(()=>{q(pe,s(ke)+1),q(Ue,s(ie).title),q(dt,s(ie).name),q(gt,\`Epoch: \${s(ie).epoch??""}\`),q(yt,\`Votes: \${s(ie).votes??""}\`)}),b(ae,je)}),v(D),b(F,D)};A(W,F=>{s(u).queue.length===0?F(ve):F(_e,!1)})}v(le);var Ze=p(le,2),Me=f(Ze);Me.__click=Te;var nt=p(f(Me),2);let ut;v(Me);var Mt=p(Me,2);{var Gt=F=>{var D=um(),ae=f(D),ie=f(ae);let ke;ie.__click=()=>de("singer");var je=p(ie,2);let H;je.__click=()=>de("popular"),v(ae);var pe=p(ae,2);{var Re=Ue=>{var Je=om(),et=se(Je),dt=f(et);He(dt);var vt=p(dt,2);vt.__click=fe,v(et);var gt=p(et,2);{var ft=yt=>{var fn=ze(),Sa=se(fn);{var _t=An=>{var pn=em(),zt=f(pn,!0);v(pn),L(()=>q(zt,s(P).error)),b(An,pn)},Ot=An=>{var pn=ze(),zt=se(pn);{var Mn=\$n=>{var On=tm();b(\$n,On)},Ws=\$n=>{var On=rm(),Ds=se(On),ms=f(Ds),gs=f(ms),ti=f(gs,!0);v(gs),pt(),v(ms);var ys=p(ms,2),Nr=f(ys),Rd=f(Nr,!0);v(Nr),pt(),v(ys);var ni=p(ys,2),kl=f(ni),Nd=f(kl,!0);v(kl),pt(),v(ni);var jd=p(ni,2);{var qd=na=>{var zn=nm();b(na,zn)};A(jd,na=>{s(P).claimed&&na(qd)})}v(Ds);var bl=p(Ds,2);lt(bl,17,()=>s(P).performances.slice(0,10),Ma,(na,zn)=>{var Bs=am(),ai=f(Bs),Od=f(ai,!0);v(ai);var _l=p(ai,2),zd=f(_l);v(_l),v(Bs),L(Ld=>{q(Od,s(zn).title),q(zd,\`\${s(zn).votes>0?"+":""}\${s(zn).votes??""} votes \\xB7 \${Ld??""}\`)},[()=>new Date(s(zn).performedAt).toLocaleDateString()]),b(na,Bs)});var Ad=p(bl,2);{var Md=na=>{var zn=sm(),Bs=f(zn);v(zn),L(()=>q(Bs,\`...and \${s(P).performances.length-10} more\`)),b(na,zn)};A(Ad,na=>{s(P).performances.length>10&&na(Md)})}L(()=>{q(ti,s(P).totalSongs),q(Rd,s(P).completedSongs),q(Nd,s(P).totalVotes)}),b(\$n,On)};A(zt,\$n=>{var On;((On=s(P).performances)==null?void 0:On.length)===0?\$n(Mn):\$n(Ws,!1)},!0)}b(An,pn)};A(Sa,An=>{s(P).error?An(_t):An(Ot,!1)})}b(yt,fn)};A(gt,yt=>{s(P)&&yt(ft)})}ln("keypress",dt,yt=>yt.key==="Enter"&&fe()),rt(dt,()=>s(j),yt=>c(j,yt)),b(Ue,Je)},qe=Ue=>{var Je=ze(),et=se(Je);{var dt=gt=>{var ft=im();b(gt,ft)},vt=gt=>{var ft=ze(),yt=se(ft);{var fn=_t=>{var Ot=lm();b(_t,Ot)},Sa=_t=>{var Ot=ze(),An=se(Ot);lt(An,19,()=>s(O),pn=>pn.videoId,(pn,zt,Mn)=>{var Ws=cm(),\$n=f(Ws);let On;var Ds=f(\$n,!0);v(\$n);var ms=p(\$n,2),gs=f(ms),ti=f(gs,!0);v(gs);var ys=p(gs,2),Nr=f(ys);v(ys),v(ms),v(Ws),L(()=>{On=We(\$n,1,"popular-rank svelte-ghvl9i",null,On,{top:s(Mn)<3}),q(Ds,s(Mn)+1),q(ti,s(zt).title),q(Nr,\`\${s(zt).timesPlayed??""} plays \\xB7 \${s(zt).totalVotes??""} votes\`)}),b(pn,Ws)}),b(_t,Ot)};A(yt,_t=>{s(O).length===0?_t(fn):_t(Sa,!1)},!0)}b(gt,ft)};A(et,gt=>{s(Y)?gt(vt,!1):gt(dt)})}b(Ue,Je)};A(pe,Ue=>{s(x)==="singer"?Ue(Re):Ue(qe,!1)})}v(D),L(()=>{ke=We(ie,1,"history-tab svelte-ghvl9i",null,ke,{active:s(x)==="singer"}),H=We(je,1,"history-tab svelte-ghvl9i",null,H,{active:s(x)==="popular"})}),b(F,D)};A(Mt,F=>{s(N)&&F(Gt)})}v(Ze),v(It),L(()=>{fs.disabled=s(T),q(I,\`\${s(u).queue.length??""} entries\`),ut=We(nt,1,"history-toggle svelte-ghvl9i",null,ut,{expanded:s(N)})}),rt(ka,()=>s(y),F=>c(y,F)),ln("keypress",ta,F=>F.key==="Enter"&&J()),rt(ta,()=>s(k),F=>c(k,F)),rt(La,()=>s(m),F=>c(m,F)),rt(M,()=>s(g),F=>c(g,F)),b(ct,It)};A(ye,ct=>{s(n)?ct(en,!1):ct(Le)},!0)}b(U,Q)};A(De,U=>{s(a)?U(Ie,!1):U(\$e)})}b(e,Ge),Ve()}var Lh,Uh,Fh,Wh,Dh,Bh,Vh,Yh,Gh,Jh,Qh,Kh,Hh,Xh,Zh,em,tm,nm,am,sm,rm,om,im,lm,cm,um,dm,pl=Fe(()=>{"use strict";qt();\$s();st();us();vs();Os();Ms();Rn();Ko();dl();Lh=S('<div class="container admin-container svelte-ghvl9i"><div class="loading svelte-ghvl9i">Loading...</div></div>'),Uh=S('<p class="subtitle svelte-ghvl9i"> </p>'),Fh=S('<div class="error-msg svelte-ghvl9i"> </div>'),Wh=S('<div class="container admin-container svelte-ghvl9i"><header class="svelte-ghvl9i"><h1 class="svelte-ghvl9i">Admin Login</h1> <!></header> <div class="login-card svelte-ghvl9i"><div class="input-group svelte-ghvl9i"><label class="input-label svelte-ghvl9i" for="pinInput">Enter admin PIN</label> <input type="password" id="pinInput" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000"/></div> <button class="btn"> </button> <!></div></div>'),Dh=S('<div class="mode-card svelte-ghvl9i"><div class="mode-info svelte-ghvl9i"><span class="mode-label svelte-ghvl9i">Queue Mode</span> <span> </span></div> <button class="btn btn-mode svelte-ghvl9i"> </button></div>'),Bh=S('<div class="now-playing-header svelte-ghvl9i"><span class="now-playing-label svelte-ghvl9i">Now Playing</span> <span class="epoch-badge svelte-ghvl9i"> </span></div> <div class="now-playing-info svelte-ghvl9i"><div class="now-playing-title svelte-ghvl9i"> </div> <div class="now-playing-singer svelte-ghvl9i"> </div></div> <div class="now-playing-controls svelte-ghvl9i"><button class="btn btn-warning">Skip Song</button></div>',1),Vh=S('<div class="now-playing-empty svelte-ghvl9i">Nothing playing</div>'),Yh=S('<div class="searching svelte-ghvl9i">Searching...</div>'),Gh=S('<button><img class="result-thumb svelte-ghvl9i" alt=""/> <div class="result-info svelte-ghvl9i"><div class="result-title svelte-ghvl9i"> </div> <div class="result-meta svelte-ghvl9i"> </div></div></button>'),Jh=S('<div class="search-results svelte-ghvl9i"></div>'),Qh=S('<div class="empty-state svelte-ghvl9i">Queue is empty</div>'),Kh=S('<button class="action-btn svelte-ghvl9i" title="Move up">^</button>'),Hh=S('<button class="action-btn svelte-ghvl9i" title="Move down">v</button>'),Xh=S('<li class="queue-item svelte-ghvl9i"><span class="position svelte-ghvl9i"> </span> <div class="queue-info svelte-ghvl9i"><div class="queue-song svelte-ghvl9i"> </div> <div class="queue-meta svelte-ghvl9i"><span> </span> <span> </span> <span> </span></div></div> <div class="queue-actions svelte-ghvl9i"><!> <!> <button class="action-btn danger svelte-ghvl9i" title="Remove">x</button></div></li>'),Zh=S('<ul class="queue-list svelte-ghvl9i"></ul>'),em=S('<div class="searching svelte-ghvl9i"> </div>'),tm=S('<div class="searching svelte-ghvl9i">No history for this singer</div>'),nm=S('<span class="claimed-badge svelte-ghvl9i">claimed</span>'),am=S('<div class="history-item svelte-ghvl9i"><span class="history-item-title svelte-ghvl9i"> </span> <span class="history-item-meta svelte-ghvl9i"> </span></div>'),sm=S('<div class="searching svelte-ghvl9i"> </div>'),rm=S('<div class="stats-row svelte-ghvl9i"><span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> songs</span> <span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> completed</span> <span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> total votes</span> <!></div> <!> <!>',1),om=S('<div class="lookup-row svelte-ghvl9i"><input type="text" placeholder="Singer name..."/> <button class="btn btn-cyan lookup-btn svelte-ghvl9i">Lookup</button></div> <!>',1),im=S('<div class="searching svelte-ghvl9i">Loading popular songs...</div>'),lm=S('<div class="searching svelte-ghvl9i">No songs recorded yet</div>'),cm=S('<div class="popular-item svelte-ghvl9i"><span> </span> <div class="popular-info svelte-ghvl9i"><div class="popular-title svelte-ghvl9i"> </div> <div class="popular-stats svelte-ghvl9i"> </div></div></div>'),um=S('<div class="history-content svelte-ghvl9i"><div class="history-tabs svelte-ghvl9i"><button>Singer Lookup</button> <button>Popular Songs</button></div> <!></div>'),dm=S('<div class="container admin-container svelte-ghvl9i"><header class="svelte-ghvl9i"><h1 class="svelte-ghvl9i">Admin Control</h1> <p class="subtitle svelte-ghvl9i"><!></p> <button class="logout-btn svelte-ghvl9i">Logout</button></header> <!> <div class="now-playing-card svelte-ghvl9i"><!></div> <div class="add-card svelte-ghvl9i"><div class="add-header svelte-ghvl9i">Add Entry</div> <div class="add-form svelte-ghvl9i"><input type="text" placeholder="Singer name" maxlength="30"/> <div class="search-row svelte-ghvl9i"><input type="text" placeholder="Search for a song..."/> <button class="btn btn-cyan search-btn svelte-ghvl9i">Search</button></div> <!> <input type="text" placeholder="YouTube URL (or select from search)"/> <input type="text" placeholder="Song title" maxlength="100"/> <div class="add-buttons svelte-ghvl9i"><button class="btn btn-cyan svelte-ghvl9i">Add to Queue</button> <button class="btn btn-warning svelte-ghvl9i">Add to Front</button></div></div></div> <div class="queue-section svelte-ghvl9i"><div class="section-header svelte-ghvl9i"><span class="section-title svelte-ghvl9i">Queue</span> <span class="queue-count svelte-ghvl9i"> </span></div> <!></div> <div class="history-section svelte-ghvl9i"><button class="history-header svelte-ghvl9i"><span class="section-title svelte-ghvl9i">History & Stats</span> <span>\\u25BC</span></button> <!></div></div>');xt(["keydown","click"])});var hd={};Ln(hd,{component:()=>pm,universal:()=>fm});function pm(e){Zo(e,{})}var vm,fm,md=Fe(()=>{"use strict";qt();Rn();pl();vm=!1,fm=Object.freeze(Object.defineProperty({__proto__:null,prerender:vm},Symbol.toStringTag,{value:"Module"}))});function ei(e,t){Be(t,!0);let n=7e3,a=200,r=1e4,o=\$(Ae({queue:[],nowPlaying:null,currentEpoch:0})),i=\$(!1),l=\$(""),u=null,d=\$(!1),h=null,y=!1,m=\$("idle_screen"),g=null,k=\$(0),w=null,T=null,E=null,N=Us(),x=null,j=null,P=null,O=\$(!0),Y=\$(!1),z=\$(""),_=\$(!1),C=\$(!1),B=\$(""),K=\$(""),Z=\$(Ae([])),te=\$(!1),R=\$(null),J=\$(""),ne=Qe(()=>s(o).queue.slice(0,5)),re=Qe(()=>\`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=\${encodeURIComponent(\`https://karaoke-queue.boris-47d.workers.dev/\${s(l)}\`)}&bgcolor=0a0a0f&color=ffffff\`);rn(()=>{if(c(l,ot(),!0),Tr()&&c(Y,!0),N.onState((I,W)=>{c(i,!0),he(I),W&&Pe(W,N.getServerTimeOffset()),E&&(clearInterval(E),E=null)}),N.onSync((I,W)=>{Pe(I,W)}),N.connect("player"),setTimeout(()=>{s(i)||ge()},2e3),typeof window<"u")if(window.onYouTubeIframeAPIReady=Te,window.YT)window.YT.Player&&Te();else{let I=document.createElement("script");I.src="https://www.youtube.com/iframe_api",document.head.appendChild(I)}ue(),typeof document<"u"&&document.addEventListener("visibilitychange",ee)}),Ps(()=>{N.disconnect(),E&&clearInterval(E),g&&clearTimeout(g),w&&clearInterval(w),j&&clearInterval(j),typeof document<"u"&&document.removeEventListener("visibilitychange",ee)});function ge(){E=setInterval(async()=>{if(!s(i)){let I=await Wo();I&&he(I)}},2e3)}function ue(){j&&clearInterval(j),j=setInterval(()=>{s(i)&&s(m)==="playing_song"&&P!=null&&P.playing&&N.requestSync()},r)}function ee(){document.visibilityState==="visible"&&s(i)&&N.requestSync()}function Pe(I,W){if(P=I,!I.playing||!I.videoId||!u||!s(d)||h!==I.videoId)return;let ve=(Date.now()+W-I.startedAt)/1e3,_e=I.position+ve,Ze=u.getCurrentTime()-_e,Me=Math.abs(Ze*1e3);if(Me>a){console.log(\`[Sync] Drift detected: \${Ze.toFixed(2)}s (\${Me.toFixed(0)}ms), seeking to \${_e.toFixed(2)}s\`),u.seekTo(_e,!0);let nt=u.getPlayerState();nt!==YT.PlayerState.PLAYING&&nt!==YT.PlayerState.BUFFERING&&u.playVideo()}}function he(I){let W=x;if(x=I.nowPlaying,c(o,I,!0),!s(o).nowPlaying&&s(o).queue.length>0&&!y){De();return}if(s(o).nowPlaying){let ve=W?.id??null;s(o).nowPlaying.id!==ve&&de(s(o).nowPlaying)}else!s(o).nowPlaying&&s(o).queue.length===0&&s(m)!=="idle_screen"&&(Ge(),c(m,"idle_screen"),u?.pauseVideo())}function Te(){window.YT&&(u=new window.YT.Player("yt-player",{width:"100%",height:"100%",playerVars:{autoplay:0,controls:1,modestbranding:1,rel:0,fs:1,playsinline:1},events:{onReady:()=>{c(d,!0),s(o).nowPlaying?de(s(o).nowPlaying):s(o).queue.length>0?De():c(m,"idle_screen")},onStateChange:I=>{I.data===YT.PlayerState.PLAYING&&(T=null,s(m)==="needs_interaction"&&c(m,"playing_song")),I.data===YT.PlayerState.ENDED&&s(m)==="playing_song"&&me()},onError:I=>{console.error("YouTube player error:",I.data),s(m)==="playing_song"&&me()}}}))}function de(I){!I||!s(d)||!I.videoId||(Ge(),h=I.videoId,T=I,c(m,"playing_song"),u?.loadVideoById(I.videoId),setTimeout(()=>{if(u&&T){let W=u.getPlayerState();(W===-1||W===5)&&c(m,"needs_interaction")}},1e3))}function fe(){T&&u?(u.playVideo(),c(m,"playing_song"),T=null):s(o).nowPlaying&&de(s(o).nowPlaying)}function me(){Ge(),c(m,"pause_screen"),u?.pauseVideo(),c(k,Math.ceil(n/1e3),!0),w=setInterval(()=>{pc(k,-1),s(k)<=0&&(Ge(),De())},1e3),g=setTimeout(()=>{De()},n+500)}function Ge(){g&&(clearTimeout(g),g=null),w&&(clearInterval(w),w=null)}async function De(){var I;if(!y){y=!0,Ge();try{let W=((I=s(o).nowPlaying)==null?void 0:I.id)??null,ve=s(l)?\`?room=\${encodeURIComponent(s(l))}\`:"";await fetch(\`/api/next\${ve}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentId:W})})}catch(W){console.error("Failed to advance:",W),c(m,"idle_screen")}finally{y=!1}}}function \$e(){return s(i)?{class:"connected",text:"Live"}:E?{class:"polling",text:"Polling"}:{class:"disconnected",text:"Connecting..."}}let Ie=Qe(\$e);function U(){c(O,!s(O))}function Q(){c(_,!0),c(z,""),c(B,"")}function ye(){c(_,!1),c(z,""),c(B,"")}async function Le(){if(s(z).length!==6){c(B,"PIN must be 6 digits");return}c(C,!0),c(B,"");let I=await Bo(s(z));c(C,!1),I.kind==="verified"?(Vo(I.token),c(Y,!0),c(_,!1),c(z,""),X.success("Admin mode enabled")):I.kind==="invalidPin"?(c(B,"Incorrect PIN"),c(z,"")):I.kind==="roomNotFound"?c(B,"Room not found"):c(B,I.message||"Authentication failed",!0)}function en(I){I.key==="Enter"&&!s(C)?Le():I.key==="Escape"&&ye()}function ct(){Yo(),c(Y,!1),X.success("Admin mode disabled")}async function It(){if(!s(K).trim()||s(te))return;c(te,!0),c(Z,[],!0),c(R,null);let I=await Cr(s(K).trim());if(c(te,!1),I.kind==="error"){X.error(I.message);return}c(Z,I.results,!0)}function tn(I){c(R,I,!0)}function tt(){c(K,""),c(Z,[],!0),c(R,null),c(J,"")}async function un(){if(!s(R)){X.error("Select a song first");return}if(!s(J).trim()){X.error("Enter singer name");return}let I=await zs({name:s(J).trim(),videoId:s(R).id,title:s(R).title,verified:!0});if(I.kind==="joined")X.success("Added to queue!"),tt();else{let W=I.kind==="error"?I.message:I.kind==="invalidVideo"?I.reason:"Failed to add";X.error(W)}}async function jn(){if(!s(R)){X.error("Select a song first");return}if(!s(J).trim()){X.error("Enter singer name");return}let I=await Qo({name:s(J).trim(),videoId:s(R).id,title:s(R).title});if(I.kind==="joined")X.success("Added to front!"),tt();else{let W=I.kind==="error"?I.message:I.kind==="invalidVideo"?I.reason:"Failed to add";X.error(W)}}async function Zn(){let I=await Go();if(I.kind==="skipped")X.success("Skipped!");else{let W=I.kind==="error"?I.message:I.kind==="nothingPlaying"?"Nothing is playing":I.kind==="unauthorized"?"Session expired":"Failed to skip";I.kind==="unauthorized"&&ct(),X.error(W)}}async function Pn(I){let W=await Jo(I);if(W.kind!=="removed"){let ve=W.kind==="error"?W.message:W.kind==="entryNotFound"?"Entry not found":W.kind==="unauthorized"?"Session expired":"Failed to remove";W.kind==="unauthorized"&&ct(),X.error(ve)}}async function dn(I){let W=s(o).queue.findIndex(_e=>_e.id===I);if(W<=0)return;let ve=await Ls(I,W-1);if(ve.kind!=="reordered"){let _e=ve.kind==="error"?ve.message:"Failed to move";X.error(_e)}}async function ya(I){let W=s(o).queue.findIndex(_e=>_e.id===I);if(W===-1||W>=s(o).queue.length-1)return;let ve=await Ls(I,W+1);if(ve.kind!=="reordered"){let _e=ve.kind==="error"?ve.message:"Failed to move";X.error(_e)}}var qn=Um(),ea=se(qn),mt=f(ea),nn=f(mt,!0);v(mt);var vn=p(mt,2);let wa;var ka=p(vn,2);{var ba=I=>{var W=wm(),ve=f(W),_e=f(ve);{var Ze=F=>{var D=hm(),ae=p(se(D),2),ie=f(ae,!0);v(ae);var ke=p(ae,2),je=f(ke,!0);v(ke);var H=p(ke,2),pe=f(H,!0);v(H),L(()=>{var Re,qe;q(ie,(Re=s(o).queue[0])==null?void 0:Re.name),q(je,(qe=s(o).queue[0])==null?void 0:qe.title),q(pe,s(k))}),b(F,D)},Me=F=>{var D=mm();b(F,D)};A(_e,F=>{s(o).queue.length>0?F(Ze):F(Me,!1)})}v(ve);var nt=p(ve,2);{var ut=F=>{var D=ym(),ae=p(f(D),2);lt(ae,19,()=>s(o).queue.slice(1,4),ie=>ie.id,(ie,ke,je)=>{var H=gm(),pe=f(H),Re=f(pe,!0);v(pe);var qe=p(pe,2),Ue=f(qe,!0);v(qe);var Je=p(qe,2),et=f(Je,!0);v(Je),v(H),L(()=>{q(Re,s(je)+2),q(Ue,s(ke).name),q(et,s(ke).title)}),b(ie,H)}),v(D),b(F,D)};A(nt,F=>{s(o).queue.length>1&&F(ut)})}var Mt=p(nt,2),Gt=f(Mt);pt(2),v(Mt),v(W),L(()=>Pt(Gt,"src",s(re))),b(I,W)};A(ka,I=>{s(m)==="pause_screen"&&I(ba)})}var ta=p(ka,2);{var fs=I=>{var W=bm();W.__click=fe;var ve=f(W),_e=p(f(ve),4);{var Ze=Me=>{var nt=km(),ut=se(nt),Mt=f(ut,!0);v(ut);var Gt=p(ut,2),F=f(Gt,!0);v(Gt),L(()=>{q(Mt,s(o).nowPlaying.title),q(F,s(o).nowPlaying.name)}),b(Me,nt)};A(_e,Me=>{s(o).nowPlaying&&Me(Ze)})}v(ve),v(W),b(I,W)};A(ta,I=>{s(m)==="needs_interaction"&&I(fs)})}var _a=p(ta,2);{var ps=I=>{var W=_m(),ve=f(W),_e=p(f(ve),2),Ze=f(_e,!0);v(_e);var Me=p(_e,2);pt(2),v(ve),pt(2),v(W),L(()=>{q(Ze,s(l)||"default"),Pt(Me,"src",s(re))}),b(I,W)};A(_a,I=>{s(m)==="idle_screen"&&I(ps)})}var hs=p(_a,2);{var La=I=>{var W=Im();let ve;var _e=f(W);{var Ze=F=>{var D=xm(),ae=p(f(D),2),ie=f(ae,!0);v(ae);var ke=p(ae,2),je=f(ke,!0);v(ke);var H=p(ke,2);{var pe=Re=>{var qe=Sm();qe.__click=Zn,b(Re,qe)};A(H,Re=>{s(Y)&&Re(pe)})}v(D),L(()=>{q(ie,s(o).nowPlaying.title),q(je,s(o).nowPlaying.name)}),b(F,D)};A(_e,F=>{s(o).nowPlaying&&F(Ze)})}var Me=p(_e,2),nt=p(f(Me),2),ut=f(nt);{var Mt=F=>{var D=Pm();b(F,D)},Gt=F=>{var D=ze(),ae=se(D);lt(ae,19,()=>s(ne).slice(0,3),ie=>ie.id,(ie,ke,je)=>{var H=Tm(),pe=f(H),Re=f(pe,!0);v(pe);var qe=p(pe,2),Ue=f(qe,!0);v(qe);var Je=p(qe,2);{var et=dt=>{var vt=Cm(),gt=f(vt);{var ft=_t=>{var Ot=\$m();Ot.__click=()=>dn(s(ke).id),b(_t,Ot)};A(gt,_t=>{s(je)>0&&_t(ft)})}var yt=p(gt,2);{var fn=_t=>{var Ot=Em();Ot.__click=()=>ya(s(ke).id),b(_t,Ot)};A(yt,_t=>{s(je)<s(ne).length-1&&_t(fn)})}var Sa=p(yt,2);Sa.__click=()=>Pn(s(ke).id),v(vt),b(dt,vt)};A(Je,dt=>{s(Y)&&dt(et)})}v(H),L(()=>{q(Re,s(ke).title),q(Ue,s(ke).name)}),b(ie,H)}),b(F,D)};A(ut,F=>{s(ne).length===0?F(Mt):F(Gt,!1)})}v(nt),v(Me),v(W),L(()=>ve=We(W,1,"info-bar svelte-1wtekok",null,ve,{"with-controls":s(O)})),b(I,W)};A(hs,I=>{s(m)==="playing_song"&&I(La)})}var M=p(hs,2);{var G=I=>{var W=Om(),ve=f(W),_e=f(ve),Ze=f(_e),Me=f(Ze);He(Me);var nt=p(Me,2);nt.__click=It;var ut=f(nt,!0);v(nt),v(Ze);var Mt=p(Ze,2);{var Gt=H=>{var pe=Nm();lt(pe,21,()=>s(Z).slice(0,5),Re=>Re.id,(Re,qe)=>{var Ue=Rm();let Je;Ue.__click=()=>tn(s(qe));var et=f(Ue),dt=p(et,2),vt=f(dt),gt=f(vt,!0);v(vt);var ft=p(vt,2),yt=f(ft,!0);v(ft),v(dt),v(Ue),L(()=>{var fn;Je=We(Ue,1,"search-result-item svelte-1wtekok",null,Je,{selected:((fn=s(R))==null?void 0:fn.id)===s(qe).id}),Pt(et,"src",s(qe).thumbnail),q(gt,s(qe).title),q(yt,s(qe).channel)}),b(Re,Ue)}),v(pe),b(H,pe)};A(Mt,H=>{s(Z).length>0&&H(Gt)})}var F=p(Mt,2);{var D=H=>{var pe=qm(),Re=f(pe),qe=f(Re,!0);v(Re);var Ue=p(Re,2);He(Ue);var Je=p(Ue,2),et=f(Je);et.__click=un;var dt=p(et,2);{var vt=ft=>{var yt=jm();yt.__click=jn,b(ft,yt)};A(dt,ft=>{s(Y)&&ft(vt)})}var gt=p(dt,2);gt.__click=tt,v(Je),v(pe),L(()=>q(qe,s(R).title)),rt(Ue,()=>s(J),ft=>c(J,ft)),b(H,pe)};A(F,H=>{s(R)&&H(D)})}v(_e);var ae=p(_e,2),ie=f(ae);{var ke=H=>{var pe=Am();pe.__click=ct,b(H,pe)},je=H=>{var pe=Mm();pe.__click=Q,b(H,pe)};A(ie,H=>{s(Y)?H(ke):H(je,!1)})}v(ae),v(ve),v(W),L(()=>{nt.disabled=s(te),q(ut,s(te)?"...":"Search")}),ln("keypress",Me,H=>H.key==="Enter"&&It()),rt(Me,()=>s(K),H=>c(K,H)),b(I,W)};A(M,I=>{s(O)&&I(G)})}var oe=p(M,2);oe.__click=U;var Ee=f(oe,!0);v(oe);var le=p(oe,2);{var we=I=>{var W=Lm();W.__click=ye;var ve=f(W);ve.__click=F=>F.stopPropagation();var _e=p(f(ve),2);He(_e),_e.__keydown=en;var Ze=p(_e,2),Me=f(Ze);Me.__click=Le;var nt=f(Me,!0);v(Me);var ut=p(Me,2);ut.__click=ye,v(Ze);var Mt=p(Ze,2);{var Gt=F=>{var D=zm(),ae=f(D,!0);v(D),L(()=>q(ae,s(B))),b(F,D)};A(Mt,F=>{s(B)&&F(Gt)})}v(ve),v(W),L(()=>{_e.disabled=s(C),Me.disabled=s(C)||s(z).length!==6,q(nt,s(C)?"Verifying...":"Login")}),rt(_e,()=>s(z),F=>c(z,F)),b(I,W)};A(le,I=>{s(_)&&I(we)})}v(ea);var Xe=p(ea,2);Mo(Xe,{}),L(()=>{We(mt,1,\`connection-status \${s(Ie).class??""}\`,"svelte-1wtekok"),q(nn,s(Ie).text),wa=We(vn,1,"video-wrapper svelte-1wtekok",null,wa,{hidden:s(m)!=="playing_song"}),Pt(oe,"title",s(O)?"Hide controls":"Show controls"),q(Ee,s(O)?"\\u25BC":"\\u25B2")}),b(e,qn),Ve()}var hm,mm,gm,ym,wm,km,bm,_m,Sm,xm,Pm,\$m,Em,Cm,Tm,Im,Rm,Nm,jm,qm,Am,Mm,Om,zm,Lm,Um,hl=Fe(()=>{"use strict";qt();\$s();st();us();vs();Os();Ms();il();Ko();hm=S('<div class="up-next-label svelte-1wtekok">UP NEXT</div> <div class="next-singer svelte-1wtekok"> </div> <div class="next-song svelte-1wtekok"> </div> <div class="countdown svelte-1wtekok"> </div>',1),mm=S('<div class="waiting-message svelte-1wtekok">Queue empty</div>'),gm=S('<div class="queue-item svelte-1wtekok"><span class="queue-position svelte-1wtekok"> </span> <span class="queue-name svelte-1wtekok"> </span> <span class="queue-song svelte-1wtekok"> </span></div>'),ym=S('<div class="queue-preview svelte-1wtekok"><div class="queue-label svelte-1wtekok">Coming up</div> <!></div>'),wm=S('<div class="overlay pause-overlay svelte-1wtekok"><div class="pause-content svelte-1wtekok"><!></div> <!> <div class="qr-section svelte-1wtekok"><img alt="Join queue" class="qr-code svelte-1wtekok"/> <div class="qr-hint svelte-1wtekok">Scan to add songs</div></div></div>'),km=S('<div class="start-song svelte-1wtekok"> </div> <div class="start-singer svelte-1wtekok"> </div>',1),bm=S('<button class="overlay start-overlay svelte-1wtekok"><div class="start-content svelte-1wtekok"><div class="start-icon svelte-1wtekok">\\u25B6</div> <div class="start-title svelte-1wtekok">Click to Start</div> <!></div></button>'),_m=S('<div class="overlay idle-overlay svelte-1wtekok"><div class="idle-content svelte-1wtekok"><div class="idle-title svelte-1wtekok">Karaoke Night</div> <div class="idle-subtitle svelte-1wtekok"> </div> <img alt="Join queue" class="qr-code qr-large svelte-1wtekok"/> <div class="idle-cta svelte-1wtekok">Scan to add your song</div></div> <div class="idle-decoration svelte-1wtekok"><div class="note note-1 svelte-1wtekok">\\u266A</div> <div class="note note-2 svelte-1wtekok">\\u266B</div> <div class="note note-3 svelte-1wtekok">\\u266A</div></div></div>'),Sm=S('<button class="skip-btn svelte-1wtekok" title="Skip">\\u23ED</button>'),xm=S('<div class="now-playing svelte-1wtekok"><span class="now-label svelte-1wtekok">Now Playing</span> <span class="now-title svelte-1wtekok"> </span> <span class="now-singer svelte-1wtekok"> </span> <!></div>'),Pm=S('<span class="empty-queue svelte-1wtekok">Queue empty</span>'),\$m=S('<button class="action-btn svelte-1wtekok" title="Move up">\\u2191</button>'),Em=S('<button class="action-btn svelte-1wtekok" title="Move down">\\u2193</button>'),Cm=S('<div class="up-next-actions svelte-1wtekok"><!> <!> <button class="action-btn danger svelte-1wtekok" title="Remove">\\xD7</button></div>'),Tm=S('<div class="up-next-item svelte-1wtekok"><div class="up-next-song svelte-1wtekok"> </div> <div class="up-next-singer svelte-1wtekok"> </div> <!></div>'),Im=S('<div><!> <div class="up-next-bar svelte-1wtekok"><span class="up-next-bar-label svelte-1wtekok">Up Next</span> <div class="up-next-list svelte-1wtekok"><!></div></div></div>'),Rm=S('<button><img class="result-thumb svelte-1wtekok" alt=""/> <div class="result-info svelte-1wtekok"><div class="result-title svelte-1wtekok"> </div> <div class="result-meta svelte-1wtekok"> </div></div></button>'),Nm=S('<div class="search-results-dropdown svelte-1wtekok"></div>'),jm=S('<button class="btn btn-warning svelte-1wtekok">Front</button>'),qm=S('<div class="selected-song svelte-1wtekok"><span class="selected-title svelte-1wtekok"> </span> <input type="text" class="singer-input svelte-1wtekok" placeholder="Singer name" maxlength="30"/> <div class="add-actions svelte-1wtekok"><button class="btn btn-cyan svelte-1wtekok">Add</button> <!> <button class="btn btn-muted svelte-1wtekok">\\xD7</button></div></div>'),Am=S('<button class="admin-btn unlocked svelte-1wtekok" title="Logout">\\u{1F513}</button>'),Mm=S('<button class="admin-btn locked svelte-1wtekok" title="Admin Login">\\u{1F512}</button>'),Om=S('<div class="controls-panel svelte-1wtekok"><div class="controls-row svelte-1wtekok"><div class="search-section svelte-1wtekok"><div class="search-input-row svelte-1wtekok"><input type="text" class="search-input svelte-1wtekok" placeholder="Search for a song..."/> <button class="btn btn-cyan search-btn svelte-1wtekok"> </button></div> <!> <!></div> <div class="admin-section svelte-1wtekok"><!></div></div></div>'),zm=S('<div class="auth-error svelte-1wtekok"> </div>'),Lm=S('<div class="modal-overlay svelte-1wtekok"><div class="modal-content svelte-1wtekok"><h3 class="svelte-1wtekok">Admin Login</h3> <input type="password" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="Enter PIN" class="svelte-1wtekok"/> <div class="modal-actions svelte-1wtekok"><button class="btn svelte-1wtekok"> </button> <button class="btn btn-muted svelte-1wtekok">Cancel</button></div> <!></div></div>'),Um=S('<div class="player-container svelte-1wtekok"><div> </div> <div><div id="yt-player" class="svelte-1wtekok"></div></div> <!> <!> <!> <!> <!> <button class="toggle-controls-btn svelte-1wtekok"> </button> <!></div> <!>',1);xt(["click","keydown"])});var gd={};Ln(gd,{component:()=>Dm,universal:()=>Wm});function Dm(e){ei(e,{})}var Fm,Wm,yd=Fe(()=>{"use strict";qt();Rn();hl();Fm=!1,Wm=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fm},Symbol.toStringTag,{value:"Module"}))});var wd={};Ln(wd,{component:()=>Bm});function Bm(e){Zo(e,{})}var kd=Fe(()=>{"use strict";qt();Rn();pl()});var bd={};Ln(bd,{component:()=>Vm});function Vm(e){Xo(e,{})}var _d=Fe(()=>{"use strict";qt();Rn();fl()});var Sd={};Ln(Sd,{component:()=>Ym});function Ym(e){ei(e,{})}var xd=Fe(()=>{"use strict";qt();Rn();hl()});So();var wl={};Ln(wl,{decode:()=>og,decoders:()=>Id,dictionary:()=>ag,encoders:()=>sg,hash:()=>rg,hooks:()=>yl,matchers:()=>Km,nodes:()=>tg,root:()=>eg,server_loads:()=>ng});st();qt();\$s();us();Io();sl();No();var Xn=(e,t=Xn,n=t.f||(t.f=["../nodes/0.CRTGwVw7.js","../chunks/BbAL-iyb.js","../chunks/4w08KAcG.js","../chunks/tjHZX6aC.js","../chunks/i9tQ8RmL.js","../chunks/mb-wQYqm.js","../chunks/VyU4i6jB.js","../chunks/DIjyb_cN.js","../assets/Toast.ZHkq0Nfk.css","../chunks/DbwRDk0i.js","../assets/0.YFu_edt7.css","../nodes/1.CfOQrW5P.js","../chunks/p-snWEyF.js","../chunks/B3GzmEKQ.js","../nodes/2.B43huhEj.js","../chunks/CoMHRBbk.js","../chunks/BRx5D3q-.js","../assets/2.tpnNDXOo.css","../nodes/3.Bs1UK-9i.js","../chunks/DQqi_-7W.js","../chunks/DtiutG7r.js","../chunks/IG2YwX8w.js","../chunks/DitffOsA.js","../assets/ws.D8F-giNX.css","../chunks/BZsqpf_9.js","../assets/GuestView.BX9E5RPr.css","../nodes/4.BoZDsRMD.js","../chunks/Svcywuwc.js","../assets/AdminView.C00Ip5Mk.css","../nodes/5.C7wLBSA1.js","../chunks/Tw0yN9o7.js","../assets/PlayerView.Biff2HxH.css","../nodes/6.jagJtarV.js","../nodes/7.CFTt9bMu.js","../nodes/8.CYobXSi-.js"]))=>e.map(a=>n[a]),Cd=e=>{throw TypeError(e)},Td=(e,t,n)=>t.has(e)||Cd("Cannot "+n),cn=(e,t,n)=>(Td(e,t,"read from private field"),n?n.call(e):t.get(e)),Pd=(e,t,n)=>t.has(e)?Cd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),\$d=(e,t,n,a)=>(Td(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n);function ml(e,t,n){ce&&ia();var a=new qa(e);wn(()=>{var r=t()??null;a.ensure(r,r&&(o=>n(o,r)))},Ht)}function Gm(e){return class extends gl{constructor(t){super({component:e,...t})}}}var za,Nn,gl=class{constructor(t){Pd(this,za),Pd(this,Nn);var n,a=new Map,r=(i,l)=>{var u=Yr(l,!1,!1);return a.set(i,u),u};let o=new Proxy({...t.props||{},\$\$events:{}},{get(i,l){return s(a.get(l)??r(l,Reflect.get(i,l)))},has(i,l){return l===Dr?!0:(s(a.get(l)??r(l,Reflect.get(i,l))),Reflect.has(i,l))},set(i,l,u){return c(a.get(l)??r(l,u),u),Reflect.set(i,l,u)}});\$d(this,Nn,(t.hydrate?Pu:nl)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((n=t?.props)!=null&&n.\$\$host)||t.sync===!1)&&bi(),\$d(this,za,o.\$\$events);for(let i of Object.keys(cn(this,Nn)))i==="\$set"||i==="\$destroy"||i==="\$on"||zr(this,i,{get(){return cn(this,Nn)[i]},set(l){cn(this,Nn)[i]=l},enumerable:!0});cn(this,Nn).\$set=i=>{Object.assign(o,i)},cn(this,Nn).\$destroy=()=>{Eu(cn(this,Nn))}}\$set(t){cn(this,Nn).\$set(t)}\$on(t,n){cn(this,za)[t]=cn(this,za)[t]||[];let a=(...r)=>n.call(this,...r);return cn(this,za)[t].push(a),()=>{cn(this,za)[t]=cn(this,za)[t].filter(r=>r!==a)}}\$destroy(){cn(this,Nn).\$destroy()}};za=new WeakMap,Nn=new WeakMap;var Jm="modulepreload",Qm=function(e,t){return new URL(e,t).href},Ed={},ga=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))},i=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");a=o(t.map(d=>{if(d=Qm(d,n),d in Ed)return;Ed[d]=!0;let h=d.endsWith(".css"),y=h?'[rel="stylesheet"]':"";if(n)for(let g=i.length-1;g>=0;g--){let k=i[g];if(k.href===d&&(!h||k.rel==="stylesheet"))return}else if(document.querySelector(\`link[href="\${d}"]\${y}\`))return;let m=document.createElement("link");if(m.rel=h?"stylesheet":Jm,h||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),h)return new Promise((g,k)=>{m.addEventListener("load",g),m.addEventListener("error",()=>k(new Error(\`Unable to preload CSS for \${d}\`)))})}))}function r(o){let i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return a.then(o=>{for(let i of o||[])i.status==="rejected"&&r(i.reason);return e().catch(r)})},Km={},Hm=S('<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"><!></div>'),Xm=S("<!> <!>",1);function Zm(e,t){Be(t,!0);let n=At(t,"components",23,()=>[]),a=At(t,"data_0",3,null),r=At(t,"data_1",3,null);Kr(()=>t.stores.page.set(t.page)),Dt(()=>{t.stores,t.page,t.constructors,n(),t.form,a(),r(),t.stores.page.notify()});let o=\$(!1),i=\$(!1),l=\$(null);rn(()=>{let w=t.stores.page.subscribe(()=>{s(o)&&(c(i,!0),ca().then(()=>{c(l,document.title||"untitled page",!0)}))});return c(o,!0),w});let u=Qe(()=>t.constructors[1]);var d=Xm(),h=se(d);{var y=w=>{let T=Qe(()=>t.constructors[0]);var E=ze(),N=se(E);ml(N,()=>s(T),(x,j)=>{As(j(x,{get data(){return a()},get form(){return t.form},get params(){return t.page.params},children:(P,O)=>{var Y=ze(),z=se(Y);ml(z,()=>s(u),(_,C)=>{As(C(_,{get data(){return r()},get form(){return t.form},get params(){return t.page.params}}),B=>n()[1]=B,()=>{var B;return(B=n())==null?void 0:B[1]})}),b(P,Y)},\$\$slots:{default:!0}}),P=>n()[0]=P,()=>{var P;return(P=n())==null?void 0:P[0]})}),b(w,E)},m=w=>{let T=Qe(()=>t.constructors[0]);var E=ze(),N=se(E);ml(N,()=>s(T),(x,j)=>{As(j(x,{get data(){return a()},get form(){return t.form},get params(){return t.page.params}}),P=>n()[0]=P,()=>{var P;return(P=n())==null?void 0:P[0]})}),b(w,E)};A(h,w=>{t.constructors[1]?w(y):w(m,!1)})}var g=p(h,2);{var k=w=>{var T=Hm(),E=f(T);{var N=x=>{var j=Pr();L(()=>q(j,s(l))),b(x,j)};A(E,x=>{s(i)&&x(N)})}v(T),b(w,T)};A(g,w=>{s(o)&&w(k)})}b(e,d),Ve()}var eg=Gm(Zm),tg=[()=>ga(()=>Promise.resolve().then(()=>(qu(),ju)),Xn([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url),()=>ga(()=>Promise.resolve().then(()=>(Ou(),Mu)),Xn([11,1,2,5,9,12,13]),import.meta.url),()=>ga(()=>Promise.resolve().then(()=>(Fu(),Uu)),Xn([14,1,2,15,3,6,16,12,13,17]),import.meta.url),()=>ga(()=>Promise.resolve().then(()=>(pd(),fd)),Xn([18,1,2,5,19,13,15,3,16,7,8,20,6,21,22,23,24,25]),import.meta.url),()=>ga(()=>Promise.resolve().then(()=>(md(),hd)),Xn([26,1,2,5,27,13,15,3,6,16,7,8,21,22,23,24,28]),import.meta.url),()=>ga(()=>Promise.resolve().then(()=>(yd(),gd)),Xn([29,1,2,5,30,13,15,3,6,16,7,8,4,9,21,22,23,31]),import.meta.url),()=>ga(()=>Promise.resolve().then(()=>(kd(),wd)),Xn([32,1,2,5,27,13,15,3,6,16,7,8,21,22,23,24,28]),import.meta.url),()=>ga(()=>Promise.resolve().then(()=>(_d(),bd)),Xn([33,1,2,5,19,13,15,3,16,7,8,20,6,21,22,23,24,25]),import.meta.url),()=>ga(()=>Promise.resolve().then(()=>(xd(),Sd)),Xn([34,1,2,5,30,13,15,3,6,16,7,8,4,9,21,22,23,31]),import.meta.url)],ng=[],ag={"/":[2],"/admin":[6],"/guest":[7],"/player":[8],"/[room]":[3],"/[room]/admin":[4],"/[room]/player":[5]},yl={handleError:({error:e})=>{console.error(e)},reroute:()=>{},transport:{}},Id=Object.fromEntries(Object.entries(yl.transport).map(([e,t])=>[e,t.decode])),sg=Object.fromEntries(Object.entries(yl.transport).map(([e,t])=>[e,t.encode])),rg=!1,og=(e,t)=>Id[e](t);var ig=new URL(".",location).pathname.slice(0,-1);globalThis.__sveltekit_tvmpw2={base:ig};var lg=document.querySelector("[data-sveltekit-preload-data]")||document.body.firstElementChild||document.body;Di(wl,lg);
</script>
</body>
</html>`;
