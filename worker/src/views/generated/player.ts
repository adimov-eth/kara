// Auto-generated by packages/ui/scripts/inline.js
// Do not edit directly

export const PLAYER_HTML = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet" />
  <title>Karaoke Player</title>
  <style>*{margin:0;padding:0;box-sizing:border-box}*{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}*::-webkit-scrollbar{width:6px;height:6px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}*::-webkit-scrollbar-thumb:hover{background:#ffffff4d}*::-webkit-scrollbar-corner{background:transparent}:root{--bg-deep: #0a0a0f;--bg-card: #12121a;--accent: #ff6b9d;--accent-glow: rgba(255, 107, 157, .4);--cyan: #4ecdc4;--cyan-glow: rgba(78, 205, 196, .3);--text: #f0f0f5;--text-muted: #6b6b80;--success: #7bed9f;--warning: #ffa502}html,body{font-family:Outfit,sans-serif;background:var(--bg-deep);color:var(--text);min-height:100vh;min-height:100dvh}body:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 20% 20%,rgba(255,107,157,.08) 0%,transparent 50%),radial-gradient(ellipse at 80% 80%,rgba(78,205,196,.08) 0%,transparent 50%);pointer-events:none;z-index:0}.container{max-width:480px;margin:0 auto;padding:24px 16px;position:relative;z-index:1}.btn{background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);color:#fff;border:none;border-radius:14px;padding:16px 28px;font-size:1rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease;white-space:nowrap;width:100%}.btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px var(--accent-glow)}.btn:active{transform:translateY(0)}.btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-cyan{background:linear-gradient(135deg,var(--cyan) 0%,#45b7aa 100%)}.btn-cyan:hover{box-shadow:0 8px 24px var(--cyan-glow)}.btn-warning{background:linear-gradient(135deg,var(--warning) 0%,#ffb347 100%)}input[type=text],input[type=password]{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:16px 20px;font-size:1rem;font-family:inherit;color:var(--text);outline:none;transition:all .2s ease}input[type=text]:focus,input[type=password]:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input[type=text]::placeholder,input[type=password]::placeholder{color:var(--text-muted)}input[type=text]:disabled,input[type=password]:disabled{opacity:.5;cursor:not-allowed}.card{background:var(--bg-card);border-radius:20px;padding:24px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.spinner{width:32px;height:32px;border:3px solid rgba(255,255,255,.1);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@keyframes slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-8px)}75%{transform:translate(8px)}}@keyframes modalIn{0%{opacity:0;transform:scale(.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}

.landing.svelte-1uha8ag{max-width:400px;padding-top:60px}header.svelte-1uha8ag{text-align:center;margin-bottom:40px}h1.svelte-1uha8ag{font-size:3rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin-bottom:12px}.subtitle.svelte-1uha8ag{color:var(--text-muted);font-size:1rem;font-weight:300}.card.svelte-1uha8ag{background:var(--bg-card);border-radius:24px;padding:32px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.input-group.svelte-1uha8ag{margin-bottom:20px}.input-label.svelte-1uha8ag{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.btn-secondary.svelte-1uha8ag{background:transparent;border:2px solid rgba(255,255,255,.2);margin-top:12px}.btn-secondary.svelte-1uha8ag:hover{background:#ffffff0d;border-color:#ffffff4d}.error-msg.svelte-1uha8ag{color:var(--warning);font-size:.85rem;margin-top:16px;text-align:center}.not-found-msg.svelte-1uha8ag,.create-msg.svelte-1uha8ag{text-align:center;margin-bottom:24px;color:var(--text-muted)}.not-found-msg.svelte-1uha8ag strong:where(.svelte-1uha8ag),.create-msg.svelte-1uha8ag strong:where(.svelte-1uha8ag){color:var(--cyan)}.recent.svelte-1uha8ag{margin-top:32px;padding-top:24px;border-top:1px solid rgba(255,255,255,.1)}.recent-label.svelte-1uha8ag{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:12px}.recent-list.svelte-1uha8ag{display:flex;flex-wrap:wrap;gap:8px}.recent-btn.svelte-1uha8ag{background:#4ecdc41a;border:1px solid rgba(78,205,196,.3);color:var(--cyan);padding:8px 16px;border-radius:20px;font-size:.85rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.recent-btn.svelte-1uha8ag:hover{background:#4ecdc433;border-color:var(--cyan)}.active-rooms.svelte-1uha8ag{margin-top:32px;padding:24px;background:var(--bg-card);border-radius:16px;border:1px solid rgba(255,255,255,.05)}.active-rooms-header.svelte-1uha8ag{display:flex;align-items:center;gap:8px;margin-bottom:16px}.pulse-dot.svelte-1uha8ag{width:8px;height:8px;background:var(--success);border-radius:50%;animation:svelte-1uha8ag-pulse 2s ease-in-out infinite}@keyframes svelte-1uha8ag-pulse{0%,to{opacity:1}50%{opacity:.4}}.active-label.svelte-1uha8ag{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em}.active-loading.svelte-1uha8ag{color:var(--text-muted);font-size:.85rem;text-align:center;padding:12px}.active-list.svelte-1uha8ag{display:flex;flex-direction:column;gap:8px}.active-room-btn.svelte-1uha8ag{display:flex;flex-direction:column;align-items:flex-start;gap:4px;background:#ffffff08;border:1px solid rgba(255,255,255,.08);color:var(--text);padding:12px 16px;border-radius:12px;font-family:inherit;cursor:pointer;transition:all .2s ease;text-align:left;width:100%}.active-room-btn.svelte-1uha8ag:hover{background:#ffffff0f;border-color:#4ecdc44d}.room-name.svelte-1uha8ag{font-weight:600;font-size:1rem;color:var(--cyan)}.room-meta.svelte-1uha8ag{display:flex;flex-wrap:wrap;gap:8px;font-size:.75rem;color:var(--text-muted)}.queue-count.svelte-1uha8ag{background:#4ecdc426;padding:2px 8px;border-radius:8px;color:var(--cyan)}.now-playing.svelte-1uha8ag{opacity:.7;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.last-active.svelte-1uha8ag{opacity:.5}

.admin-container.svelte-ghvl9i{max-width:600px}.loading.svelte-ghvl9i{text-align:center;padding:60px 20px;color:var(--text-muted)}header.svelte-ghvl9i{text-align:center;margin-bottom:32px;position:relative}h1.svelte-ghvl9i{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--warning) 0%,var(--accent) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin-bottom:8px}.subtitle.svelte-ghvl9i{color:var(--text-muted);font-size:.95rem;font-weight:300}.logout-btn.svelte-ghvl9i{position:absolute;top:0;right:0;background:transparent;border:1px solid rgba(255,255,255,.2);color:var(--text-muted);padding:6px 12px;border-radius:8px;font-size:.8rem;font-family:inherit;cursor:pointer;transition:all .2s}.logout-btn.svelte-ghvl9i:hover{border-color:var(--accent);color:var(--accent)}.mode-card.svelte-ghvl9i{display:flex;align-items:center;justify-content:space-between;background:var(--bg-card);border-radius:16px;padding:16px 20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.mode-info.svelte-ghvl9i{display:flex;align-items:center;gap:12px}.mode-label.svelte-ghvl9i{font-size:.85rem;color:var(--text-muted)}.mode-badge.svelte-ghvl9i{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:600}.mode-badge.jukebox.svelte-ghvl9i{background:#4ecdc433;color:var(--cyan);border:1px solid rgba(78,205,196,.3)}.mode-badge.karaoke.svelte-ghvl9i{background:#ff6b9d33;color:var(--accent);border:1px solid rgba(255,107,157,.3)}.btn-mode.svelte-ghvl9i{padding:8px 16px;font-size:.85rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.2);color:var(--text);width:auto}.btn-mode.svelte-ghvl9i:hover:not(:disabled){background:#ffffff1a;border-color:#ffffff4d}.btn-mode.svelte-ghvl9i:disabled{opacity:.5;cursor:not-allowed}.login-card.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:32px;border:1px solid rgba(255,255,255,.05)}.input-group.svelte-ghvl9i{margin-bottom:20px}.input-label.svelte-ghvl9i{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.error-msg.svelte-ghvl9i{color:var(--warning);font-size:.85rem;margin-top:16px;text-align:center}.now-playing-card.svelte-ghvl9i{background:linear-gradient(135deg,#ff6b9d26,#4ecdc41a);border:1px solid rgba(255,107,157,.3);border-radius:20px;padding:20px;margin-bottom:24px}.now-playing-header.svelte-ghvl9i{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.now-playing-label.svelte-ghvl9i{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em}.epoch-badge.svelte-ghvl9i{font-size:.8rem;color:var(--text-muted)}.now-playing-info.svelte-ghvl9i{margin-bottom:16px}.now-playing-title.svelte-ghvl9i{font-size:1.1rem;font-weight:600;margin-bottom:4px}.now-playing-singer.svelte-ghvl9i{color:var(--text-muted);font-size:.9rem}.now-playing-controls.svelte-ghvl9i{display:flex;gap:12px}.now-playing-empty.svelte-ghvl9i{text-align:center;color:var(--text-muted);font-style:italic;padding:20px}.add-card.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.add-header.svelte-ghvl9i{font-size:1rem;font-weight:600;margin-bottom:16px}.add-form.svelte-ghvl9i{display:flex;flex-direction:column;gap:12px}.search-row.svelte-ghvl9i{display:flex;gap:12px}.search-btn.svelte-ghvl9i,.lookup-btn.svelte-ghvl9i{flex-shrink:0;width:auto;padding:12px 16px}.search-results.svelte-ghvl9i{max-height:300px;overflow-y:auto}.search-result.svelte-ghvl9i{display:flex;gap:10px;padding:10px;background:#ffffff08;border:2px solid transparent;border-radius:10px;cursor:pointer;margin-bottom:8px;transition:all .2s ease;width:100%;text-align:left;font-family:inherit;color:inherit}.search-result.svelte-ghvl9i:hover{background:#ffffff0f;border-color:#ffffff1a}.search-result.selected.svelte-ghvl9i{background:#4ecdc426;border-color:var(--cyan)}.result-thumb.svelte-ghvl9i{width:64px;height:36px;border-radius:4px;object-fit:cover;flex-shrink:0}.result-info.svelte-ghvl9i{flex:1;min-width:0}.result-title.svelte-ghvl9i{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.result-meta.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted)}.searching.svelte-ghvl9i{text-align:center;padding:20px;color:var(--text-muted)}.queue-section.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.section-header.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-title.svelte-ghvl9i{font-size:1rem;font-weight:600}.queue-count.svelte-ghvl9i{background:#ffffff1a;padding:4px 12px;border-radius:16px;font-size:.8rem;color:var(--text-muted)}.queue-list.svelte-ghvl9i{list-style:none}.queue-item.svelte-ghvl9i{display:flex;align-items:center;padding:12px;border-radius:12px;margin-bottom:8px;background:#ffffff08;transition:all .2s ease}.queue-item.svelte-ghvl9i:hover{background:#ffffff0f}.position.svelte-ghvl9i{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.85rem;margin-right:12px;background:#ffffff1a;color:var(--text-muted)}.queue-info.svelte-ghvl9i{flex:1;min-width:0}.queue-song.svelte-ghvl9i{font-weight:500;font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.queue-meta.svelte-ghvl9i{font-size:.8rem;color:var(--text-muted);display:flex;gap:12px}.queue-actions.svelte-ghvl9i{display:flex;gap:4px;margin-left:8px}.action-btn.svelte-ghvl9i{background:none;border:none;width:32px;height:32px;border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;color:var(--text-muted);font-size:1rem}.action-btn.svelte-ghvl9i:hover{background:#ffffff1a;color:var(--text)}.action-btn.danger.svelte-ghvl9i:hover{background:#ff6b9d33;color:var(--accent)}.empty-state.svelte-ghvl9i{text-align:center;padding:40px 20px;color:var(--text-muted)}.history-section.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.history-header.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;cursor:pointer;width:100%;background:none;border:none;color:inherit;font-family:inherit;padding:0}.history-toggle.svelte-ghvl9i{color:var(--text-muted);font-size:1.2rem;transition:transform .2s}.history-toggle.expanded.svelte-ghvl9i{transform:rotate(180deg)}.history-content.svelte-ghvl9i{margin-top:16px}.history-tabs.svelte-ghvl9i{display:flex;gap:8px;margin-bottom:16px}.history-tab.svelte-ghvl9i{padding:8px 16px;border-radius:8px;background:#ffffff0d;border:none;color:var(--text-muted);cursor:pointer;font-family:inherit;font-size:.85rem;transition:all .2s}.history-tab.svelte-ghvl9i:hover{background:#ffffff1a}.history-tab.active.svelte-ghvl9i{background:#4ecdc433;color:var(--cyan)}.lookup-row.svelte-ghvl9i{display:flex;gap:12px;margin-bottom:16px}.stats-row.svelte-ghvl9i{display:flex;gap:16px;margin-bottom:16px;flex-wrap:wrap}.stat-badge.svelte-ghvl9i{background:#ffffff0d;padding:8px 12px;border-radius:8px;font-size:.8rem}.stat-badge.svelte-ghvl9i strong:where(.svelte-ghvl9i){color:var(--cyan)}.claimed-badge.svelte-ghvl9i{display:inline-block;background:#7bed9f33;color:var(--success);padding:2px 8px;border-radius:4px;font-size:.7rem;font-weight:600;text-transform:uppercase}.history-item.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#ffffff08;border-radius:8px;margin-bottom:8px}.history-item-title.svelte-ghvl9i{font-size:.9rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.history-item-meta.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted);margin-left:12px;white-space:nowrap}.popular-item.svelte-ghvl9i{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#ffffff08;border-radius:8px;margin-bottom:8px}.popular-rank.svelte-ghvl9i{width:24px;height:24px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600;background:#ffffff1a;color:var(--text-muted)}.popular-rank.top.svelte-ghvl9i{background:#ffa5024d;color:var(--warning)}.popular-info.svelte-ghvl9i{flex:1;min-width:0}.popular-title.svelte-ghvl9i{font-size:.9rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.popular-stats.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted)}

.popular-section.svelte-m2a9xz{margin-top:24px;margin-bottom:16px}.popular-title.svelte-m2a9xz{font-size:.85rem;color:var(--text-muted);margin-bottom:12px;font-weight:500}.popular-grid.svelte-m2a9xz{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}.popular-item.svelte-m2a9xz{display:flex;flex-direction:column;padding:0;background:#ffffff08;border:2px solid transparent;border-radius:12px;cursor:pointer;transition:all .2s ease;text-align:left;color:inherit;font-family:inherit;overflow:hidden}.popular-item.svelte-m2a9xz:hover{background:#ffffff0f;border-color:#ffffff1a;transform:translateY(-2px)}.popular-thumb-wrapper.svelte-m2a9xz{position:relative;width:100%;aspect-ratio:16 / 9}.popular-thumb.svelte-m2a9xz{width:100%;height:100%;object-fit:cover;background:#0000004d}.play-count.svelte-m2a9xz{position:absolute;bottom:6px;right:6px;background:#4ecdc4e6;color:#000;font-size:.7rem;font-weight:600;padding:2px 6px;border-radius:4px}.popular-info.svelte-m2a9xz{padding:10px}.popular-song-title.svelte-m2a9xz{font-size:.8rem;font-weight:500;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}@media(max-width:480px){.popular-grid.svelte-m2a9xz{grid-template-columns:repeat(2,1fr);gap:8px}.popular-info.svelte-m2a9xz{padding:8px}.popular-song-title.svelte-m2a9xz{font-size:.75rem}}.overlay.svelte-4vowdw{position:fixed;top:0;right:0;bottom:0;left:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:20px;animation:svelte-4vowdw-fadeIn .2s ease}.modal.svelte-4vowdw{background:var(--bg-card);border-radius:24px;padding:32px;max-width:480px;width:100%;max-height:85vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #00000080;animation:svelte-4vowdw-slideUp .3s ease}.close-btn.svelte-4vowdw{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:50%;background:#ffffff1a;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;line-height:1}.close-btn.svelte-4vowdw:hover{background:#fff3;color:var(--text)}h2.svelte-4vowdw{font-size:1.5rem;font-weight:700;margin-bottom:20px;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.category-row.svelte-4vowdw{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}.category-btn.svelte-4vowdw{display:flex;align-items:center;gap:6px;padding:8px 14px;background:#ffffff0d;border:2px solid transparent;border-radius:20px;color:var(--text-muted);font-size:.9rem;cursor:pointer;transition:all .2s ease}.category-btn.svelte-4vowdw:hover{background:#ffffff1a}.category-btn.selected.svelte-4vowdw{border-color:var(--cyan);color:var(--text);background:#00d4ff1a}.cat-icon.svelte-4vowdw{font-size:1rem;font-weight:700}textarea.svelte-4vowdw{width:100%;min-height:120px;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:14px 18px;font-size:1rem;font-family:inherit;color:var(--text);resize:vertical;outline:none;margin-bottom:12px}textarea.svelte-4vowdw:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input[type=text].svelte-4vowdw{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:14px 18px;font-size:1rem;font-family:inherit;color:var(--text);outline:none;margin-bottom:16px}input[type=text].svelte-4vowdw:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input.svelte-4vowdw::placeholder,textarea.svelte-4vowdw::placeholder{color:var(--text-muted)}.error-msg.svelte-4vowdw{color:var(--warning);font-size:.9rem;text-align:center;margin-bottom:12px}.btn.svelte-4vowdw{width:100%;padding:14px 20px;border-radius:14px;font-size:1rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;color:#fff}.btn.svelte-4vowdw:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 20px var(--accent-glow)}.btn.svelte-4vowdw:disabled{opacity:.5;cursor:not-allowed}@keyframes svelte-4vowdw-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-4vowdw-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.help-btn.svelte-8t29c9{position:fixed;bottom:24px;right:24px;width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;color:#fff;font-size:1.5rem;font-weight:700;cursor:pointer;box-shadow:0 4px 20px var(--accent-glow);transition:all .2s ease;z-index:100;display:flex;align-items:center;justify-content:center}.help-btn.svelte-8t29c9:hover{transform:scale(1.1);box-shadow:0 6px 28px var(--accent-glow)}.help-btn.svelte-8t29c9:active{transform:scale(.95)}.overlay.svelte-8t29c9{position:fixed;top:0;right:0;bottom:0;left:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:20px;animation:svelte-8t29c9-fadeIn .2s ease}.modal.svelte-8t29c9{background:var(--bg-card);border-radius:24px;padding:32px;max-width:420px;width:100%;max-height:85vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #00000080;animation:svelte-8t29c9-slideUp .3s ease}.close-btn.svelte-8t29c9{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:50%;background:#ffffff1a;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;line-height:1}.close-btn.svelte-8t29c9:hover{background:#fff3;color:var(--text)}h2.svelte-8t29c9{font-size:1.5rem;font-weight:700;margin-bottom:24px;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}h3.svelte-8t29c9{font-size:1rem;font-weight:600;margin-bottom:8px;color:var(--cyan)}.steps.svelte-8t29c9{display:flex;flex-direction:column;gap:16px}.step.svelte-8t29c9{display:flex;gap:16px;align-items:flex-start}.step-num.svelte-8t29c9{width:28px;height:28px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);color:#fff;font-weight:700;font-size:.9rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.step-content.svelte-8t29c9{flex:1}.step-content.svelte-8t29c9 strong:where(.svelte-8t29c9){display:block;margin-bottom:2px}.step-content.svelte-8t29c9 p:where(.svelte-8t29c9){color:var(--text-muted);font-size:.9rem;margin:0}.divider.svelte-8t29c9{height:1px;background:#ffffff1a;margin:20px 0}.info.svelte-8t29c9{color:var(--text-muted);font-size:.9rem;line-height:1.5;margin:0}.feedback-link.svelte-8t29c9{display:block;width:100%;text-align:center;padding:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;color:var(--text-muted);font-size:.9rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.feedback-link.svelte-8t29c9:hover{background:#ffffff1a;color:var(--text);border-color:#fff3}@keyframes svelte-8t29c9-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-8t29c9-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-container.svelte-r761lh{position:relative}.loading-skeleton.svelte-r761lh{width:120px;height:40px;border-radius:20px;background:linear-gradient(90deg,#ffffff0d 25%,#ffffff1a,#ffffff0d 75%);background-size:200% 100%;animation:svelte-r761lh-shimmer 1.5s infinite}@keyframes svelte-r761lh-shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.user-button.svelte-r761lh{display:flex;align-items:center;gap:10px;padding:6px 14px 6px 6px;background:var(--bg-card);border:1px solid rgba(255,255,255,.1);border-radius:25px;cursor:pointer;transition:all .2s ease;font-family:inherit;color:var(--text)}.user-button.svelte-r761lh:hover{background:#ffffff1a;border-color:#fff3}.avatar.svelte-r761lh{width:32px;height:32px;border-radius:50%;object-fit:cover}.avatar-placeholder.svelte-r761lh{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;color:#fff}.display-name.svelte-r761lh{font-size:.9rem;font-weight:500;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-arrow.svelte-r761lh{font-size:.6rem;color:var(--text-muted)}.dropdown-menu.svelte-r761lh{position:absolute;top:calc(100% + 8px);right:0;background:var(--bg-card);border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:8px;min-width:200px;box-shadow:0 8px 32px #0006;z-index:100;animation:svelte-r761lh-fadeIn .15s ease}@keyframes svelte-r761lh-fadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.menu-header.svelte-r761lh{padding:12px;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:8px}.provider-badge.svelte-r761lh{display:inline-block;padding:2px 8px;background:#ffffff1a;border-radius:8px;font-size:.75rem;color:var(--text-muted);margin-bottom:4px}.email.svelte-r761lh{display:block;font-size:.8rem;color:var(--text-muted);overflow:hidden;text-overflow:ellipsis}.menu-item.svelte-r761lh{display:flex;align-items:center;gap:10px;width:100%;padding:12px;background:none;border:none;border-radius:10px;color:var(--text);font-size:.9rem;font-family:inherit;cursor:pointer;transition:background .15s ease;text-align:left}.menu-item.svelte-r761lh:hover{background:#ffffff1a}.menu-item.logout.svelte-r761lh{color:#ff6b6b}.login-options.svelte-r761lh{display:flex;gap:10px;align-items:center}.name-input-container.svelte-r761lh{display:flex;gap:8px;align-items:center}.name-input.svelte-r761lh{padding:10px 16px;background:var(--bg-card);border:1px solid rgba(255,255,255,.15);border-radius:20px;color:var(--text);font-size:.9rem;font-family:inherit;width:150px;transition:all .2s ease}.name-input.svelte-r761lh:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}.go-btn.svelte-r761lh{padding:10px 18px;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;border-radius:20px;color:#fff;font-weight:600;font-size:.9rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.go-btn.svelte-r761lh:hover{transform:scale(1.05);box-shadow:0 4px 16px var(--accent-glow)}.login-btn.svelte-r761lh{display:flex;align-items:center;gap:8px;padding:10px 18px;border:none;border-radius:20px;font-size:.9rem;font-weight:500;font-family:inherit;cursor:pointer;transition:all .2s ease}.login-btn.google.svelte-r761lh{background:#fff;color:#333}.login-btn.google.svelte-r761lh:hover{background:#f5f5f5;box-shadow:0 4px 16px #0003}.login-btn.guest.svelte-r761lh{background:transparent;border:1px solid rgba(255,255,255,.2);color:var(--text-muted)}.login-btn.guest.svelte-r761lh:hover{background:#ffffff0d;border-color:#ffffff4d;color:var(--text)}.google-icon.svelte-r761lh{width:18px;height:18px}@media(max-width:480px){.login-options.svelte-r761lh{flex-direction:column;width:100%}.login-btn.svelte-r761lh{width:100%;justify-content:center}.name-input-container.svelte-r761lh{width:100%}.name-input.svelte-r761lh{flex:1}}.my-stack.svelte-owkba6{background:var(--bg-card);border-radius:16px;padding:20px;border:1px solid rgba(255,255,255,.1)}.section-title.svelte-owkba6{font-size:1rem;font-weight:600;margin:0 0 16px;color:var(--cyan);display:flex;align-items:center;gap:8px}.count.svelte-owkba6{font-size:.85rem;color:var(--text-muted);font-weight:400}.loading.svelte-owkba6,.error.svelte-owkba6,.empty-state.svelte-owkba6{text-align:center;padding:24px;color:var(--text-muted);font-size:.9rem}.error.svelte-owkba6{color:#ff6b6b}.empty-state.svelte-owkba6 p:where(.svelte-owkba6){margin:0;line-height:1.5}.in-queue-card.svelte-owkba6{background:linear-gradient(135deg,#00f5d41a,#ff6b9d1a);border:1px solid var(--cyan);border-radius:12px;padding:14px;margin-bottom:16px}.status-badge.svelte-owkba6{display:inline-block;padding:2px 10px;background:var(--cyan);color:var(--bg);border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.song-info.svelte-owkba6{display:flex;justify-content:space-between;align-items:center;gap:12px}.song-info.svelte-owkba6 .title:where(.svelte-owkba6){font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.votes.svelte-owkba6{color:var(--accent);font-size:.85rem;flex-shrink:0}.stack-list.svelte-owkba6{display:flex;flex-direction:column;gap:8px}.stack-item.svelte-owkba6{display:flex;align-items:center;gap:10px;padding:12px;background:#ffffff08;border-radius:10px;border:1px solid rgba(255,255,255,.05);cursor:grab;transition:all .15s ease}.stack-item.svelte-owkba6:hover{background:#ffffff0f;border-color:#ffffff1a}.stack-item.dragging.svelte-owkba6{opacity:.5;cursor:grabbing}.stack-item.drag-over.svelte-owkba6{border-color:var(--cyan);background:#00f5d40d}.drag-handle.svelte-owkba6{color:var(--text-muted);font-size:.8rem;-webkit-user-select:none;user-select:none;cursor:grab}.song-details.svelte-owkba6{flex:1;display:flex;align-items:center;gap:10px;overflow:hidden}.position.svelte-owkba6{color:var(--text-muted);font-size:.8rem;flex-shrink:0;width:24px}.song-details.svelte-owkba6 .title:where(.svelte-owkba6){overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:.9rem}.remove-btn.svelte-owkba6{width:28px;height:28px;border-radius:50%;background:transparent;border:1px solid rgba(255,255,255,.1);color:var(--text-muted);font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s ease;flex-shrink:0;line-height:1}.remove-btn.svelte-owkba6:hover{background:#ff6b6b33;border-color:#ff6b6b;color:#ff6b6b}.stack-hint.svelte-owkba6{margin:12px 0 0;font-size:.8rem;color:var(--text-muted);text-align:center;line-height:1.4}header.svelte-1y2kg8x{text-align:center;margin-bottom:32px}.header-top.svelte-1y2kg8x{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}h1.svelte-1y2kg8x{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin:0}.my-stack-section.svelte-1y2kg8x{margin-top:24px}.subtitle.svelte-1y2kg8x{color:var(--text-muted);font-size:.95rem;font-weight:300}.header-actions.svelte-1y2kg8x{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:12px}.mode-badge.svelte-1y2kg8x{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;border-radius:20px;font-size:.8rem;font-weight:500}.mode-badge.jukebox.svelte-1y2kg8x{background:#4ecdc426;color:var(--cyan);border:1px solid rgba(78,205,196,.2)}.mode-badge.karaoke.svelte-1y2kg8x{background:#ff6b9d26;color:var(--accent);border:1px solid rgba(255,107,157,.2)}.player-link.svelte-1y2kg8x{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:20px;color:var(--text-muted);font-size:.85rem;text-decoration:none;transition:all .2s ease}.player-link.svelte-1y2kg8x:hover{background:#ffffff1a;color:var(--text);border-color:#fff3}.join-card.svelte-1y2kg8x,.my-song-card.svelte-1y2kg8x,.my-turn-card.svelte-1y2kg8x{background:var(--bg-card);border-radius:20px;padding:24px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.my-song-card.svelte-1y2kg8x{border-color:#4ecdc44d;background:linear-gradient(135deg,rgba(78,205,196,.1) 0%,var(--bg-card) 100%)}.my-song-header.svelte-1y2kg8x{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.my-song-label.svelte-1y2kg8x{font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;color:var(--cyan);font-weight:600}.my-song-position.svelte-1y2kg8x{font-size:.85rem;color:var(--text-muted)}.my-song-title.svelte-1y2kg8x{font-size:1.1rem;font-weight:600;margin-bottom:16px;line-height:1.4}.btn-change.svelte-1y2kg8x{background:transparent;border:2px solid var(--cyan);color:var(--cyan)}.btn-change.svelte-1y2kg8x:hover{background:#4ecdc41a;box-shadow:0 4px 16px var(--cyan-glow)}.my-turn-card.svelte-1y2kg8x{border-color:#ff6b9d4d;background:linear-gradient(135deg,rgba(255,107,157,.15) 0%,var(--bg-card) 100%);text-align:center}.my-turn-label.svelte-1y2kg8x{font-size:1.5rem;font-weight:700;color:var(--accent);margin-bottom:8px}.my-turn-song.svelte-1y2kg8x{font-size:1.1rem;margin-bottom:16px;color:var(--text-muted)}.input-group.svelte-1y2kg8x{margin-bottom:16px}.input-label.svelte-1y2kg8x{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.selected-song.svelte-1y2kg8x{background:#4ecdc41a;border:1px solid rgba(78,205,196,.3);border-radius:12px;padding:16px;margin-top:16px}.selected-song-title.svelte-1y2kg8x{font-weight:600;margin-bottom:4px}.selected-song-meta.svelte-1y2kg8x{font-size:.85rem;color:var(--text-muted)}.validation-status.svelte-1y2kg8x{font-size:.85rem;margin-top:8px;display:flex;align-items:center;gap:8px}.validation-status.checking.svelte-1y2kg8x{color:var(--cyan)}.validation-status.valid.svelte-1y2kg8x{color:var(--success)}.validation-status.invalid.svelte-1y2kg8x{color:var(--warning)}.validation-spinner.svelte-1y2kg8x{width:14px;height:14px;border:2px solid rgba(78,205,196,.3);border-top-color:var(--cyan);border-radius:50%;animation:spin .8s linear infinite}.error-msg.svelte-1y2kg8x{color:var(--warning);font-size:.85rem;margin-top:12px;text-align:center;animation:shake .4s ease}.on-deck-banner.svelte-1y2kg8x{border-radius:16px;padding:16px;margin-bottom:24px;display:flex;align-items:center;gap:16px;animation:svelte-1y2kg8x-slideDown .4s ease-out}.on-deck-next.svelte-1y2kg8x{background:linear-gradient(135deg,#7bed9f33,#7bed9f0d);border:1px solid rgba(123,237,159,.3)}.on-deck-soon.svelte-1y2kg8x{background:linear-gradient(135deg,#ffa50233,#ffa5020d);border:1px solid rgba(255,165,2,.3)}.deck-icon.svelte-1y2kg8x{font-size:1.8rem}.deck-text.svelte-1y2kg8x{font-size:.95rem;color:var(--text);line-height:1.3}.deck-text.svelte-1y2kg8x strong:where(.svelte-1y2kg8x){font-size:1.05rem;display:block;margin-bottom:2px}.recap-overlay.svelte-1y2kg8x{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:1000;animation:svelte-1y2kg8x-fadeIn .3s ease;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.recap-content.svelte-1y2kg8x{text-align:center;animation:svelte-1y2kg8x-zoomIn .5s cubic-bezier(.34,1.56,.64,1)}.recap-applause.svelte-1y2kg8x{font-size:1.5rem;font-weight:800;color:var(--yellow);letter-spacing:.1em;margin-bottom:24px;text-shadow:0 0 20px rgba(255,165,2,.5)}.recap-votes.svelte-1y2kg8x{font-size:5rem;font-weight:900;line-height:1;margin-bottom:12px;background:linear-gradient(135deg,#fff,#ccc);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(0 4px 12px rgba(0,0,0,.5))}.recap-label.svelte-1y2kg8x{font-size:.8rem;color:var(--text-muted);letter-spacing:.2em;text-transform:uppercase}@keyframes svelte-1y2kg8x-slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1y2kg8x-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-1y2kg8x-zoomIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}

.player-container.svelte-1wtekok{position:relative;height:100vh;height:100dvh;background:var(--bg-deep);overflow:hidden}.video-wrapper.svelte-1wtekok{position:absolute;top:0;left:0;right:0;bottom:100px;background:#000}.video-wrapper.hidden.svelte-1wtekok{visibility:hidden}#yt-player{position:absolute;top:0;left:0;width:100%;height:100%}.overlay.svelte-1wtekok{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--bg-deep)}.start-overlay.svelte-1wtekok{background:radial-gradient(ellipse at center,rgba(78,205,196,.15) 0%,var(--bg-deep) 70%);cursor:pointer;border:none;width:100%;transition:background .3s ease}.start-overlay.svelte-1wtekok:hover{background:radial-gradient(ellipse at center,rgba(78,205,196,.25) 0%,var(--bg-deep) 70%)}.start-content.svelte-1wtekok{text-align:center}.start-icon.svelte-1wtekok{font-size:6rem;color:var(--cyan);margin-bottom:24px;text-shadow:0 0 60px var(--cyan);animation:svelte-1wtekok-pulse 2s ease-in-out infinite}.start-title.svelte-1wtekok{font-size:2rem;font-weight:700;color:var(--text);margin-bottom:32px}.start-song.svelte-1wtekok{font-size:1.5rem;font-weight:600;color:var(--text);margin-bottom:8px;max-width:600px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.start-singer.svelte-1wtekok{font-size:1.25rem;color:var(--text-muted)}.pause-overlay.svelte-1wtekok{background:radial-gradient(ellipse at center,rgba(255,107,157,.1) 0%,var(--bg-deep) 70%)}.pause-content.svelte-1wtekok{text-align:center;margin-bottom:40px}.up-next-label.svelte-1wtekok{font-size:1rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.2em;margin-bottom:16px}.next-singer.svelte-1wtekok{font-size:4rem;font-weight:800;color:var(--text);margin-bottom:8px;text-shadow:0 0 60px var(--accent-glow)}.next-song.svelte-1wtekok{font-size:1.5rem;color:var(--text-muted);max-width:600px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.countdown.svelte-1wtekok{font-size:8rem;font-weight:800;color:var(--accent);margin-top:32px;text-shadow:0 0 80px var(--accent-glow);animation:svelte-1wtekok-pulse 1s ease-in-out infinite}@keyframes svelte-1wtekok-pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}.waiting-message.svelte-1wtekok{font-size:2rem;color:var(--text-muted)}.queue-preview.svelte-1wtekok{position:absolute;bottom:140px;left:40px}.queue-label.svelte-1wtekok{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:12px}.queue-item.svelte-1wtekok{display:flex;align-items:center;gap:12px;margin-bottom:8px;opacity:.7}.queue-position.svelte-1wtekok{font-size:.875rem;color:var(--cyan);font-weight:600;width:20px}.queue-name.svelte-1wtekok{font-size:1rem;font-weight:500}.queue-song.svelte-1wtekok{font-size:.875rem;color:var(--text-muted)}.qr-section.svelte-1wtekok{position:absolute;bottom:140px;right:40px;text-align:center}.qr-code.svelte-1wtekok{width:120px;height:120px;border-radius:12px;background:#fff;padding:8px}.qr-large.svelte-1wtekok{width:200px;height:200px;margin-bottom:24px}.qr-hint.svelte-1wtekok{font-size:.75rem;color:var(--text-muted);margin-top:8px}.idle-overlay.svelte-1wtekok{background:radial-gradient(ellipse at 20% 30%,rgba(255,107,157,.08) 0%,transparent 50%),radial-gradient(ellipse at 80% 70%,rgba(78,205,196,.08) 0%,transparent 50%),var(--bg-deep)}.idle-content.svelte-1wtekok{text-align:center}.idle-title.svelte-1wtekok{font-size:4rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:8px}.idle-subtitle.svelte-1wtekok{font-size:1.5rem;color:var(--text-muted);margin-bottom:48px}.idle-cta.svelte-1wtekok{font-size:1.25rem;color:var(--text)}.idle-decoration.svelte-1wtekok{position:absolute;width:100%;height:100%;pointer-events:none;overflow:hidden}.note.svelte-1wtekok{position:absolute;font-size:4rem;color:var(--accent);opacity:.15;animation:svelte-1wtekok-float 6s ease-in-out infinite}.note-1.svelte-1wtekok{top:20%;left:10%;animation-delay:0s}.note-2.svelte-1wtekok{top:60%;right:15%;animation-delay:2s}.note-3.svelte-1wtekok{bottom:30%;left:20%;animation-delay:4s}@keyframes svelte-1wtekok-float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(10deg)}}.info-bar.svelte-1wtekok{position:absolute;bottom:0;left:0;right:0;background:var(--bg-card);padding:16px 32px;border-top:1px solid rgba(255,255,255,.05)}.now-playing.svelte-1wtekok{display:flex;align-items:center;margin-bottom:12px}.now-label.svelte-1wtekok{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em;margin-right:16px}.now-title.svelte-1wtekok{font-size:1.25rem;font-weight:600;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.now-singer.svelte-1wtekok{font-size:1rem;color:var(--text-muted);margin-left:16px}.up-next-bar.svelte-1wtekok{display:flex;gap:24px}.up-next-bar-label.svelte-1wtekok{font-size:.7rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;padding-top:6px;white-space:nowrap}.up-next-list.svelte-1wtekok{display:flex;gap:12px;flex:1;overflow:hidden}.up-next-item.svelte-1wtekok{background:#ffffff0d;padding:8px 14px;border-radius:8px;min-width:180px;max-width:280px}.up-next-song.svelte-1wtekok{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.up-next-singer.svelte-1wtekok{font-size:.75rem;color:var(--text-muted)}.empty-queue.svelte-1wtekok{color:var(--text-muted);font-style:italic;font-size:.85rem}.connection-status.svelte-1wtekok{position:fixed;top:12px;right:12px;padding:6px 12px;border-radius:20px;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;z-index:100}.connection-status.connected.svelte-1wtekok{background:#4ecdc433;color:var(--cyan);border:1px solid rgba(78,205,196,.3)}.connection-status.polling.svelte-1wtekok{background:#ffa50233;color:#ffa502;border:1px solid rgba(255,165,2,.3)}.connection-status.disconnected.svelte-1wtekok{background:#ff6b8133;color:#ff6b81;border:1px solid rgba(255,107,129,.3)}

.toast-container.svelte-1cpok13{position:fixed;bottom:24px;left:50%;transform:translate(-50%);z-index:100;display:flex;flex-direction:column;gap:8px}.toast.svelte-1cpok13{background:var(--bg-card);border:1px solid rgba(255,255,255,.1);padding:16px 24px;border-radius:14px;font-size:.95rem;box-shadow:0 8px 32px #0006;animation:svelte-1cpok13-slideUp .3s ease}.toast.success.svelte-1cpok13{border-color:#7bed9f4d}.toast.error.svelte-1cpok13{border-color:#ff6b9d4d}.toast.info.svelte-1cpok13{border-color:#4ecdc44d}@keyframes svelte-1cpok13-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

.now-playing-card.svelte-gs8b8u{background:linear-gradient(135deg,#ff6b9d26,#4ecdc41a);border:1px solid rgba(255,107,157,.3);border-radius:20px;padding:20px;margin-bottom:24px;text-align:center}.now-playing-label.svelte-gs8b8u{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px}.now-playing-title.svelte-gs8b8u{font-size:1.1rem;font-weight:600;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.now-playing-singer.svelte-gs8b8u{color:var(--text-muted);font-size:.9rem}.skip-own-btn.svelte-gs8b8u{margin-top:12px;background:#ffa50233;border:1px solid rgba(255,165,2,.4);color:var(--warning);padding:10px 20px;border-radius:10px;font-size:.9rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease}.skip-own-btn.svelte-gs8b8u:hover{background:#ffa5024d}.queue-item.svelte-bbkcgc{display:flex;align-items:center;padding:14px;border-radius:14px;margin-bottom:8px;background:#ffffff08;transition:all .2s ease;animation:slideIn .3s ease}.queue-item.is-mine.svelte-bbkcgc{background:linear-gradient(135deg,#4ecdc426,#4ecdc40d);border:1px solid rgba(78,205,196,.3)}.position.svelte-bbkcgc{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.85rem;margin-right:12px;flex-shrink:0;background:#ffffff1a;color:var(--text-muted)}.position.is-mine.svelte-bbkcgc{background:var(--cyan);color:var(--bg)}.queue-info.svelte-bbkcgc{flex:1;min-width:0}.queue-song.svelte-bbkcgc{font-weight:500;font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.queue-singer.svelte-bbkcgc{font-size:.8rem;color:var(--text-muted);display:flex;align-items:center;gap:6px}.you-badge.svelte-bbkcgc{background:var(--cyan);color:var(--bg);font-size:.6rem;font-weight:700;padding:2px 6px;border-radius:4px;letter-spacing:.05em}.queue-actions.svelte-bbkcgc{display:flex;align-items:center;gap:4px;margin-left:12px}.vote-btn.svelte-bbkcgc{background:none;border:none;width:32px;height:32px;border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;font-size:1rem;color:var(--text-muted)}.vote-btn.svelte-bbkcgc:hover:not(:disabled){background:#ffffff1a}.vote-btn.upvote.svelte-bbkcgc{color:var(--success)}.vote-btn.downvote.svelte-bbkcgc{color:var(--accent)}.vote-btn.active.svelte-bbkcgc{background:#ffffff26}.vote-btn.svelte-bbkcgc:disabled{opacity:.3;cursor:not-allowed}.vote-count.svelte-bbkcgc{font-size:.85rem;min-width:24px;text-align:center;color:var(--text-muted)}.vote-count.positive.svelte-bbkcgc{color:var(--success)}.vote-count.negative.svelte-bbkcgc{color:var(--accent)}.remove-btn.svelte-bbkcgc{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:8px;border-radius:8px;transition:all .2s ease;font-size:.9rem}.remove-btn.svelte-bbkcgc:hover{background:#ff6b9d33;color:var(--accent)}.queue-section.svelte-a7cxk7{background:var(--bg-card);border-radius:20px;padding:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.section-header.svelte-a7cxk7{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.section-title.svelte-a7cxk7{font-size:1.1rem;font-weight:600;color:var(--text)}.queue-count.svelte-a7cxk7{background:#ffffff1a;padding:6px 14px;border-radius:20px;font-size:.85rem;color:var(--text-muted)}.queue-list.svelte-a7cxk7{list-style:none}.empty-state.svelte-a7cxk7{text-align:center;padding:60px 24px;color:var(--text-muted);display:flex;flex-direction:column;align-items:center;gap:12px}.empty-icon.svelte-a7cxk7{font-size:4rem;margin-bottom:8px;animation:svelte-a7cxk7-bounce 2s infinite ease-in-out}.empty-state.svelte-a7cxk7 h3:where(.svelte-a7cxk7){font-size:1.25rem;color:var(--text);margin:0;font-weight:700}.empty-state.svelte-a7cxk7 p:where(.svelte-a7cxk7){margin:0;font-size:.95rem;opacity:.8}.arrow.svelte-a7cxk7{font-size:2rem;color:var(--accent);margin-top:16px;animation:svelte-a7cxk7-float 1.5s infinite ease-in-out}@keyframes svelte-a7cxk7-bounce{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes svelte-a7cxk7-float{0%,to{transform:translateY(0)}50%{transform:translateY(10px)}}.search-container.svelte-1002zyw{margin-bottom:16px}.search-row.svelte-1002zyw{display:flex;gap:12px}.search-row.svelte-1002zyw input:where(.svelte-1002zyw){flex:1}.search-btn.svelte-1002zyw{flex-shrink:0;width:auto;padding:16px 24px}.search-results.svelte-1002zyw{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px;margin-top:16px}.search-result.svelte-1002zyw{display:flex;flex-direction:column;padding:0;background:#ffffff08;border:2px solid transparent;border-radius:12px;cursor:pointer;transition:all .2s ease;text-align:left;color:inherit;font-family:inherit;overflow:hidden}.search-result.svelte-1002zyw:hover:not(:disabled){background:#ffffff0f;border-color:#ffffff1a;transform:translateY(-2px)}.search-result.selected.svelte-1002zyw{background:#4ecdc426;border-color:var(--cyan)}.search-result.too-long.svelte-1002zyw{opacity:.5;cursor:not-allowed}.search-result.too-long.svelte-1002zyw:hover{background:#ffffff08;border-color:transparent;transform:none}.result-thumb-wrapper.svelte-1002zyw{position:relative;width:100%;aspect-ratio:16 / 9}.result-thumb.svelte-1002zyw{width:100%;height:100%;object-fit:cover;background:#0000004d}.result-duration.svelte-1002zyw{position:absolute;bottom:6px;right:6px;background:#000c;color:#fff;font-size:.7rem;font-weight:600;padding:2px 6px;border-radius:4px}.result-duration.too-long-badge.svelte-1002zyw{background:var(--warning);color:#000}.result-info.svelte-1002zyw{padding:10px;display:flex;flex-direction:column;gap:4px}.result-title.svelte-1002zyw{font-size:.85rem;font-weight:500;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.result-channel.svelte-1002zyw{font-size:.75rem;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.too-long-msg.svelte-1002zyw{font-size:.7rem;color:var(--warning);font-weight:500}.searching-indicator.svelte-1002zyw{text-align:center;padding:24px;color:var(--text-muted);display:flex;flex-direction:column;align-items:center;gap:12px}.no-results.svelte-1002zyw{text-align:center;padding:24px;color:var(--text-muted)}@media(max-width:480px){.search-results.svelte-1002zyw{grid-template-columns:repeat(2,1fr);gap:8px}.result-info.svelte-1002zyw{padding:8px}.result-title.svelte-1002zyw{font-size:.8rem}}.modal-overlay.svelte-1ppz18g{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:16px}.modal.svelte-1ppz18g{background:var(--bg-card);border-radius:24px;padding:32px;max-width:400px;width:100%;border:1px solid rgba(255,255,255,.1);box-shadow:0 16px 64px #00000080;animation:modalIn .3s ease}.modal.svelte-1ppz18g h2:where(.svelte-1ppz18g){font-size:1.5rem;font-weight:700;margin-bottom:16px;text-align:center}.modal.svelte-1ppz18g p:where(.svelte-1ppz18g){color:var(--text-muted);margin-bottom:12px;line-height:1.5}.modal.svelte-1ppz18g ul:where(.svelte-1ppz18g){color:var(--text-muted);margin:0 0 16px 20px;line-height:1.6}.modal.svelte-1ppz18g ul:where(.svelte-1ppz18g) li:where(.svelte-1ppz18g){margin-bottom:4px}.highlight.svelte-1ppz18g{color:var(--cyan);font-weight:500}.modal-input.svelte-1ppz18g{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:16px 20px;font-size:1.5rem;font-family:inherit;color:var(--text);outline:none;text-align:center;letter-spacing:.5em;margin-bottom:16px}.modal-input.svelte-1ppz18g:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}.modal-input.svelte-1ppz18g::placeholder{color:var(--text-muted);letter-spacing:normal}.modal.svelte-1ppz18g .btn:where(.svelte-1ppz18g){margin-bottom:12px}.small.svelte-1ppz18g{font-size:.85rem;color:var(--text-muted);text-align:center}.skip-link.svelte-1ppz18g{display:block;width:100%;text-align:center;color:var(--text-muted);background:none;border:none;font-size:.9rem;font-family:inherit;cursor:pointer;padding:8px}.skip-link.svelte-1ppz18g:hover{color:var(--text)}.hint.svelte-1ppz18g{font-size:.85rem;color:var(--text-muted);text-align:center;margin-top:12px}.link-btn.svelte-1ppz18g{color:var(--cyan);background:none;border:none;font-family:inherit;font-size:inherit;cursor:pointer;text-decoration:none;padding:0}.link-btn.svelte-1ppz18g:hover{text-decoration:underline}.modal-error.svelte-1ppz18g{color:var(--warning);font-size:.9rem;text-align:center;margin-top:8px;margin-bottom:8px}
</style>
</head>
<body data-sveltekit-preload-data="hover">
  <div style="display: contents"></div>
  <script type="module">var Ov=Object.defineProperty;var Oe=(e,t)=>()=>(e&&(t=e(e=0)),t);var Mn=(e,t)=>{for(var n in t)Ov(e,n,{get:t[n],enumerable:!0})};function yl(e){return typeof e=="function"}function wl(e){return e()}function Cr(e){for(var t=0;t<e.length;t++)e[t]()}function kl(){var e,t,n=new Promise((a,s)=>{e=a,t=s});return{promise:n,resolve:e,reject:t}}function Uv(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Wv(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Dv(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Fv(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Bv(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xl(){throw new Error("https://svelte.dev/e/hydration_failed")}function Pl(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Vv(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Jv(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Gv(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function \$l(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Js(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function Dl(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function qt(e){ne=e}function He(e){if(e===null)throw Js(),Ga;return ve=e}function ta(){return He(At(ve))}function d(e){if(ne){if(At(ve)!==null)throw Js(),Ga;ve=e}}function at(e=1){if(ne){for(var t=e,n=ve;t--;)n=At(n);ve=n}}function Ya(e=!0){for(var t=0,n=ve;;){if(n.nodeType===Un){var a=n.data;if(a===Vs){if(t===0)return n;t-=1}else(a===ei||a===Ja)&&(t+=1)}var s=At(n);e&&n.remove(),n=s}}function Ir(e){if(!e||e.nodeType!==Un)throw Js(),Ga;return e.data}function Fl(e){return e===this.v}function ti(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Bl(e){return!ti(e,this.v)}function Vl(){wa=!0}function Wa(e){Ue=e}function Ae(e,t=!1,n){Ue={p:Ue,i:!1,c:null,e:null,s:e,x:null,l:wa&&!t?{s:null,u:null,\$:[]}:null}}function Re(e){var t=Ue,n=t.e;if(n!==null){t.e=null;for(var a of n)cc(a)}return e!==void 0&&(t.x=e),t.i=!0,Ue=t.p,e??{}}function Gs(){return!wa||Ue!==null&&Ue.l===null}function Jl(){var e=Aa;Aa=[],Cr(e)}function Tt(e){if(Aa.length===0&&!Ls){var t=Aa;queueMicrotask(()=>{t===Aa&&Jl()})}Aa.push(e)}function Yv(){for(;Aa.length>0;)Jl()}function ni(e){var t=fe;if(t===null)return de.f|=ma,e;if(t.f&Ba)Da(e,t);else{if(!(t.f&Tr))throw e;t.b.error(e)}}function Da(e,t){for(;t!==null;){if(t.f&Tr)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}function ut(e,t){e.f=e.f&Kv|t}function ai(e){e.f&ln||e.deps===null?ut(e,Ct):ut(e,zn)}function Gl(e){if(e!==null)for(let t of e)!(t.f&kt)||!(t.f&Ua)||(t.f^=Ua,Gl(t.deps))}function si(e,t,n){e.f&Mt?t.add(e):e.f&zn&&n.add(e),Gl(e.deps),ut(e,Ct)}function ri(e){var t=Ls;Ls=!0;try{for(var n;;){if(Yv(),Qt.length===0&&(ge?.flush(),Qt.length===0))return jr=null,n;Hl()}}finally{Ls=t}}function Hl(){Fo=!0;var e=null;try{for(var t=0;Qt.length>0;){var n=ka.ensure();if(t++>1e3){var a,s;Xv()}n.process(Qt),ga.clear()}}finally{Fo=!1,jr=null}}function Xv(){try{Bv()}catch(e){Da(e,jr)}}function fl(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var a=e[n++];if(!(a.f&(qn|Bt))&&Xs(a)&&(On=new Set,Ds(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?fc(a):a.fn=null),On?.size>0)){ga.clear();for(let s of On){if(s.f&(qn|Bt))continue;let r=[s],i=s.parent;for(;i!==null;)On.has(i)&&(On.delete(i),r.push(i)),i=i.parent;for(let l=r.length-1;l>=0;l--){let c=r[l];!(c.f&(qn|Bt))&&Ds(c)}}On.clear()}}On=null}}function Xl(e,t,n,a){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(let s of e.reactions){let r=s.f;r&kt?Xl(s,t,n,a):r&(Zo|_n)&&!(r&Mt)&&Zl(s,t,a)&&(ut(s,Mt),An(s))}}function Zl(e,t,n){let a=n.get(e);if(a!==void 0)return a;if(e.deps!==null)for(let s of e.deps){if(t.includes(s))return!0;if(s.f&kt&&Zl(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function An(e){for(var t=jr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Fo&&t===fe&&n&_n&&!(n&Er))return;if(n&(Fa|ea)){if(!(n&Ct))return;t.f^=Ct}}Qt.push(t)}function Zv(e,t,n,a){let s=Gs()?Ka:Ys;var r=e.filter(h=>!h.settled);if(n.length===0&&r.length===0){a(t.map(s));return}var i=ge,l=fe,c=Qv(),v=r.length===1?r[0].promise:r.length>1?Promise.all(r.map(h=>h.promise)):null;function p(h){c();try{a(h)}catch(m){!(l.f&qn)&&Da(m,l)}i?.deactivate(),Jo()}if(n.length===0){v.then(()=>p(t.map(s)));return}function y(){c(),Promise.all(n.map(h=>ed(h))).then(h=>p([...t.map(s),...h])).catch(h=>Da(h,l))}v?v.then(y):y()}function Qv(){var e=fe,t=de,n=Ue,a=ge;return function(s=!0){bn(e),Ot(t),Wa(n),s&&a?.activate()}}function Jo(){bn(null),Ot(null),Wa(null)}function Ka(e){var t=kt|Mt,n=de!==null&&de.f&kt?de:null;return fe!==null&&(fe.f|=Va),{ctx:Ue,deps:null,effects:null,equals:Fl,f:t,fn:e,reactions:null,rv:0,v:wt,wv:0,parent:n??fe,ac:null}}function ed(e,t,n){let a=fe;a===null&&Uv();var s=a.b,r=void 0,i=na(wt),l=!de,c=new Map;return sd(()=>{var v,p=kl();r=p.promise;try{Promise.resolve(e()).then(p.resolve,p.reject).then(()=>{y===ge&&y.committed&&y.deactivate(),Jo()})}catch(w){p.reject(w),Jo()}var y=ge;if(l){var h=s.is_rendered();s.update_pending_count(1),y.increment(h),(v=c.get(y))==null||v.reject(us),c.delete(y),c.set(y,p)}let m=(w,k=void 0)=>{if(y.activate(),k)k!==us&&(i.f|=ma,ya(i,k));else{i.f&ma&&(i.f^=ma),ya(i,w);for(let[C,P]of c){if(c.delete(C),C===y)break;P.reject(us)}}l&&(s.update_pending_count(-1),y.decrement(h))};p.promise.then(m,w=>m(null,w||"unknown"))}),ui(()=>{for(let v of c.values())v.reject(us)}),new Promise(v=>{function p(y){function h(){y===r?v(i):p(r)}y.then(h,h)}p(r)})}function Fe(e){let t=Ka(e);return mc(t),t}function Ys(e){let t=Ka(e);return t.equals=Bl,t}function Ql(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)bt(t[n])}}function td(e){for(var t=e.parent;t!==null;){if(!(t.f&kt))return t.f&qn?null:t;t=t.parent}return null}function oi(e){var t,n=fe;bn(td(e));try{e.f&=~Ua,Ql(e),t=kc(e)}finally{bn(n)}return t}function ec(e){var t=oi(e);if(!e.equals(t)&&(e.wv=yc(),(!(ge!=null&&ge.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){ut(e,Ct);return}Qn||(Ft!==null?(Ar()||ge!=null&&ge.is_fork)&&Ft.set(e,t):ai(e))}function na(e,t){var n={f:0,v:e,reactions:null,equals:Fl,rv:0,wv:0};return n}function T(e,t){let n=na(e);return mc(n),n}function Mr(e,t=!1,n=!0){var a;let s=na(e);return t||(s.equals=Bl),wa&&n&&Ue!==null&&Ue.l!==null&&((a=Ue.l).s??(a.s=[])).push(s),s}function u(e,t,n=!1){de!==null&&(!kn||de.f&dl)&&Gs()&&de.f&(kt|_n|Zo|dl)&&!(cn!=null&&cn.includes(e))&&Gv();let a=n?Pe(t):t;return ya(e,a)}function ya(e,t){if(!e.equals(t)){var n=e.v;Qn?ga.set(e,t):ga.set(e,n),e.v=t;var a=ka.ensure();if(a.capture(e,n),(e.f&kt)!==0){let s=e;e.f&Mt&&oi(s),ai(s)}e.wv=yc(),ac(e,Mt),Gs()&&fe!==null&&fe.f&Ct&&!(fe.f&(ea|Fa))&&(on===null?id([e]):on.push(e)),!a.is_fork&&Go.size>0&&!tc&&nd()}return t}function nd(){tc=!1;for(let e of Go)e.f&Ct&&ut(e,zn),Xs(e)&&Ds(e);Go.clear()}function nc(e,t=1){var n=o(e),a=t===1?n++:n--;return u(e,n),a}function vs(e){u(e,e.v+1)}function ac(e,t){var n=e.reactions;if(n!==null)for(var a=Gs(),s=n.length,r=0;r<s;r++){var i=n[r],l=i.f;if(!(!a&&i===fe)){var c=(l&Mt)===0;if(c&&ut(i,t),(l&kt)!==0){var v=i;Ft?.delete(v),!(l&Ua)&&(l&ln&&(i.f|=Ua),ac(v,zn))}else c&&(l&_n&&On!==null&&On.add(i),An(i))}}}function Pe(e){if(typeof e!="object"||e===null||Zn in e)return e;let t=\$r(e);if(t!==zv&&t!==Lv)return e;var n=new Map,a=Ho(e),s=T(0),r=La,i=l=>{if(La===r)return l();var c=de,v=La;Ot(null),ml(r);var p=l();return Ot(c),ml(v),p};return a&&n.set("length",T(e.length)),new Proxy(e,{defineProperty(l,c,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Vv();var p=n.get(c);return p===void 0?p=i(()=>{var y=T(v.value);return n.set(c,y),y}):u(p,v.value,!0),!0},deleteProperty(l,c){var v=n.get(c);if(v===void 0){if(c in l){let p=i(()=>T(wt));n.set(c,p),vs(s)}}else u(v,wt),vs(s);return!0},get(l,c,v){var p;if(c===Zn)return e;var y=n.get(c),h=c in l;if(y===void 0&&(!h||(p=za(l,c))!=null&&p.writable)&&(y=i(()=>{var w=Pe(h?l[c]:wt),k=T(w);return k}),n.set(c,y)),y!==void 0){var m=o(y);return m===wt?void 0:m}return Reflect.get(l,c,v)},getOwnPropertyDescriptor(l,c){var v=Reflect.getOwnPropertyDescriptor(l,c);if(v&&"value"in v){var p=n.get(c);p&&(v.value=o(p))}else if(v===void 0){var y=n.get(c),h=y?.v;if(y!==void 0&&h!==wt)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return v},has(l,c){var v;if(c===Zn)return!0;var p=n.get(c),y=p!==void 0&&p.v!==wt||Reflect.has(l,c);if(p!==void 0||fe!==null&&(!y||(v=za(l,c))!=null&&v.writable)){p===void 0&&(p=i(()=>{var m=y?Pe(l[c]):wt,w=T(m);return w}),n.set(c,p));var h=o(p);if(h===wt)return!1}return y},set(l,c,v,p){var y,h=n.get(c),m=c in l;if(a&&c==="length")for(var w=v;w<h.v;w+=1){var k=n.get(w+"");k!==void 0?u(k,wt):w in l&&(k=i(()=>T(wt)),n.set(w+"",k))}if(h===void 0)(!m||(y=za(l,c))!=null&&y.writable)&&(h=i(()=>T(void 0)),u(h,Pe(v)),n.set(c,h));else{m=h.v!==wt;var C=i(()=>Pe(v));u(h,C)}var P=Reflect.getOwnPropertyDescriptor(l,c);if(P!=null&&P.set&&P.set.call(p,v),!m){if(a&&typeof c=="string"){var N=n.get("length"),S=Number(c);Number.isInteger(S)&&S>=N.v&&u(N,S+1)}vs(s)}return!0},ownKeys(l){o(s);var c=Reflect.ownKeys(l).filter(y=>{var h=n.get(y);return h===void 0||h.v!==wt});for(var[v,p]of n)p.v!==wt&&!(v in l)&&c.push(v);return c},setPrototypeOf(){Jv()}})}function Or(){if(ds===void 0){ds=window,ii=document,li=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;sc=za(t,"firstChild").get,rc=za(t,"nextSibling").get,vl(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),vl(n)&&(n.__t=void 0)}}function vt(e=""){return document.createTextNode(e)}function un(e){return sc.call(e)}function At(e){return rc.call(e)}function f(e,t){if(!ne)return un(e);var n=un(ve);if(n===null)n=ve.appendChild(vt());else if(t&&n.nodeType!==Bs){var a=vt();return n?.before(a),He(a),a}return He(n),n}function X(e,t=!1){if(!ne){var n=un(e);return n instanceof Comment&&n.data===""?At(n):n}if(t&&ve?.nodeType!==Bs){var a=vt();return ve?.before(a),He(a),a}return ve}function g(e,t=1,n=!1){let a=ne?ve:e;for(var s;t--;)s=a,a=At(a);if(!ne)return a;if(n&&a?.nodeType!==Bs){var r=vt();return a===null?s?.after(r):a.before(r),He(r),r}return He(a),a}function Ks(e){e.textContent=""}function qr(){return!1}function oc(e){ne&&un(e)!==null&&Ks(e)}function ci(){pl||(pl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(let n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ba(e){var t=de,n=fe;Ot(null),bn(null);try{return e()}finally{Ot(t),bn(n)}}function ic(e,t,n,a=n){e.addEventListener(t,()=>ba(n));let s=e.__on_r;s?e.__on_r=()=>{s(),a(!0)}:e.__on_r=()=>a(!0),ci()}function lc(e){fe===null&&(de===null&&Fv(),Dv()),Qn&&Wv()}function ad(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Wn(e,t,n){var a=fe;a!==null&&a.f&Bt&&(e|=Bt);var s={ctx:Ue,deps:null,nodes:null,f:e|Mt|ln,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Ds(s),s.f|=Ba}catch(l){throw bt(s),l}else t!==null&&An(s);var r=s;if(n&&r.deps===null&&r.teardown===null&&r.nodes===null&&r.first===r.last&&!(r.f&Va)&&(r=r.first,e&_n&&e&Vt&&r!==null&&(r.f|=Vt)),r!==null&&(r.parent=a,a!==null&&ad(r,a),de!==null&&(de.f&kt)!==0&&(e&Fa)===0)){var i=de;(i.effects??(i.effects=[])).push(r)}return s}function Ar(){return de!==null&&!kn}function ui(e){let t=Wn(Fs,null,!1);return ut(t,Ct),t.teardown=e,t}function Rt(e){lc();var t=fe.f,n=!de&&(t&ea)!==0&&(t&Ba)===0;if(n){var a=Ue;(a.e??(a.e=[])).push(e)}else return cc(e)}function cc(e){return Wn(_r|_l,e,!1)}function Rr(e){return lc(),Wn(Fs|_l,e,!0)}function uc(e){ka.ensure();let t=Wn(Fa|Va,e,!0);return(n={})=>new Promise(a=>{n.outro?Dn(t,()=>{bt(t),a(void 0)}):(bt(t),a(void 0))})}function ps(e){return Wn(_r,e,!1)}function sd(e){return Wn(Zo|Va,e,!0)}function hs(e,t=0){return Wn(Fs|t,e,!0)}function U(e,t=[],n=[],a=[]){Zv(a,t,n,s=>{Wn(Fs,()=>e(...s.map(o)),!0)})}function vn(e,t=0){var n=Wn(_n|t,e,!0);return n}function zt(e){return Wn(ea|Va,e,!0)}function vc(e){var t=e.teardown;if(t!==null){let n=Qn,a=de;hl(!0),Ot(null);try{t.call(null)}finally{hl(n),Ot(a)}}}function dc(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){let s=n.ac;s!==null&&ba(()=>{s.abort(us)});var a=n.next;n.f&Fa?n.parent=null:bt(n,t),n=a}}function rd(e){for(var t=e.first;t!==null;){var n=t.next;!(t.f&ea)&&bt(t),t=n}}function bt(e,t=!0){var n=!1;(t||e.f&Er)&&e.nodes!==null&&e.nodes.end!==null&&(od(e.nodes.start,e.nodes.end),n=!0),dc(e,t&&!n),xr(e,0),ut(e,qn);var a=e.nodes&&e.nodes.t;if(a!==null)for(let r of a)r.stop();vc(e);var s=e.parent;s!==null&&s.first!==null&&fc(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function od(e,t){for(;e!==null;){var n=e===t?null:At(e);e.remove(),e=n}}function fc(e){var t=e.parent,n=e.prev,a=e.next;n!==null&&(n.next=a),a!==null&&(a.prev=n),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=n))}function Dn(e,t,n=!0){var a=[];pc(e,a,!0);var s=()=>{n&&bt(e),t&&t()},r=a.length;if(r>0){var i=()=>--r||s();for(var l of a)l.out(i)}else s()}function pc(e,t,n){if(!(e.f&Bt)){e.f^=Bt;var a=e.nodes&&e.nodes.t;if(a!==null)for(let l of a)(l.is_global||n)&&t.push(l);for(var s=e.first;s!==null;){var r=s.next,i=(s.f&Vt)!==0||(s.f&ea)!==0&&(e.f&_n)!==0;pc(s,t,i?n:!1),s=r}}}function Hs(e){hc(e,!0)}function hc(e,t){if(e.f&Bt){e.f^=Bt,!(e.f&Ct)&&(ut(e,Mt),An(e));for(var n=e.first;n!==null;){var a=n.next,s=(n.f&Vt)!==0||(n.f&ea)!==0;hc(n,s?t:!1),n=a}var r=e.nodes&&e.nodes.t;if(r!==null)for(let i of r)(i.is_global||t)&&i.in()}}function zr(e,t){if(e.nodes)for(var n=e.nodes.start,a=e.nodes.end;n!==null;){var s=n===a?null:At(n);t.append(n),n=s}}function hl(e){Qn=e}function Ot(e){de=e}function bn(e){fe=e}function mc(e){de!==null&&(cn===null?cn=[e]:cn.push(e))}function id(e){on=e}function ml(e){La=e}function yc(){return++gc}function Xs(e){var t=e.f;if(t&Mt)return!0;if(t&kt&&(e.f&=~Ua),(t&zn)!==0){for(var n=e.deps,a=n.length,s=0;s<a;s++){var r=n[s];if(Xs(r)&&ec(r),r.wv>e.wv)return!0}t&ln&&Ft===null&&ut(e,Ct)}return!1}function wc(e,t,n=!0){var a=e.reactions;if(a!==null&&!(cn!=null&&cn.includes(e)))for(var s=0;s<a.length;s++){var r=a[s];r.f&kt?wc(r,t,!1):t===r&&(n?ut(r,Mt):r.f&Ct&&ut(r,zn),An(r))}}function kc(e){var t,n=Dt,a=Zt,s=on,r=de,i=cn,l=Ue,c=kn,v=La,p=e.f;Dt=null,Zt=0,on=null,de=p&(ea|Fa)?null:e,cn=null,Wa(e.ctx),kn=!1,La=++Ra,e.ac!==null&&(ba(()=>{e.ac.abort(us)}),e.ac=null);try{e.f|=Do;var y=e.fn,h=y(),m=e.deps;if(Dt!==null){var w;if(xr(e,Zt),m!==null&&Zt>0)for(m.length=Zt+Dt.length,w=0;w<Dt.length;w++)m[Zt+w]=Dt[w];else e.deps=m=Dt;if(Ar()&&e.f&ln)for(w=Zt;w<m.length;w++)((t=m[w]).reactions??(t.reactions=[])).push(e)}else m!==null&&Zt<m.length&&(xr(e,Zt),m.length=Zt);if(Gs()&&on!==null&&!kn&&m!==null&&!(e.f&(kt|zn|Mt)))for(w=0;w<on.length;w++)wc(on[w],e);if(r!==null&&r!==e){if(Ra++,r.deps!==null)for(let k=0;k<a;k+=1)r.deps[k].rv=Ra;if(n!==null)for(let k of n)k.rv=Ra;on!==null&&(s===null?s=on:s.push(...on))}return e.f&ma&&(e.f^=ma),h}catch(k){return ni(k)}finally{e.f^=Do,Dt=n,Zt=a,on=s,de=r,cn=i,Wa(l),kn=c,La=v}}function ld(e,t){let n=t.reactions;if(n!==null){var a=Rv.call(n,e);if(a!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[a]=n[s],n.pop())}}if(n===null&&t.f&kt&&(Dt===null||!Dt.includes(t))){var r=t;r.f&ln&&(r.f^=ln,r.f&=~Ua),ai(r),Ql(r),xr(r,0)}}function xr(e,t){var n=e.deps;if(n!==null)for(var a=t;a<n.length;a++)ld(e,n[a])}function Ds(e){var t=e.f;if(!(t&qn)){ut(e,Ct);var n=fe,a=br;fe=e,br=!0;try{t&(_n|bl)?rd(e):dc(e),vc(e);var s=kc(e);e.teardown=typeof s=="function"?s:null,e.wv=gc;var r}finally{br=a,fe=n}}}async function aa(){await Promise.resolve(),ri()}function bc(){return ka.ensure().settled()}function o(e){var t=e.f,n=(t&kt)!==0;if(de!==null&&!kn){var a=fe!==null&&(fe.f&qn)!==0;if(!a&&!(cn!=null&&cn.includes(e))){var s=de.deps;if(de.f&Do)e.rv<Ra&&(e.rv=Ra,Dt===null&&s!==null&&s[Zt]===e?Zt++:Dt===null?Dt=[e]:Dt.push(e));else{(de.deps??(de.deps=[])).push(e);var r=e.reactions;r===null?e.reactions=[de]:r.includes(de)||r.push(de)}}}if(Qn&&ga.has(e))return ga.get(e);if(n){var i=e;if(Qn){var l=i.v;return(!(i.f&Ct)&&i.reactions!==null||Sc(i))&&(l=oi(i)),ga.set(i,l),l}var c=(i.f&ln)===0&&!kn&&de!==null&&(br||(de.f&ln)!==0),v=i.deps===null;Xs(i)&&(c&&(i.f|=ln),ec(i)),c&&!v&&_c(i)}if(Ft!=null&&Ft.has(e))return Ft.get(e);if(e.f&ma)throw e.v;return e.v}function _c(e){if(e.deps!==null){e.f|=ln;for(let t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&kt&&!(t.f&ln)&&_c(t)}}function Sc(e){if(e.v===wt)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(ga.has(t)||t.f&kt&&Sc(t))return!0;return!1}function Lt(e){var t=kn;try{return kn=!0,e()}finally{kn=t}}function xc(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Zn in e)Yo(e);else if(!Array.isArray(e))for(let t in e){let n=e[t];typeof n=="object"&&n&&Zn in n&&Yo(n)}}}function Yo(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{Yo(e[a],t)}catch{}let n=\$r(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){let a=Xo(n);for(let s in a){let r=a[s].get;if(r)try{r.call(e)}catch{}}}}}var qv,gl,Av,Oa,Ko,Ke,Xn,ja,Os,Ho,Rv,fs,Pr,za,Xo,zv,Lv,\$r,vl,Rn,kt,_r,Fs,bl,_n,ea,Fa,Tr,ln,Ct,Mt,zn,Bt,qn,Ba,Vt,dl,Er,Va,_l,Ln,Ua,Do,Zo,ma,Zn,Nr,Sl,us,Bs,Un,Cl,Tl,Qo,El,Nl,Il,jl,Ml,Ol,ql,Al,Rl,zl,Ll,Ul,ei,Ja,Vs,Ga,wt,Wl,ne,ve,wa,Ue,Aa,Kv,kr,ge,Sr,Ft,Qt,jr,Fo,Ls,qs,As,ha,Ma,Rs,Us,Ws,zs,qa,Bo,Vo,Yl,Hv,ka,On,Go,ga,tc,ds,ii,li,sc,rc,pl,br,Qn,de,kn,fe,cn,Dt,Zt,on,gc,Ra,La,Xe=Oe(()=>{"use strict";qv=Object.defineProperty,gl=e=>{throw TypeError(e)},Av=(e,t,n)=>t in e?qv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oa=(e,t,n)=>Av(e,typeof t!="symbol"?t+"":t,n),Ko=(e,t,n)=>t.has(e)||gl("Cannot "+n),Ke=(e,t,n)=>(Ko(e,t,"read from private field"),n?n.call(e):t.get(e)),Xn=(e,t,n)=>t.has(e)?gl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ja=(e,t,n,a)=>(Ko(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),Os=(e,t,n)=>(Ko(e,t,"access private method"),n),Ho=Array.isArray,Rv=Array.prototype.indexOf,fs=Array.from,Pr=Object.defineProperty,za=Object.getOwnPropertyDescriptor,Xo=Object.getOwnPropertyDescriptors,zv=Object.prototype,Lv=Array.prototype,\$r=Object.getPrototypeOf,vl=Object.isExtensible;Rn=()=>{};kt=2,_r=4,Fs=8,bl=1<<24,_n=16,ea=32,Fa=64,Tr=128,ln=512,Ct=1024,Mt=2048,zn=4096,Bt=8192,qn=16384,Ba=32768,Vt=65536,dl=1<<17,Er=1<<18,Va=1<<19,_l=1<<20,Ln=1<<25,Ua=32768,Do=1<<21,Zo=1<<22,ma=1<<23,Zn=Symbol("\$state"),Nr=Symbol("legacy props"),Sl=Symbol(""),us=new class extends Error{constructor(){super(...arguments),Oa(this,"name","StaleReactionError"),Oa(this,"message","The reaction that called \`getAbortSignal()\` was re-run or destroyed")}},Bs=3,Un=8;Cl=1,Tl=2,Qo=4,El=8,Nl=16,Il=1,jl=2,Ml=4,Ol=8,ql=16,Al=1,Rl=2,zl=4,Ll=1,Ul=2,ei="[",Ja="[!",Vs="]",Ga={},wt=Symbol(),Wl="http://www.w3.org/1999/xhtml";ne=!1;wa=!1;Ue=null;Aa=[];Kv=-7169;kr=new Set,ge=null,Sr=null,Ft=null,Qt=[],jr=null,Fo=!1,Ls=!1,Hv=class Kl{constructor(){Xn(this,qa),Oa(this,"committed",!1),Oa(this,"current",new Map),Oa(this,"previous",new Map),Xn(this,qs,new Set),Xn(this,As,new Set),Xn(this,ha,0),Xn(this,Ma,0),Xn(this,Rs,null),Xn(this,Us,new Set),Xn(this,Ws,new Set),Oa(this,"skipped_effects",new Set),Oa(this,"is_fork",!1),Xn(this,zs,!1)}is_deferred(){return this.is_fork||Ke(this,Ma)>0}process(t){var n;Qt=[],this.apply();var a=[],s=[];for(let r of t)Os(this,qa,Bo).call(this,r,a,s);if(this.is_deferred())Os(this,qa,Vo).call(this,s),Os(this,qa,Vo).call(this,a);else{for(let r of Ke(this,qs))r();Ke(this,qs).clear(),Ke(this,ha)===0&&Os(this,qa,Yl).call(this),Sr=this,ge=null,fl(s),fl(a),Sr=null,(n=Ke(this,Rs))==null||n.resolve()}Ft=null}capture(t,n){n!==wt&&!this.previous.has(t)&&this.previous.set(t,n),!(t.f&ma)&&(this.current.set(t,t.v),Ft?.set(t,t.v))}activate(){ge=this,this.apply()}deactivate(){ge===this&&(ge=null,Ft=null)}flush(){if(this.activate(),Qt.length>0){if(Hl(),ge!==null&&ge!==this)return}else Ke(this,ha)===0&&this.process([]);this.deactivate()}discard(){for(let t of Ke(this,As))t(this);Ke(this,As).clear()}increment(t){ja(this,ha,Ke(this,ha)+1),t&&ja(this,Ma,Ke(this,Ma)+1)}decrement(t){ja(this,ha,Ke(this,ha)-1),t&&ja(this,Ma,Ke(this,Ma)-1),!Ke(this,zs)&&(ja(this,zs,!0),Tt(()=>{ja(this,zs,!1),this.is_deferred()?Qt.length>0&&this.flush():this.revive()}))}revive(){for(let t of Ke(this,Us))Ke(this,Ws).delete(t),ut(t,Mt),An(t);for(let t of Ke(this,Ws))ut(t,zn),An(t);this.flush()}oncommit(t){Ke(this,qs).add(t)}ondiscard(t){Ke(this,As).add(t)}settled(){return(Ke(this,Rs)??ja(this,Rs,kl())).promise}static ensure(){if(ge===null){let t=ge=new Kl;kr.add(ge),Ls||Tt(()=>{ge===t&&t.flush()})}return ge}apply(){}};qs=new WeakMap,As=new WeakMap,ha=new WeakMap,Ma=new WeakMap,Rs=new WeakMap,Us=new WeakMap,Ws=new WeakMap,zs=new WeakMap,qa=new WeakSet,Bo=function(e,t,n){e.f^=Ct;for(var a=e.first,s=null;a!==null;){var r=a.f,i=(r&(ea|Fa))!==0,l=i&&(r&Ct)!==0,c=l||(r&Bt)!==0||this.skipped_effects.has(a);if(!c&&a.fn!==null){i?a.f^=Ct:s!==null&&r&(_r|Fs|bl)?s.b.defer_effect(a):r&_r?t.push(a):Xs(a)&&(r&_n&&Ke(this,Us).add(a),Ds(a));var v=a.first;if(v!==null){a=v;continue}}var p=a.parent;for(a=a.next;a===null&&p!==null;)p===s&&(s=null),a=p.next,p=p.parent}},Vo=function(e){for(var t=0;t<e.length;t+=1)si(e[t],Ke(this,Us),Ke(this,Ws))},Yl=function(){var e;if(kr.size>1){this.previous.clear();var t=Ft,n=!0;for(let s of kr){if(s===this){n=!1;continue}let r=[];for(let[l,c]of this.current){if(s.current.has(l))if(n&&c!==s.current.get(l))s.current.set(l,c);else continue;r.push(l)}if(r.length===0)continue;let i=[...s.current.keys()].filter(l=>!this.current.has(l));if(i.length>0){var a=Qt;Qt=[];let l=new Set,c=new Map;for(let v of r)Xl(v,i,l,c);if(Qt.length>0){ge=s,s.apply();for(let v of Qt)Os(e=s,qa,Bo).call(e,v,[],[]);s.deactivate()}Qt=a}}ge=null,Ft=t}this.committed=!0,kr.delete(this)};ka=Hv;On=null;Go=new Set,ga=new Map,tc=!1;pl=!1;br=!1,Qn=!1;de=null,kn=!1;fe=null;cn=null;Dt=null,Zt=0,on=null;gc=1,Ra=0,La=Ra});function Pc(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function en(e){Ue===null&&Pc(),wa&&Ue.l!==null?cd(Ue).m.push(e):Rt(()=>{let t=Lt(e);if(typeof t=="function")return t})}function ms(e){Ue===null&&Pc(),en(()=>()=>Lt(e))}function cd(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}var gs=Oe(()=>{"use strict";Xe()});function ki(e,t=Rn){let n=null,a=new Set;function s(l){if(ti(e,l)&&(e=l,n)){let c=!ys.length;for(let v of a)v[1](),ys.push(v,e);if(c){for(let v=0;v<ys.length;v+=2)ys[v][0](ys[v+1]);ys.length=0}}}function r(l){s(l(e))}function i(l,c=Rn){let v=[l,c];return a.add(v),a.size===1&&(n=t(s,r)||Rn),l(e),()=>{a.delete(v),a.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:i}}function vd(e,t){return e==="/"||t==="ignore"?e:t==="never"?e.endsWith("/")?e.slice(0,-1):e:t==="always"&&!e.endsWith("/")?e+"/":e}function dd(e){return e.split("%25").map(decodeURI).join("%25")}function fd(e){for(let t in e)e[t]=decodeURIComponent(e[t]);return e}function vi({href:e}){return e.split("#")[0]}function pd(...e){let t=5381;for(let n of e)if(typeof n=="string"){let a=n.length;for(;a;)t=t*33^n.charCodeAt(--a)}else if(ArrayBuffer.isView(n)){let a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength),s=a.length;for(;s;)t=t*33^a[--s]}else throw new TypeError("value must be a string or TypedArray");return(t>>>0).toString(36)}function hd(e){let t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}function gd(e,t){let n=bi(e,t),a=document.querySelector(n);if(a!=null&&a.textContent){a.remove();let{body:s,...r}=JSON.parse(a.textContent),i=a.getAttribute("data-ttl");return i&&Qs.set(n,{body:s,init:r,ttl:1e3*Number(i)}),a.getAttribute("data-b64")!==null&&(s=hd(s)),Promise.resolve(new Response(s,r))}return window.fetch(e,t)}function yd(e,t,n){if(Qs.size>0){let a=bi(e,n),s=Qs.get(a);if(s){if(performance.now()<s.ttl&&["default","force-cache","only-if-cached",void 0].includes(n?.cache))return new Response(s.body,s.init);Qs.delete(a)}}return window.fetch(t,n)}function bi(e,t){let n=\`script[data-sveltekit-fetched][data-url=\${JSON.stringify(e instanceof Request?e.url:e)}]\`;if(t!=null&&t.headers||t!=null&&t.body){let a=[];t.headers&&a.push([...new Headers(t.headers)].join(",")),t.body&&(typeof t.body=="string"||ArrayBuffer.isView(t.body))&&a.push(t.body),n+=\`[data-hash="\${pd(...a)}"]\`}return n}function kd(e){let t=[];return{pattern:e==="/"?/^\\/\$/:new RegExp(\`^\${_d(e).map(n=>{let a=/^\\[\\.\\.\\.(\\w+)(?:=(\\w+))?\\]\$/.exec(n);if(a)return t.push({name:a[1],matcher:a[2],optional:!1,rest:!0,chained:!0}),"(?:/([^]*))?";let s=/^\\[\\[(\\w+)(?:=(\\w+))?\\]\\]\$/.exec(n);if(s)return t.push({name:s[1],matcher:s[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!n)return;let r=n.split(/\\[(.+?)\\](?!\\])/);return"/"+r.map((i,l)=>{if(l%2){if(i.startsWith("x+"))return di(String.fromCharCode(parseInt(i.slice(2),16)));if(i.startsWith("u+"))return di(String.fromCharCode(...i.slice(2).split("-").map(m=>parseInt(m,16))));let c=wd.exec(i),[,v,p,y,h]=c;return t.push({name:y,matcher:h,optional:!!v,rest:!!p,chained:p?l===1&&r[0]==="":!1}),p?"([^]*?)":v?"([^/]*)?":"([^/]+?)"}return di(i)}).join("")}).join("")}/?\$\`),params:t}}function bd(e){return e!==""&&!/^\\([^)]+\\)\$/.test(e)}function _d(e){return e.slice(1).split("/").filter(bd)}function Sd(e,t,n){let a={},s=e.slice(1),r=s.filter(l=>l!==void 0),i=0;for(let l=0;l<t.length;l+=1){let c=t[l],v=s[l-i];if(c.chained&&c.rest&&i&&(v=s.slice(l-i,l+1).filter(p=>p).join("/"),i=0),v===void 0){c.rest&&(a[c.name]="");continue}if(!c.matcher||n[c.matcher](v)){a[c.name]=v;let p=t[l+1],y=s[l+1];p&&!p.rest&&p.optional&&y&&c.chained&&(i=0),!p&&!y&&Object.keys(a).length===r.length&&(i=0);continue}if(c.optional&&c.chained){i++;continue}return}if(!i)return a}function di(e){return e.normalize().replace(/[[\\]]/g,"\\\\\$&").replace(/%/g,"%25").replace(/\\//g,"%2[Ff]").replace(/\\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^\${}()|\\\\]/g,"\\\\\$&")}function xd({nodes:e,server_loads:t,dictionary:n,matchers:a}){let s=new Set(t);return Object.entries(n).map(([l,[c,v,p]])=>{let{pattern:y,params:h}=kd(l),m={id:l,exec:w=>{let k=y.exec(w);if(k)return Sd(k,h,a)},errors:[1,...p||[]].map(w=>e[w]),layouts:[0,...v||[]].map(i),leaf:r(c)};return m.errors.length=m.layouts.length=Math.max(m.errors.length,m.layouts.length),m});function r(l){let c=l<0;return c&&(l=~l),[c,e[l]]}function i(l){return l===void 0?l:[s.has(l),e[l]]}}function Lc(e,t=JSON.parse){try{return t(sessionStorage[e])}catch{}}function \$c(e,t,n=JSON.stringify){let a=n(t);try{sessionStorage[e]=a}catch{}}function _i(e){if(e instanceof URL)return e;let t=document.baseURI;if(!t){let n=document.getElementsByTagName("base");t=n.length?n[0].href:document.URL}return new URL(e,t)}function ro(){return{x:pageXOffset,y:pageYOffset}}function ws(e,t){return e.getAttribute(\`data-sveltekit-\${t}\`)}function Fc(e){let t=e.assignedSlot??e.parentNode;return t?.nodeType===11&&(t=t.host),t}function Bc(e,t){for(;e&&e!==t;){if(e.nodeName.toUpperCase()==="A"&&e.hasAttribute("href"))return e;e=Fc(e)}}function hi(e,t,n){let a;try{if(a=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI),n&&a.hash.match(/^#[^/]/)){let l=location.hash.split("#")[1]||"/";a.hash=\`#\${l}\${a.hash}\`}}catch{}let s=e instanceof SVGAElement?e.target.baseVal:e.target,r=!a||!!s||oo(a,t,n)||(e.getAttribute("rel")||"").split(/\\s+/).includes("external"),i=a?.origin===so&&e.hasAttribute("download");return{url:a,external:r,target:s,download:i}}function Hr(e){let t=null,n=null,a=null,s=null,r=null,i=null,l=e;for(;l&&l!==document.documentElement;)a===null&&(a=ws(l,"preload-code")),s===null&&(s=ws(l,"preload-data")),t===null&&(t=ws(l,"keepfocus")),n===null&&(n=ws(l,"noscroll")),r===null&&(r=ws(l,"reload")),i===null&&(i=ws(l,"replacestate")),l=Fc(l);function c(v){switch(v){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:Ec[a??"off"],preload_data:Ec[s??"off"],keepfocus:c(t),noscroll:c(n),reload:c(r),replace_state:c(i)}}function Nc(e){let t=ki(e),n=!0;function a(){n=!0,t.update(i=>i)}function s(i){n=!1,t.set(i)}function r(i){let l;return t.subscribe(c=>{(l===void 0||n&&c!==l)&&i(l=c)})}return{notify:a,set:s,subscribe:r}}function Td(){let{set:e,subscribe:t}=ki(!1),n;async function a(){clearTimeout(n);try{let s=await fetch(\`\${Pd}/_app/version.json\`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!s.ok)return!1;let r=(await s.json()).version!==\$d;return r&&(e(!0),Vc.v(),clearTimeout(n)),r}catch{return!1}}return{subscribe:t,check:a}}function oo(e,t,n){return e.origin!==so||!e.pathname.startsWith(t)?!0:n?e.pathname!==location.pathname:!1}function Nd(e){return e.filter(t=>t!=null)}function Si(e){return e instanceof tr||e instanceof ar?e.status:500}function Id(e){return e instanceof ar?e.text:"Internal Error"}function Md(e){Object.assign(_t,e)}function xi(e){Za[e]=ro()}function qd(e,t){let n=e+1;for(;Za[n];)delete Za[n],n+=1;for(n=t+1;or[n];)delete or[n],n+=1}function ir(e,t=!1){return t?location.replace(e.href):location.href=e.href,new Promise(()=>{})}async function Gc(){if("serviceWorker"in navigator){let e=await navigator.serviceWorker.getRegistration(fn||"/");e&&await e.update()}}function Oc(){}function yi(){var e;(e=Ut?.fork)==null||e.then(t=>t?.discard()),Ut=null}async function Ci(e,t,n){var a,s,r,i,l;(a=globalThis.__sveltekit_cwkcz9)!=null&&a.data&&globalThis.__sveltekit_cwkcz9.data,document.URL!==location.href&&(location.href=location.href),ht=e,await((r=(s=e.hooks).init)==null?void 0:r.call(s)),Pi=xd(e),sa=document.documentElement,gi=t,mi=e.nodes[0],Xr=e.nodes[1],mi(),Xr(),Et=(i=history.state)==null?void 0:i[ks],dn=(l=history.state)==null?void 0:l[sr],Et||(Et=dn=Date.now(),history.replaceState({...history.state,[ks]:Et,[sr]:dn},""));let c=Za[Et];function v(){c&&(history.scrollRestoration="manual",scrollTo(c.x,c.y))}n?(v(),await Kd(gi,n)):(await bs({type:"enter",url:_i(ht.hash?Zd(new URL(location.href)):location.href),replace_state:!0}),v()),Yd()}function Rd(){Zr.length=0,\$i=!1}function Zc(e){Qr.some(t=>t?.snapshot)&&(or[e]=Qr.map(t=>{var n;return(n=t?.snapshot)==null?void 0:n.capture()}))}function Qc(e){var t;(t=or[e])==null||t.forEach((n,a)=>{var s,r;(r=(s=Qr[a])==null?void 0:s.snapshot)==null||r.restore(n)})}function Rc(){xi(Et),\$c(Wc,Za),Zc(dn),\$c(Uc,or)}async function eu(e,t,n,a){let s;t.invalidateAll&&yi(),await bs({type:"goto",url:_i(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:n,nav_token:a,accept:()=>{t.invalidateAll&&(\$i=!0,s=[...Ac.keys()]),t.invalidate&&t.invalidate.forEach(Gd)}}),t.invalidateAll&&aa().then(aa).then(()=>{Ac.forEach(({resource:r},i)=>{var l;s!=null&&s.includes(i)&&((l=r.refresh)==null||l.call(r))})})}async function zd(e){if(e.id!==Ut?.id){yi();let t={};to.add(t),Ut={id:e.id,token:t,promise:nu({...e,preload:t}).then(n=>(to.delete(t),n.type==="loaded"&&n.state.error&&yi(),n)),fork:null}}return Ut.promise}async function pi(e){var t;let n=(t=await io(e,!1))==null?void 0:t.route;n&&await Promise.all([...n.layouts,n.leaf].map(a=>a?.[1]()))}async function tu(e,t,n){var a;Be=e.state;let s=document.querySelector("style[data-sveltekit]");if(s&&s.remove(),Object.assign(_t,e.props.page),Xc=new ht.root({target:t,props:{...e.props,stores:Bn,components:Qr},hydrate:n,sync:!1}),await Promise.resolve(),Qc(dn),n){let r={from:null,to:{params:Be.params,route:{id:((a=Be.route)==null?void 0:a.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};er.forEach(i=>i(r))}eo=!0}function no({url:e,params:t,branch:n,status:a,error:s,route:r,form:i}){let l="never";if(fn&&(e.pathname===fn||e.pathname===fn+"/"))l="always";else for(let h of n)h?.slash!==void 0&&(l=h.slash);e.pathname=vd(e.pathname,l),e.search=e.search;let c={type:"loaded",state:{url:e,params:t,branch:n,error:s,route:r},props:{constructors:Nd(n).map(h=>h.node.component),page:ji(_t)}};i!==void 0&&(c.props.form=i);let v={},p=!_t,y=0;for(let h=0;h<Math.max(n.length,Be.branch.length);h+=1){let m=n[h],w=Be.branch[h];m?.data!==w?.data&&(p=!0),m&&(v={...v,...m.data},p&&(c.props[\`data_\${y}\`]=v),y+=1)}return(!Be.url||e.href!==Be.url.href||Be.error!==s||i!==void 0&&i!==_t.form||p)&&(c.props.page={error:s,params:t,route:{id:r?.id??null},state:{},status:a,url:new URL(e),form:i??null,data:p?v:_t.data}),c}async function Ti({loader:e,parent:t,url:n,params:a,route:s,server_data_node:r}){var i,l;let c=null,v={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},p=await e();return{node:p,loader:e,server:r,universal:(i=p.universal)!=null&&i.load?{type:"data",data:c,uses:v}:null,data:c??r?.data??null,slash:((l=p.universal)==null?void 0:l.trailingSlash)??r?.slash}}function Ld(e,t,n){let a=e instanceof Request?e.url:e,s=new URL(a,n);s.origin===n.origin&&(a=s.href.slice(n.origin.length));let r=eo?yd(a,s.href,t):gd(a,t);return{resolved:s,promise:r}}function Ud(e,t,n,a,s,r){if(\$i)return!0;if(!s)return!1;if(s.parent&&e||s.route&&t||s.url&&n)return!0;for(let i of s.search_params)if(a.has(i))return!0;for(let i of s.params)if(r[i]!==Be.params[i])return!0;for(let i of s.dependencies)if(Zr.some(l=>l(new URL(i))))return!0;return!1}function Ei(e,t){return e?.type==="data"?e:e?.type==="skip"?t??null:null}function Wd(e,t){if(!e)return new Set(t.searchParams.keys());let n=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(let a of n){let s=e.searchParams.getAll(a),r=t.searchParams.getAll(a);s.every(i=>r.includes(i))&&r.every(i=>s.includes(i))&&n.delete(a)}return n}function Dd({error:e,url:t,route:n,params:a}){return{type:"loaded",state:{error:e,url:t,route:n,params:a,branch:[]},props:{page:ji(_t),constructors:[]}}}async function nu({id:e,invalidating:t,url:n,params:a,route:s,preload:r}){if(Ut?.id===e)return to.delete(Ut.token),Ut.promise;let{errors:i,layouts:l,leaf:c}=s,v=[...l,c];i.forEach(C=>C?.().catch(()=>{})),v.forEach(C=>C?.[1]().catch(()=>{}));let p=Be.url?e!==ao(Be.url):!1,y=Be.route?s.id!==Be.route.id:!1,h=Wd(Be.url,n),m=!1,w=v.map(async(C,P)=>{var N;if(!C)return;let S=Be.branch[P];return C[1]===S?.loader&&!Ud(m,y,p,h,(N=S.universal)==null?void 0:N.uses,a)?S:(m=!0,Ti({loader:C[1],url:n,params:a,route:s,parent:async()=>{var I;let x={};for(let A=0;A<P;A+=1)Object.assign(x,(I=await w[A])==null?void 0:I.data);return x},server_data_node:Ei(C[0]?{type:"skip"}:null,C[0]?S?.server:void 0)}))});for(let C of w)C.catch(()=>{});let k=[];for(let C=0;C<v.length;C+=1)if(v[C])try{k.push(await w[C])}catch(P){if(P instanceof nr)return{type:"redirect",location:P.location};if(to.has(r))return Dd({error:await cr(P,{params:a,url:n,route:{id:s.id}}),url:n,params:a,route:s});let N=Si(P),S;if(P instanceof tr)S=P.body;else{if(await Bn.updated.check())return await Gc(),await ir(n);S=await cr(P,{params:a,url:n,route:{id:s.id}})}let I=await Fd(C,k,i);return I?no({url:n,params:a,branch:k.slice(0,I.idx).concat(I.node),status:N,error:S,route:s}):await su(n,{id:s.id},S,N)}else k.push(void 0);return no({url:n,params:a,branch:k,status:200,error:null,route:s,form:t?void 0:null})}async function Fd(e,t,n){for(;e--;)if(n[e]){let a=e;for(;!t[a];)a-=1;try{return{idx:a+1,node:{node:await n[e](),loader:n[e],data:{},server:null,universal:null}}}catch{continue}}}async function Ni({status:e,error:t,url:n,route:a}){let s={},r=null;try{let i=await Ti({loader:mi,url:n,params:s,route:a,parent:()=>Promise.resolve({}),server_data_node:Ei(r)}),l={node:await Xr(),loader:Xr,universal:null,server:null,data:null};return no({url:n,params:s,branch:[i,l],status:e,error:t,route:null})}catch(i){if(i instanceof nr)return eu(new URL(i.location,location.href),{},0);throw i}}async function Bd(e){let t=e.href;if(Kr.has(t))return Kr.get(t);let n;try{let a=(async()=>{let s=await ht.hooks.reroute({url:new URL(e),fetch:async(r,i)=>Ld(r,i,e).promise})??e;if(typeof s=="string"){let r=new URL(e);ht.hash?r.hash=s:r.pathname=s,s=r}return s})();Kr.set(t,a),n=await a}catch{Kr.delete(t);return}return n}async function io(e,t){if(e&&!oo(e,fn,ht.hash)){let n=await Bd(e);if(!n)return;let a=Vd(n);for(let s of Pi){let r=s.exec(a);if(r)return{id:ao(e),invalidating:t,route:s,params:fd(r),url:e}}}}function Vd(e){return dd(ht.hash?e.hash.replace(/^#/,"").replace(/[?#].+/,""):e.pathname.slice(fn.length))||"/"}function ao(e){return(ht.hash?e.hash.replace(/^#/,""):e.pathname)+e.search}function au({url:e,type:t,intent:n,delta:a,event:s}){let r=!1,i=Ii(Be,n,e,t);a!==void 0&&(i.navigation.delta=a),s!==void 0&&(i.navigation.event=s);let l={...i.navigation,cancel:()=>{r=!0,i.reject(new Error("navigation cancelled"))}};return lr||Yc.forEach(c=>c(l)),r?null:i}async function bs({type:e,url:t,popped:n,keepfocus:a,noscroll:s,replace_state:r,state:i={},redirect_count:l=0,nav_token:c={},accept:v=Oc,block:p=Oc,event:y}){var h;let m=Xa;Xa=c;let w=await io(t,!1),k=e==="enter"?Ii(Be,w,t,e):au({url:t,type:e,delta:n?.delta,intent:w,event:y});if(!k){p(),Xa===c&&(Xa=m);return}let C=Et,P=dn;v(),lr=!0,eo&&k.navigation.type!=="enter"&&Bn.navigating.set(rr.current=k.navigation);let N=w&&await nu(w);if(!N){if(oo(t,fn,ht.hash))return await ir(t,r);N=await su(t,{id:null},await cr(new ar(404,"Not Found",\`Not found: \${t.pathname}\`),{url:t,params:{},route:{id:null}}),404,r)}if(t=w?.url||t,Xa!==c)return k.reject(new Error("navigation aborted")),!1;if(N.type==="redirect"){if(l<20){await bs({type:e,url:new URL(N.location,t),popped:n,keepfocus:a,noscroll:s,replace_state:r,state:i,redirect_count:l+1,nav_token:c}),k.fulfil(void 0);return}N=await Ni({status:500,error:await cr(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}})}else N.props.page.status>=400&&await Bn.updated.check()&&(await Gc(),await ir(t,r));if(Rd(),xi(C),Zc(P),N.props.page.url.pathname!==t.pathname&&(t.pathname=N.props.page.url.pathname),i=n?n.state:i,!n){let z=r?0:1,b={[ks]:Et+=z,[sr]:dn+=z,[Dc]:i};(r?history.replaceState:history.pushState).call(history,b,"",t),r||qd(Et,dn)}let S=w&&Ut?.id===w.id?Ut.fork:null;Ut=null,N.props.page.state=i;let I;if(eo){let z=(await Promise.all(Array.from(Ad,E=>E(k.navigation)))).filter(E=>typeof E=="function");if(z.length>0){let E=function(){z.forEach(D=>{er.delete(D)})};z.push(E),z.forEach(D=>{er.add(D)})}Be=N.state,N.props.page&&(N.props.page.url=t);let b=S&&await S;b?I=b.commit():(Xc.\$set(N.props),Md(N.props.page),I=(h=bc)==null?void 0:h()),Hc=!0}else await tu(N,gi,!1);let{activeElement:x}=document;await I,await aa(),await aa();let A=n?n.scroll:s?ro():null;if(qc){let z=t.hash&&document.getElementById(ru(t));if(A)scrollTo(A.x,A.y);else if(z){z.scrollIntoView();let{top:b,left:E}=z.getBoundingClientRect();A={x:pageXOffset+E,y:pageYOffset+b}}else scrollTo(0,0)}let F=document.activeElement!==x&&document.activeElement!==document.body;!a&&!F&&Xd(t,A),qc=!0,N.props.page&&Object.assign(_t,N.props.page),lr=!1,e==="popstate"&&Qc(dn),k.fulfil(void 0),er.forEach(z=>z(k.navigation)),Bn.navigating.set(rr.current=null)}async function su(e,t,n,a,s){return e.origin===so&&e.pathname===location.pathname&&!Kc?await Ni({status:a,error:n,url:e,route:t}):await ir(e,s)}function Jd(){let e,t={element:void 0,href:void 0},n;sa.addEventListener("mousemove",l=>{let c=l.target;clearTimeout(e),e=setTimeout(()=>{r(c,Ha.hover)},20)});function a(l){l.defaultPrevented||r(l.composedPath()[0],Ha.tap)}sa.addEventListener("mousedown",a),sa.addEventListener("touchstart",a,{passive:!0});let s=new IntersectionObserver(l=>{for(let c of l)c.isIntersecting&&(pi(new URL(c.target.href)),s.unobserve(c.target))},{threshold:0});async function r(l,c){let v=Bc(l,sa),p=v===t.element&&v?.href===t.href&&c>=n;if(!v||p)return;let{url:y,external:h,download:m}=hi(v,fn,ht.hash);if(h||m)return;let w=Hr(v),k=y&&ao(Be.url)===ao(y);if(!(w.reload||k))if(c<=w.preload_data){t={element:v,href:v.href},n=Ha.tap;let C=await io(y,!1);if(!C)return;zd(C)}else c<=w.preload_code&&(t={element:v,href:v.href},n=c,pi(y))}function i(){s.disconnect();for(let l of sa.querySelectorAll("a")){let{url:c,external:v,download:p}=hi(l,fn,ht.hash);if(v||p)continue;let y=Hr(l);y.reload||(y.preload_code===Ha.viewport&&s.observe(l),y.preload_code===Ha.eager&&pi(c))}}er.add(i),i()}function cr(e,t){if(e instanceof tr)return e.body;let n=Si(e),a=Id(e);return ht.hooks.handleError({error:e,event:t,status:n,message:a})??{message:a}}function lo(e,t={}){return e=new URL(_i(e)),e.origin!==so?Promise.reject(new Error("goto: invalid URL")):eu(e,t,0)}function Gd(e){if(typeof e=="function")Zr.push(e);else{let{href:t}=new URL(e,location.href);Zr.push(n=>n.href===t)}}function Yd(){var e;history.scrollRestoration="manual",addEventListener("beforeunload",n=>{let a=!1;if(Rc(),!lr){let s=Ii(Be,void 0,null,"leave"),r={...s.navigation,cancel:()=>{a=!0,s.reject(new Error("navigation cancelled"))}};Yc.forEach(i=>i(r))}a?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Rc()}),(e=navigator.connection)!=null&&e.saveData||Jd(),sa.addEventListener("click",async n=>{if(n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;let a=Bc(n.composedPath()[0],sa);if(!a)return;let{url:s,external:r,target:i,download:l}=hi(a,fn,ht.hash);if(!s)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;let c=Hr(a);if(!(a instanceof SVGAElement)&&s.protocol!==location.protocol&&!(s.protocol==="https:"||s.protocol==="http:")||l)return;let[v,p]=(ht.hash?s.hash.replace(/^#/,""):s.href).split("#"),y=v===vi(location);if(r||c.reload&&(!y||!p)){au({url:s,type:"link",event:n})?lr=!0:n.preventDefault();return}if(p!==void 0&&y){let[,h]=Be.url.href.split("#");if(h===p){if(n.preventDefault(),p===""||p==="top"&&a.ownerDocument.getElementById("top")===null)scrollTo({top:0});else{let m=a.ownerDocument.getElementById(decodeURIComponent(p));m&&(m.scrollIntoView(),m.focus())}return}if(Zs=!0,xi(Et),t(s),!c.replace_state)return;Zs=!1}n.preventDefault(),await new Promise(h=>{requestAnimationFrame(()=>{setTimeout(h,0)}),setTimeout(h,100)}),await bs({type:"link",url:s,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??s.href===location.href,event:n})}),sa.addEventListener("submit",n=>{if(n.defaultPrevented)return;let a=HTMLFormElement.prototype.cloneNode.call(n.target),s=n.submitter;if((s?.formTarget||a.target)==="_blank"||(s?.formMethod||a.method)!=="get")return;let r=new URL(s?.hasAttribute("formaction")&&s?.formAction||a.action);if(oo(r,fn,!1))return;let i=n.target,l=Hr(i);if(l.reload)return;n.preventDefault(),n.stopPropagation();let c=new FormData(i,s);r.search=new URLSearchParams(c).toString(),bs({type:"form",url:r,keepfocus:l.keepfocus,noscroll:l.noscroll,replace_state:l.replace_state??r.href===location.href,event:n})}),addEventListener("popstate",async n=>{var a;if(!wi){if((a=n.state)!=null&&a[ks]){let s=n.state[ks];if(Xa={},s===Et)return;let r=Za[s],i=n.state[Dc]??{},l=new URL(n.state[Cd]??location.href),c=n.state[sr],v=Be.url?vi(location)===vi(Be.url):!1;if(c===dn&&(Hc||v)){i!==_t.state&&(_t.state=i),t(l),Za[Et]=ro(),r&&scrollTo(r.x,r.y),Et=s;return}let p=s-Et;await bs({type:"popstate",url:l,popped:{state:i,scroll:r,delta:p},accept:()=>{Et=s,dn=c},block:()=>{history.go(-p)},nav_token:Xa,event:n})}else if(!Zs){let s=new URL(location.href);t(s),ht.hash&&location.reload()}}}),addEventListener("hashchange",()=>{Zs&&(Zs=!1,history.replaceState({...history.state,[ks]:++Et,[sr]:dn},"",location.href))});for(let n of document.querySelectorAll("link"))Od.has(n.rel)&&(n.href=n.href);addEventListener("pageshow",n=>{n.persisted&&Bn.navigating.set(rr.current=null)});function t(n){Be.url=_t.url=n,Bn.page.set(ji(_t)),Bn.page.notify()}}async function Kd(e,{status:t=200,error:n,node_ids:a,params:s,route:r,server_route:i,data:l,form:c}){Kc=!0;let v=new URL(location.href),p;({params:s={},route:r={id:null}}=await io(v,!1)||{}),p=Pi.find(({id:m})=>m===r.id);let y,h=!0;try{let m=a.map(async(k,C)=>{let P=l[C];return P!=null&&P.uses&&(P.uses=Hd(P.uses)),Ti({loader:ht.nodes[k],url:v,params:s,route:r,parent:async()=>{let N={};for(let S=0;S<C;S+=1)Object.assign(N,(await m[S]).data);return N},server_data_node:Ei(P)})}),w=await Promise.all(m);if(p){let k=p.layouts;for(let C=0;C<k.length;C++)k[C]||w.splice(C,0,void 0)}y=no({url:v,params:s,branch:w,status:t,error:n,form:c,route:p??null})}catch(m){if(m instanceof nr){await ir(new URL(m.location,location.href));return}y=await Ni({status:Si(m),error:await cr(m,{url:v,params:s,route:r}),url:v,route:r}),e.textContent="",h=!1}y.props.page&&(y.props.page.state={}),await tu(y,e,h)}function Hd(e){return{dependencies:new Set(e?.dependencies??[]),params:new Set(e?.params??[]),parent:!!(e!=null&&e.parent),route:!!(e!=null&&e.route),url:!!(e!=null&&e.url),search_params:new Set(e?.search_params??[])}}function Xd(e,t=null){let n=document.querySelector("[autofocus]");if(n)n.focus();else{let a=ru(e);if(a&&document.getElementById(a)){let{x:r,y:i}=t??ro();setTimeout(()=>{let l=history.state;wi=!0,location.replace(\`#\${a}\`),ht.hash&&location.replace(e.hash),history.replaceState(l,"",e.hash),scrollTo(r,i),wi=!1})}else{let r=document.body,i=r.getAttribute("tabindex");r.tabIndex=-1,r.focus({preventScroll:!0,focusVisible:!1}),i!==null?r.setAttribute("tabindex",i):r.removeAttribute("tabindex")}let s=getSelection();if(s&&s.type!=="None"){let r=[];for(let i=0;i<s.rangeCount;i+=1)r.push(s.getRangeAt(i));setTimeout(()=>{if(s.rangeCount===r.length){for(let i=0;i<s.rangeCount;i+=1){let l=r[i],c=s.getRangeAt(i);if(l.commonAncestorContainer!==c.commonAncestorContainer||l.startContainer!==c.startContainer||l.endContainer!==c.endContainer||l.startOffset!==c.startOffset||l.endOffset!==c.endOffset)return}s.removeAllRanges()}})}}}function Ii(e,t,n,a){var s,r;let i,l,c=new Promise((v,p)=>{i=v,l=p});return c.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:((s=e.route)==null?void 0:s.id)??null},url:e.url},to:n&&{params:t?.params??null,route:{id:((r=t?.route)==null?void 0:r.id)??null},url:n},willUnload:!t,type:a,complete:c},fulfil:i,reject:l}}function ji(e){return{data:e.data,error:e.error,form:e.form,params:e.params,route:e.route,state:e.state,status:e.status,url:e.url}}function Zd(e){let t=new URL(e);return t.hash=decodeURIComponent(e.hash),t}function ru(e){let t;if(ht.hash){let[,,n]=e.hash.split("#",3);t=n??""}else t=e.hash.slice(1);return decodeURIComponent(t)}var zc,ud,st,Fn,ys,tr,nr,ar,md,Qs,wd,Cc,fn,Tc,Pd,\$d,Uc,Wc,Dc,Cd,ks,sr,Ha,so,Ec,Vc,Jc,Ed,_t,rr,fi,jd,Lr,Ur,Wr,Dr,Fr,Br,Vr,Jr,Ic,Gr,jc,Yr,Mc,Od,Za,or,Bn,Pi,mi,Xr,sa,gi,ht,Zr,Qr,Ut,Kr,Yc,Ad,er,Be,Kc,eo,qc,lr,Zs,Hc,\$i,Xc,Et,dn,Xa,to,Ac,wi,co=Oe(()=>{"use strict";Xe();gs();zc=e=>{throw TypeError(e)},ud=(e,t,n)=>t.has(e)||zc("Cannot "+n),st=(e,t,n)=>(ud(e,t,"read from private field"),n?n.call(e):t.get(e)),Fn=(e,t,n)=>t.has(e)?zc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ys=[];tr=class{constructor(t,n){this.status=t,typeof n=="string"?this.body={message:n}:n?this.body=n:this.body={message:\`Error: \${t}\`}}toString(){return JSON.stringify(this.body)}},nr=class{constructor(t,n){this.status=t,this.location=n}},ar=class extends Error{constructor(t,n,a){super(a),this.status=t,this.text=n}};new URL("sveltekit-internal://");new TextEncoder;new TextDecoder;md=window.fetch;window.fetch=(e,t)=>((e instanceof Request?e.method:t?.method||"GET")!=="GET"&&Qs.delete(bi(e)),md(e,t));Qs=new Map;wd=/^(\\[)?(\\.\\.\\.)?(\\w+)(?:=(\\w+))?(\\])?\$/;fn=((Cc=globalThis.__sveltekit_cwkcz9)==null?void 0:Cc.base)??"",Pd=((Tc=globalThis.__sveltekit_cwkcz9)==null?void 0:Tc.assets)??fn??"",\$d="1769766284819",Uc="sveltekit:snapshot",Wc="sveltekit:scroll",Dc="sveltekit:states",Cd="sveltekit:pageurl",ks="sveltekit:history",sr="sveltekit:navigation",Ha={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},so=location.origin;Ec={...Ha,"":Ha.hover};Vc={v:()=>{}};Jc=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...Jc];Ed=new Set([...Jc]);[...Ed];jd=en.toString().includes("\$\$")||/function \\w+\\(\\) \\{\\}/.test(en.toString());jd?(_t={data:{},form:null,error:null,params:{},route:{id:null},state:{},status:-1,url:new URL("https://example.com")},rr={current:null},fi={current:!1}):(_t=new(Ic=class{constructor(){Fn(this,Lr,T({})),Fn(this,Ur,T(null)),Fn(this,Wr,T(null)),Fn(this,Dr,T({})),Fn(this,Fr,T({id:null})),Fn(this,Br,T({})),Fn(this,Vr,T(-1)),Fn(this,Jr,T(new URL("https://example.com")))}get data(){return o(st(this,Lr))}set data(e){u(st(this,Lr),e)}get form(){return o(st(this,Ur))}set form(e){u(st(this,Ur),e)}get error(){return o(st(this,Wr))}set error(e){u(st(this,Wr),e)}get params(){return o(st(this,Dr))}set params(e){u(st(this,Dr),e)}get route(){return o(st(this,Fr))}set route(e){u(st(this,Fr),e)}get state(){return o(st(this,Br))}set state(e){u(st(this,Br),e)}get status(){return o(st(this,Vr))}set status(e){u(st(this,Vr),e)}get url(){return o(st(this,Jr))}set url(e){u(st(this,Jr),e)}},Lr=new WeakMap,Ur=new WeakMap,Wr=new WeakMap,Dr=new WeakMap,Fr=new WeakMap,Br=new WeakMap,Vr=new WeakMap,Jr=new WeakMap,Ic),rr=new(jc=class{constructor(){Fn(this,Gr,T(null))}get current(){return o(st(this,Gr))}set current(e){u(st(this,Gr),e)}},Gr=new WeakMap,jc),fi=new(Mc=class{constructor(){Fn(this,Yr,T(!1))}get current(){return o(st(this,Yr))}set current(e){u(st(this,Yr),e)}},Yr=new WeakMap,Mc),Vc.v=()=>fi.current=!0);Od=new Set(["icon","shortcut icon","apple-touch-icon"]),Za=Lc(Wc)??{},or=Lc(Uc)??{},Bn={url:Nc({}),page:Nc({}),navigating:ki(null),updated:Td()};Zr=[],Qr=[],Ut=null;Kr=new Map,Yc=new Set,Ad=new Set,er=new Set,Be={branch:[],error:null,url:null},Kc=!1,eo=!1,qc=!0,lr=!1,Zs=!1,Hc=!1,\$i=!1,to=new Set,Ac=new Map;wi=!1});function nf(e){let t=0,n=na(0),a;return()=>{Ar()&&(o(n),hs(()=>(t===0&&(a=Lt(()=>e(()=>vs(n)))),t+=1,()=>{Tt(()=>{t-=1,t===0&&(a?.(),a=void 0,vs(n))})})))}}function sf(e,t,n){new Ai(e,t,n)}function of(e){return rf.includes(e)}function lf(e,t,n,a={}){function s(r){if(a.capture||vr.call(t,r),!r.cancelBubble)return ba(()=>n?.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Tt(()=>{t.addEventListener(e,s,a)}):t.addEventListener(e,s,a),s}function xn(e,t,n,a,s){var r={capture:a,passive:s},i=lf(e,t,n,r);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ui(()=>{t.removeEventListener(e,i,r)})}function mt(e){for(var t=0;t<e.length;t++)du.add(e[t]);for(var n of Ri)n(e)}function vr(e){var t,n=this,a=n.ownerDocument,s=e.type,r=((t=e.composedPath)==null?void 0:t.call(e))||[],i=r[0]||e.target;iu=e;var l=0,c=iu===e&&e.__root;if(c){var v=r.indexOf(c);if(v!==-1&&(n===document||n===window)){e.__root=n;return}var p=r.indexOf(n);if(p===-1)return;v<=p&&(l=v)}if(i=r[l]||e.target,i!==n){Pr(e,"currentTarget",{configurable:!0,get(){return i||a}});var y=de,h=fe;Ot(null),bn(null);try{for(var m,w=[];i!==null;){var k=i.assignedSlot||i.parentNode||i.host||null;try{var C=i["__"+s];C!=null&&(!i.disabled||e.target===i)&&C.call(i,e)}catch(P){m?w.push(P):m=P}if(e.cancelBubble||k===n||k===null)break;i=k}if(m){for(let P of w)queueMicrotask(()=>{throw P});throw m}}finally{e.__root=n,delete e.currentTarget,Ot(y),bn(h)}}}function cf(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function xa(e,t){var n=fe;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function \$(e,t){var n=(t&Ll)!==0,a=(t&Ul)!==0,s,r=!e.startsWith("<!>");return()=>{if(ne)return xa(ve,null),ve;s===void 0&&(s=cf(r?e:"<!>"+e),n||(s=un(s)));var i=a||li?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=un(i),c=i.lastChild;xa(l,c)}else xa(i,i);return i}}function pr(e=""){if(!ne){var t=vt(e+"");return xa(t,t),t}var n=ve;return n.nodeType!==Bs&&(n.before(n=vt()),He(n)),xa(n,n),n}function Ce(){if(ne)return xa(ve,null),ve;var e=document.createDocumentFragment(),t=document.createComment(""),n=vt();return e.append(t,n),xa(t,n),e}function _(e,t){if(ne){var n=fe;(!(n.f&Ba)||n.nodes.end===null)&&(n.nodes.end=ve),ta();return}e!==null&&e.before(t)}function M(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ui(e,t){return pu(e,t)}function fu(e,t){Or(),t.intro=t.intro??!1;let n=t.target,a=ne,s=ve;try{for(var r=un(n);r&&(r.nodeType!==Un||r.data!==ei);)r=At(r);if(!r)throw Ga;qt(!0),He(r);let i=pu(e,{...t,anchor:r});return qt(!1),i}catch(i){if(i instanceof Error&&i.message.split(\`
\`).some(l=>l.startsWith("https://svelte.dev/e/")))throw i;return i!==Ga&&console.warn("Failed to hydrate: ",i),t.recover===!1&&xl(),Or(),Ks(n),qt(!1),Ui(e,t)}finally{qt(a),He(s)}}function pu(e,{target:t,anchor:n,props:a={},events:s,context:r,intro:i=!0}){Or();var l=new Set,c=y=>{for(var h=0;h<y.length;h++){var m=y[h];if(!l.has(m)){l.add(m);var w=of(m);t.addEventListener(m,vr,{passive:w});var k=_s.get(m);k===void 0?(document.addEventListener(m,vr,{passive:w}),_s.set(m,1)):_s.set(m,k+1)}}};c(fs(du)),Ri.add(c);var v=void 0,p=uc(()=>{var y=n??t.appendChild(vt());return sf(y,{pending:()=>{}},h=>{if(r){Ae({});var m=Ue;m.c=r}if(s&&(a.\$\$events=s),ne&&xa(h,null),po=i,v=e(h,a)||{},po=!0,ne&&(fe.nodes.end=ve,ve===null||ve.nodeType!==Un||ve.data!==Vs))throw Js(),Ga;r&&Re()}),()=>{var h;for(var m of l){t.removeEventListener(m,vr);var w=_s.get(m);--w===0?(document.removeEventListener(m,vr),_s.delete(m)):_s.set(m,w)}Ri.delete(c),y!==n&&((h=y.parentNode)==null||h.removeChild(y))}});return zi.set(v,p),v}function hu(e,t){let n=zi.get(e);return n?(zi.delete(e),n(t)):Promise.resolve()}var ef,cu,tf,ou,Li,W,dt,\$e,pn,af,hn,uo,oa,xs,ia,Sn,tn,ra,_a,es,Qa,la,ur,Ss,dr,fr,Sa,Mi,Jt,uu,vu,Oi,vo,fo,qi,Ai,rf,du,Ri,iu,po,_s,zi,uf,lu,Wt=Oe(()=>{"use strict";Xe();ef=Object.defineProperty,cu=e=>{throw TypeError(e)},tf=(e,t,n)=>t in e?ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ou=(e,t,n)=>tf(e,typeof t!="symbol"?t+"":t,n),Li=(e,t,n)=>t.has(e)||cu("Cannot "+n),W=(e,t,n)=>(Li(e,t,"read from private field"),n?n.call(e):t.get(e)),dt=(e,t,n)=>t.has(e)?cu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),\$e=(e,t,n,a)=>(Li(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),pn=(e,t,n)=>(Li(e,t,"access private method"),n);af=Vt|Va|Tr;Ai=class{constructor(t,n,a){dt(this,Jt),ou(this,"parent"),ou(this,"is_pending",!1),dt(this,hn),dt(this,uo,ne?ve:null),dt(this,oa),dt(this,xs),dt(this,ia),dt(this,Sn,null),dt(this,tn,null),dt(this,ra,null),dt(this,_a,null),dt(this,es,null),dt(this,Qa,0),dt(this,la,0),dt(this,ur,!1),dt(this,Ss,!1),dt(this,dr,new Set),dt(this,fr,new Set),dt(this,Sa,null),dt(this,Mi,nf(()=>(\$e(this,Sa,na(W(this,Qa))),()=>{\$e(this,Sa,null)}))),\$e(this,hn,t),\$e(this,oa,n),\$e(this,xs,a),this.parent=fe.b,this.is_pending=!!W(this,oa).pending,\$e(this,ia,vn(()=>{if(fe.b=this,ne){let r=W(this,uo);ta(),r.nodeType===Un&&r.data===Ja?pn(this,Jt,vu).call(this):(pn(this,Jt,uu).call(this),W(this,la)===0&&(this.is_pending=!1))}else{var s=pn(this,Jt,Oi).call(this);try{\$e(this,Sn,zt(()=>a(s)))}catch(r){this.error(r)}W(this,la)>0?pn(this,Jt,fo).call(this):this.is_pending=!1}return()=>{var r;(r=W(this,es))==null||r.remove()}},af)),ne&&\$e(this,hn,ve)}defer_effect(t){si(t,W(this,dr),W(this,fr))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!W(this,oa).pending}update_pending_count(t){pn(this,Jt,qi).call(this,t),\$e(this,Qa,W(this,Qa)+t),!(!W(this,Sa)||W(this,ur))&&(\$e(this,ur,!0),Tt(()=>{\$e(this,ur,!1),W(this,Sa)&&ya(W(this,Sa),W(this,Qa))}))}get_effect_pending(){return W(this,Mi).call(this),o(W(this,Sa))}error(t){var n=W(this,oa).onerror;let a=W(this,oa).failed;if(W(this,Ss)||!n&&!a)throw t;W(this,Sn)&&(bt(W(this,Sn)),\$e(this,Sn,null)),W(this,tn)&&(bt(W(this,tn)),\$e(this,tn,null)),W(this,ra)&&(bt(W(this,ra)),\$e(this,ra,null)),ne&&(He(W(this,uo)),at(),He(Ya()));var s=!1,r=!1;let i=()=>{if(s){Dl();return}s=!0,r&&\$l(),ka.ensure(),\$e(this,Qa,0),W(this,ra)!==null&&Dn(W(this,ra),()=>{\$e(this,ra,null)}),this.is_pending=this.has_pending_snippet(),\$e(this,Sn,pn(this,Jt,vo).call(this,()=>(\$e(this,Ss,!1),zt(()=>W(this,xs).call(this,W(this,hn)))))),W(this,la)>0?pn(this,Jt,fo).call(this):this.is_pending=!1};var l=de;try{Ot(null),r=!0,n?.(t,i),r=!1}catch(c){Da(c,W(this,ia)&&W(this,ia).parent)}finally{Ot(l)}a&&Tt(()=>{\$e(this,ra,pn(this,Jt,vo).call(this,()=>{ka.ensure(),\$e(this,Ss,!0);try{return zt(()=>{a(W(this,hn),()=>t,()=>i)})}catch(c){return Da(c,W(this,ia).parent),null}finally{\$e(this,Ss,!1)}}))})}};hn=new WeakMap,uo=new WeakMap,oa=new WeakMap,xs=new WeakMap,ia=new WeakMap,Sn=new WeakMap,tn=new WeakMap,ra=new WeakMap,_a=new WeakMap,es=new WeakMap,Qa=new WeakMap,la=new WeakMap,ur=new WeakMap,Ss=new WeakMap,dr=new WeakMap,fr=new WeakMap,Sa=new WeakMap,Mi=new WeakMap,Jt=new WeakSet,uu=function(){try{\$e(this,Sn,zt(()=>W(this,xs).call(this,W(this,hn))))}catch(e){this.error(e)}},vu=function(){let e=W(this,oa).pending;e&&(\$e(this,tn,zt(()=>e(W(this,hn)))),Tt(()=>{var t=pn(this,Jt,Oi).call(this);\$e(this,Sn,pn(this,Jt,vo).call(this,()=>(ka.ensure(),zt(()=>W(this,xs).call(this,t))))),W(this,la)>0?pn(this,Jt,fo).call(this):(Dn(W(this,tn),()=>{\$e(this,tn,null)}),this.is_pending=!1)}))},Oi=function(){var e=W(this,hn);return this.is_pending&&(\$e(this,es,vt()),W(this,hn).before(W(this,es)),e=W(this,es)),e},vo=function(e){var t=fe,n=de,a=Ue;bn(W(this,ia)),Ot(W(this,ia)),Wa(W(this,ia).ctx);try{return e()}catch(s){return ni(s),null}finally{bn(t),Ot(n),Wa(a)}},fo=function(){let e=W(this,oa).pending;W(this,Sn)!==null&&(\$e(this,_a,document.createDocumentFragment()),W(this,_a).append(W(this,es)),zr(W(this,Sn),W(this,_a))),W(this,tn)===null&&\$e(this,tn,zt(()=>e(W(this,hn))))},qi=function(e){var t;if(!this.has_pending_snippet()){this.parent&&pn(t=this.parent,Jt,qi).call(t,e);return}if(\$e(this,la,W(this,la)+e),W(this,la)===0){this.is_pending=!1;for(let n of W(this,dr))ut(n,Mt),An(n);for(let n of W(this,fr))ut(n,zn),An(n);W(this,dr).clear(),W(this,fr).clear(),W(this,tn)&&Dn(W(this,tn),()=>{\$e(this,tn,null)}),W(this,_a)&&(W(this,hn).before(W(this,_a)),\$e(this,_a,null))}};rf=["touchstart","touchmove"];du=new Set,Ri=new Set;iu=null;po=!0;_s=new Map;zi=new WeakMap;uf="5";typeof window<"u"&&((lu=window.__svelte??(window.__svelte={})).v??(lu.v=new Set)).add(uf)});var vf,mu,df,ff,gu,ke,ts,pf,Vn,ca,mn,Ps,ho,mo,Wi,Pa,go=Oe(()=>{"use strict";Xe();vf=Object.defineProperty,mu=e=>{throw TypeError(e)},df=(e,t,n)=>t in e?vf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ff=(e,t,n)=>df(e,typeof t!="symbol"?t+"":t,n),gu=(e,t,n)=>t.has(e)||mu("Cannot "+n),ke=(e,t,n)=>(gu(e,t,"read from private field"),n?n.call(e):t.get(e)),ts=(e,t,n)=>t.has(e)?mu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),pf=(e,t,n,a)=>(gu(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),Pa=class{constructor(t,n=!0){ff(this,"anchor"),ts(this,Vn,new Map),ts(this,ca,new Map),ts(this,mn,new Map),ts(this,Ps,new Set),ts(this,ho,!0),ts(this,mo,()=>{var a=ge;if(ke(this,Vn).has(a)){var s=ke(this,Vn).get(a),r=ke(this,ca).get(s);if(r)Hs(r),ke(this,Ps).delete(s);else{var i=ke(this,mn).get(s);i&&(ke(this,ca).set(s,i.effect),ke(this,mn).delete(s),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(let[l,c]of ke(this,Vn)){if(ke(this,Vn).delete(l),l===a)break;let v=ke(this,mn).get(c);v&&(bt(v.effect),ke(this,mn).delete(c))}for(let[l,c]of ke(this,ca)){if(l===s||ke(this,Ps).has(l))continue;let v=()=>{if(Array.from(ke(this,Vn).values()).includes(l)){var p=document.createDocumentFragment();zr(c,p),p.append(vt()),ke(this,mn).set(l,{effect:c,fragment:p})}else bt(c);ke(this,Ps).delete(l),ke(this,ca).delete(l)};ke(this,ho)||!r?(ke(this,Ps).add(l),Dn(c,v,!1)):v()}}}),ts(this,Wi,a=>{ke(this,Vn).delete(a);let s=Array.from(ke(this,Vn).values());for(let[r,i]of ke(this,mn))s.includes(r)||(bt(i.effect),ke(this,mn).delete(r))}),this.anchor=t,pf(this,ho,n)}ensure(t,n){var a=ge,s=qr();if(n&&!ke(this,ca).has(t)&&!ke(this,mn).has(t))if(s){var r=document.createDocumentFragment(),i=vt();r.append(i),ke(this,mn).set(t,{effect:zt(()=>n(i)),fragment:r})}else ke(this,ca).set(t,zt(()=>n(this.anchor)));if(ke(this,Vn).set(a,t),s){for(let[l,c]of ke(this,ca))l===t?a.skipped_effects.delete(c):a.skipped_effects.add(c);for(let[l,c]of ke(this,mn))l===t?a.skipped_effects.delete(c.effect):a.skipped_effects.add(c.effect);a.oncommit(ke(this,mo)),a.ondiscard(ke(this,Wi))}else ne&&(this.anchor=ve),ke(this,mo).call(this)}};Vn=new WeakMap,ca=new WeakMap,mn=new WeakMap,Ps=new WeakMap,ho=new WeakMap,mo=new WeakMap,Wi=new WeakMap});function O(e,t,n=!1){ne&&ta();var a=new Pa(e),s=n?Vt:0;function r(i,l){if(ne){let v=Ir(e)===Ja;if(i===v){var c=Ya();He(c),a.anchor=c,qt(!1),a.ensure(i,l),qt(!0);return}}a.ensure(i,l)}vn(()=>{var i=!1;t((l,c=!0)=>{i=!0,r(c,l)}),i||r(!1,null)},s)}var ns=Oe(()=>{"use strict";Xe();go()});function yu(e,t){return e===t||e?.[Zn]===t}function \$s(e={},t,n,a){return ps(()=>{var s,r;return hs(()=>{s=r,r=[],Lt(()=>{e!==n(...r)&&(t(e,...r),s&&yu(n(...s),e)&&t(null,...s))})}),()=>{Tt(()=>{r&&yu(n(...r),e)&&t(null,...r)})}}),e}var Di=Oe(()=>{"use strict";Xe()});function hf(e){var t=yo;try{return yo=!1,[e(),yo]}finally{yo=t}}function Nt(e,t,n,a){var s,r=!wa||(n&jl)!==0,i=(n&Ol)!==0,l=(n&ql)!==0,c=a,v=!0,p=()=>(v&&(v=!1,c=l?Lt(a):a),c),y;if(i){var h=Zn in e||Nr in e;y=((s=za(e,t))==null?void 0:s.set)??(h&&t in e?I=>e[t]=I:void 0)}var m,w=!1;i?[m,w]=hf(()=>e[t]):m=e[t],m===void 0&&a!==void 0&&(m=p(),y&&(r&&Pl(),y(m)));var k;if(r?k=()=>{var I=e[t];return I===void 0?p():(v=!0,I)}:k=()=>{var I=e[t];return I!==void 0&&(c=void 0),I===void 0?c:I},r&&(n&Ml)===0)return k;if(y){var C=e.\$\$legacy;return function(I,x){return arguments.length>0?((!r||!x||C||w)&&y(x?k():I),I):k()}}var P=!1,N=(n&Il?Ka:Ys)(()=>(P=!1,k()));i&&o(N);var S=fe;return function(I,x){if(arguments.length>0){let A=x?o(N):r&&i?Pe(I):I;return u(N,A),P=!0,c!==void 0&&(c=A),I}return Qn&&P||S.f&qn?N.v:o(N)}}var yo,wo=Oe(()=>{"use strict";Xe();yo=!1});var gn=Oe(()=>{"use strict";Xe();Vl()});function Ca(e,t){return t}function mf(e,t,n){for(var a=[],s=t.length,r,i=t.length,l=0;l<s;l++){let y=t[l];Dn(y,()=>{if(r){if(r.pending.delete(y),r.done.add(y),r.pending.size===0){var h=e.outrogroups;Fi(fs(r.done)),h.delete(r),h.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var c=a.length===0&&n!==null;if(c){var v=n,p=v.parentNode;Ks(p),p.append(v),e.items.clear()}Fi(t,!c)}else r={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(r)}function Fi(e,t=!0){for(var n=0;n<e.length;n++)bt(e[n],t)}function rt(e,t,n,a,s,r=null){var i=e,l=new Map,c=(t&Qo)!==0;if(c){var v=e;i=ne?He(un(v)):v.appendChild(vt())}ne&&ta();var p=null,y=Ys(()=>{var P=n();return Ho(P)?P:P==null?[]:fs(P)}),h,m=!0;function w(){C.fallback=p,gf(C,h,i,t,a),p!==null&&(h.length===0?p.f&Ln?(p.f^=Ln,hr(p,null,i)):Hs(p):Dn(p,()=>{p=null}))}var k=vn(()=>{h=o(y);var P=h.length;let N=!1;if(ne){var S=Ir(i)===Ja;S!==(P===0)&&(i=Ya(),He(i),qt(!1),N=!0)}for(var I=new Set,x=ge,A=qr(),F=0;F<P;F+=1){ne&&ve.nodeType===Un&&ve.data===Vs&&(i=ve,N=!0,qt(!1));var z=h[F],b=a(z,F),E=m?null:l.get(b);E?(E.v&&ya(E.v,z),E.i&&ya(E.i,F),A&&x.skipped_effects.delete(E.e)):(E=yf(l,m?i:ko??(ko=vt()),z,b,F,s,t,n),m||(E.e.f|=Ln),l.set(b,E)),I.add(b)}if(P===0&&r&&!p&&(m?p=zt(()=>r(i)):(p=zt(()=>r(ko??(ko=vt()))),p.f|=Ln)),ne&&P>0&&He(Ya()),!m)if(A){for(let[D,Y]of l)I.has(D)||x.skipped_effects.add(Y.e);x.oncommit(w),x.ondiscard(()=>{})}else w();N&&qt(!0),o(y)}),C={effect:k,items:l,outrogroups:null,fallback:p};m=!1,ne&&(i=ve)}function gf(e,t,n,a,s){var r,i,l,c,v,p,y,h,m,w=(a&El)!==0,k=t.length,C=e.items,P=e.effect.first,N,S=null,I,x=[],A=[],F,z,b,E;if(w)for(E=0;E<k;E+=1)F=t[E],z=s(F,E),b=C.get(z).e,!(b.f&Ln)&&((i=(r=b.nodes)==null?void 0:r.a)==null||i.measure(),(I??(I=new Set)).add(b));for(E=0;E<k;E+=1){if(F=t[E],z=s(F,E),b=C.get(z).e,e.outrogroups!==null)for(let re of e.outrogroups)re.pending.delete(b),re.done.delete(b);if(b.f&Ln)if(b.f^=Ln,b===P)hr(b,null,n);else{var D=S?S.next:P;b===e.effect.last&&(e.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),\$a(e,S,b),\$a(e,b,D),hr(b,D,n),S=b,x=[],A=[],P=S.next;continue}if(b.f&Bt&&(Hs(b),w&&((c=(l=b.nodes)==null?void 0:l.a)==null||c.unfix(),(I??(I=new Set)).delete(b))),b!==P){if(N!==void 0&&N.has(b)){if(x.length<A.length){var Y=A[0],Z;S=Y.prev;var Q=x[0],j=x[x.length-1];for(Z=0;Z<x.length;Z+=1)hr(x[Z],Y,n);for(Z=0;Z<A.length;Z+=1)N.delete(A[Z]);\$a(e,Q.prev,j.next),\$a(e,S,Q),\$a(e,j,Y),P=Y,S=j,E-=1,x=[],A=[]}else N.delete(b),hr(b,P,n),\$a(e,b.prev,b.next),\$a(e,b,S===null?e.effect.first:S.next),\$a(e,S,b),S=b;continue}for(x=[],A=[];P!==null&&P!==b;)(N??(N=new Set)).add(P),A.push(P),P=P.next;if(P===null)continue}!(b.f&Ln)&&x.push(b),S=b,P=b.next}if(e.outrogroups!==null){for(let re of e.outrogroups)re.pending.size===0&&(Fi(fs(re.done)),(v=e.outrogroups)==null||v.delete(re));e.outrogroups.size===0&&(e.outrogroups=null)}if(P!==null||N!==void 0){var V=[];if(N!==void 0)for(b of N)!(b.f&Bt)&&V.push(b);for(;P!==null;)!(P.f&Bt)&&P!==e.fallback&&V.push(P),P=P.next;var H=V.length;if(H>0){var ie=a&Qo&&k===0?n:null;if(w){for(E=0;E<H;E+=1)(y=(p=V[E].nodes)==null?void 0:p.a)==null||y.measure();for(E=0;E<H;E+=1)(m=(h=V[E].nodes)==null?void 0:h.a)==null||m.fix()}mf(e,V,ie)}}w&&Tt(()=>{var re,te;if(I!==void 0)for(b of I)(te=(re=b.nodes)==null?void 0:re.a)==null||te.apply()})}function yf(e,t,n,a,s,r,i,l){var c=i&Cl?i&Nl?na(n):Mr(n,!1,!1):null,v=i&Tl?na(s):null;return{v:c,i:v,e:zt(()=>(r(t,c??n,v??s,l),()=>{e.delete(a)}))}}function hr(e,t,n){if(e.nodes)for(var a=e.nodes.start,s=e.nodes.end,r=t&&!(t.f&Ln)?t.nodes.start:n;a!==null;){var i=At(a);if(r.before(a),a===s)return;a=i}}function \$a(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function bo(e,t="info",n=3e3){let a=wf++;u(as,[...o(as),{message:e,type:t,id:a}],!0),setTimeout(()=>{u(as,o(as).filter(s=>s.id!==a),!0)},n)}function kf(e,t=3e3){bo(e,"success",t)}function bf(e,t=3e3){bo(e,"error",t)}function _f(e,t=3e3){bo(e,"info",t)}function Sf(e){u(as,o(as).filter(t=>t.id!==e),!0)}var ko,as,wf,ye,ss=Oe(()=>{"use strict";Xe();as=T(Pe([])),wf=0;ye={get toasts(){return o(as)},show:bo,success:kf,error:bf,info:_f,dismiss:Sf}});function xf(e,t,n){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),n){for(var s in n)if(n[s])a=a?a+" "+s:s;else if(a.length)for(var r=s.length,i=0;(i=a.indexOf(s,i))>=0;){var l=i+r;(i===0||wu.includes(a[i-1]))&&(l===a.length||wu.includes(a[l]))?a=(i===0?"":a.substring(0,i))+a.substring(l+1):i=l}}return a===""?null:a}function We(e,t,n,a,s,r){var i=e.__className;if(ne||i!==n||i===void 0){var l=xf(n,a,r);(!ne||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}else if(r&&s!==r)for(var c in r){var v=!!r[c];(s==null||v!==!!s[c])&&e.classList.toggle(c,v)}return r}var wu,Cs=Oe(()=>{"use strict";Xe();wu=[...\` 	
\\r\\f\\xA0\\v\\uFEFF\`]});function _o(e=!1){let t=Ue,n=t.l.u;if(!n)return;let a=()=>xc(t.s);if(e){let s=0,r={},i=Ka(()=>{let l=!1,c=t.s;for(let v in c)c[v]!==r[v]&&(r[v]=c[v],l=!0);return l&&s++,s});a=()=>o(i)}n.b.length&&Rr(()=>{ku(t,a),Cr(n.b)}),Rt(()=>{let s=Lt(()=>n.m.map(wl));return()=>{for(let r of s)typeof r=="function"&&r()}}),n.a.length&&Rt(()=>{ku(t,a),Cr(n.a)})}function ku(e,t){if(e.l.s)for(let n of e.l.s)o(n);t()}var Bi=Oe(()=>{"use strict";Xe()});var bu={};Mn(bu,{component:()=>Mf,universal:()=>Tf});function Pf(e,t,...n){var a=new Pa(e);vn(()=>{let s=t()??null;a.ensure(s,s&&(r=>s(r,...n)))},Vt)}function If(e,t){Ae(t,!1),_o();var n=Nf();rt(n,5,()=>ye.toasts,a=>a.id,(a,s)=>{var r=Ef(),i=f(r,!0);d(r),U(()=>{We(r,1,\`toast \${o(s).type??""}\`,"svelte-1cpok13"),M(i,o(s).message)}),_(a,r)}),d(n),_(e,n),Re()}function Mf(e,t){var n=jf(),a=X(n);Pf(a,()=>t.children);var s=g(a,2);If(s,{}),_(e,n)}var \$f,Cf,Tf,Ef,Nf,jf,_u=Oe(()=>{"use strict";Wt();Xe();go();gn();ss();Cs();Bi();\$f=!0,Cf=!1,Tf=Object.freeze(Object.defineProperty({__proto__:null,prerender:\$f,ssr:Cf},Symbol.toStringTag,{value:"Module"})),Ef=\$('<div role="alert"> </div>'),Nf=\$('<div class="toast-container svelte-1cpok13"></div>');jf=\$("<!> <!>",1)});var xu={};Mn(xu,{component:()=>Af});function Af(e,t){Ae(t,!1),_o();var n=qf(),a=X(n),s=f(a,!0);d(a);var r=g(a,2),i=f(r,!0);d(r),U(()=>{var l;M(s,Su.status),M(i,(l=Su.error)==null?void 0:l.message)}),_(e,n),Re()}var Of,Su,qf,Pu=Oe(()=>{"use strict";Wt();gn();Xe();Bi();co();Of={get error(){return _t.error},get status(){return _t.status}};Bn.updated.check;Su=Of,qf=\$("<h1> </h1> <p> </p>",1)});function ot(e){if(ne){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;It(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var s=e.checked;It(e,"checked",null),e.checked=s}}};e.__on_r=n,Tt(n),ci()}}function mr(e,t){var n=Cu(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function It(e,t,n,a){var s=Cu(e);ne&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=n)&&(t==="loading"&&(e[Sl]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Lf(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Cu(e){return e.__attributes??(e.__attributes={[Rf]:e.nodeName.includes("-"),[zf]:e.namespaceURI===Wl})}function Lf(e){var t=e.getAttribute("is")||e.nodeName,n=\$u.get(t);if(n)return n;\$u.set(t,n=[]);for(var a,s=e,r=Element.prototype;r!==s;){a=Xo(s);for(var i in a)a[i].set&&n.push(i);s=\$r(s)}return n}function gt(e,t,n=t){var a=new WeakSet;ic(e,"input",async s=>{var r=s?e.defaultValue:e.value;if(r=Vi(e)?Ji(r):r,n(r),ge!==null&&a.add(ge),await aa(),r!==(r=t())){var i=e.selectionStart,l=e.selectionEnd,c=e.value.length;if(e.value=r??"",l!==null){var v=e.value.length;i===l&&l===c&&v>c?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=i,e.selectionEnd=Math.min(l,v))}}}),(ne&&e.defaultValue!==e.value||Lt(t)==null&&e.value)&&(n(Vi(e)?Ji(e.value):e.value),ge!==null&&a.add(ge)),hs(()=>{var s=t();if(e===document.activeElement){var r=Sr??ge;if(a.has(r))return}Vi(e)&&s===Ji(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Vi(e){var t=e.type;return t==="number"||t==="range"}function Ji(e){return e===""?null:+e}var Rf,zf,\$u,Ts=Oe(()=>{"use strict";Xe();Rf=Symbol("is custom element"),zf=Symbol("is html");\$u=new Map});var Tu={};Mn(Tu,{component:()=>tp});function Uf(e,t){let n=null,a=ne;var s;if(ne){n=ve;for(var r=un(document.head);r!==null&&(r.nodeType!==Un||r.data!==e);)r=At(r);if(r===null)qt(!1);else{var i=At(r);r.remove(),He(i)}}ne||(s=document.head.appendChild(vt()));try{vn(()=>t(s),Er)}finally{a&&(qt(!0),He(n))}}function tp(e,t){Ae(t,!0);let n=T(""),a=T("enter"),s=T(""),r=T(""),i=T(""),l=T(!1),c=T(""),v=T(Pe([])),p=T(Pe([])),y=T(!0),h=Fe(()=>o(p).filter(j=>!o(v).includes(j.roomId)).filter(j=>j.queueSize&&j.queueSize>0||j.nowPlaying));Rt(()=>{if(typeof localStorage<"u"){let j=localStorage.getItem("karaoke_recent_rooms");if(j)try{u(v,JSON.parse(j),!0)}catch{u(v,[],!0)}}}),Rt(()=>{m()});async function m(){try{let j=await(await fetch("/api/rooms/active")).json();u(p,j.rooms||[],!0)}catch{u(p,[],!0)}finally{u(y,!1)}}function w(j){let V=Date.now()-j,H=Math.floor(V/6e4);if(H<1)return"just now";if(H<60)return\`\${H}m ago\`;let ie=Math.floor(H/60);return ie<24?\`\${ie}h ago\`:\`\${Math.floor(ie/24)}d ago\`}function k(j){if(typeof localStorage>"u")return;let V=o(v).filter(ie=>ie!==j);V.unshift(j);let H=V.slice(0,5);localStorage.setItem("karaoke_recent_rooms",JSON.stringify(H)),u(v,H,!0)}function C(j){return j.toLowerCase().trim().replace(/\\s+/g,"-")}function P(j){return/^[a-z0-9][a-z0-9-]{0,28}[a-z0-9]\$|^[a-z0-9]{1,2}\$/.test(j)}async function N(){let j=C(o(n));if(!j){u(c,"Enter a room code");return}if(!P(j)){u(c,"Room code must be 2-30 characters (letters, numbers, hyphens)");return}if(new Set(["api","player","admin","shikashika","landing"]).has(j)){u(c,\`"\${j}" is reserved\`);return}u(l,!0),u(c,"");try{(await(await fetch(\`/api/room/check?room=\${encodeURIComponent(j)}\`)).json()).kind==="exists"?(k(j),lo(\`/\${j}\`)):(u(n,j,!0),u(a,"notFound"))}catch{u(c,"Could not check room. Try again.")}finally{u(l,!1)}}function S(){u(a,"createPin"),u(i,o(n).split("-").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "),!0)}async function I(){if(o(s).length!==6||!/^\\d{6}\$/.test(o(s))){u(c,"PIN must be 6 digits");return}if(o(s)!==o(r)){u(c,"PINs do not match");return}u(l,!0),u(c,"");try{let j=await(await fetch(\`/api/room/create?room=\${encodeURIComponent(o(n))}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomId:o(n),pin:o(s),displayName:o(i).trim()||o(n)})})).json();if(j.kind==="created"){if(k(o(n)),typeof sessionStorage<"u"){let V=await(await fetch(\`/api/admin/verify?room=\${encodeURIComponent(o(n))}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:o(s)})})).json();V.kind==="verified"&&sessionStorage.setItem(\`karaoke_admin_token_\${o(n)}\`,V.token)}ye.success("Room created!"),lo(\`/\${o(n)}/admin\`)}else j.kind==="alreadyExists"?(u(c,"Room already exists"),u(a,"enter")):j.kind==="invalidRoomId"?u(c,j.reason,!0):j.kind==="invalidPin"?u(c,j.reason,!0):u(c,j.message||"Failed to create room",!0)}catch{u(c,"Could not create room. Try again.")}finally{u(l,!1)}}function x(){u(a,"enter"),u(s,""),u(r,""),u(c,"")}function A(j){j.key==="Enter"&&!o(l)&&(o(a)==="enter"?N():o(a)==="createPin"&&I())}function F(j){k(j),lo(\`/\${j}\`)}var z=ep();Uf("1uha8ag",j=>{ps(()=>{ii.title="Karaoke - Join a Room"})});var b=g(f(z),2),E=f(b);{var D=j=>{var V=Bf(),H=X(V),ie=g(f(H),2);ot(ie),ie.__keydown=A,d(H);var re=g(H,2);re.__click=N;var te=f(re,!0);d(re);var G=g(re,2);{var ue=ae=>{var se=Wf(),ce=f(se,!0);d(se),U(()=>M(ce,o(c))),_(ae,se)};O(G,ae=>{o(c)&&ae(ue)})}var le=g(G,2);{var me=ae=>{var se=Ff(),ce=g(f(se),2);rt(ce,21,()=>o(v),Ca,(Qe,Ve)=>{var pe=Df();pe.__click=()=>F(o(Ve));var R=f(pe,!0);d(pe),U(()=>M(R,o(Ve))),_(Qe,pe)}),d(ce),d(se),_(ae,se)};O(le,ae=>{o(v).length>0&&ae(me)})}U(ae=>{ie.disabled=o(l),re.disabled=ae,M(te,o(l)?"Checking...":"Go")},[()=>o(l)||!o(n).trim()]),gt(ie,()=>o(n),ae=>u(n,ae)),_(j,V)},Y=j=>{var V=Ce(),H=X(V);{var ie=te=>{var G=Vf(),ue=f(G),le=g(f(ue)),me=f(le,!0);d(le),at(),d(ue);var ae=g(ue,2);ae.__click=S;var se=g(ae,2);se.__click=x,d(G),U(()=>M(me,o(n))),_(te,G)},re=te=>{var G=Ce(),ue=X(G);{var le=me=>{var ae=Gf(),se=f(ae),ce=g(f(se)),Qe=f(ce,!0);d(ce),at(),d(se);var Ve=g(se,2),pe=g(f(Ve),2);ot(pe),d(Ve);var R=g(Ve,2),J=g(f(R),2);ot(J),J.__keydown=A,d(R);var Ee=g(R,2),L=g(f(Ee),2);ot(L),L.__keydown=A,d(Ee);var K=g(Ee,2);K.__click=I;var he=f(K,!0);d(K);var _e=g(K,2);_e.__click=x;var ze=g(_e,2);{var Je=Me=>{var it=Jf(),St=f(it,!0);d(it),U(()=>M(St,o(c))),_(Me,it)};O(ze,Me=>{o(c)&&Me(Je)})}d(ae),U(()=>{M(Qe,o(n)),It(pe,"placeholder",o(n)),pe.disabled=o(l),J.disabled=o(l),L.disabled=o(l),K.disabled=o(l)||o(s).length!==6,M(he,o(l)?"Creating...":"Create Room"),_e.disabled=o(l)}),gt(pe,()=>o(i),Me=>u(i,Me)),gt(J,()=>o(s),Me=>u(s,Me)),gt(L,()=>o(r),Me=>u(r,Me)),_(me,ae)};O(ue,me=>{o(a)==="createPin"&&me(le)},!0)}_(te,G)};O(H,te=>{o(a)==="notFound"?te(ie):te(re,!1)},!0)}_(j,V)};O(E,j=>{o(a)==="enter"?j(D):j(Y,!1)})}d(b);var Z=g(b,2);{var Q=j=>{var V=Qf(),H=g(f(V),2);{var ie=te=>{var G=Yf();_(te,G)},re=te=>{var G=Zf();rt(G,21,()=>o(h),Ca,(ue,le)=>{var me=Xf();me.__click=()=>F(o(le).roomId);var ae=f(me),se=f(ae,!0);d(ae);var ce=g(ae,2),Qe=f(ce);{var Ve=L=>{var K=Kf(),he=f(K,!0);d(K),U(_e=>{It(K,"title",o(le).nowPlaying),M(he,_e)},[()=>o(le).nowPlaying.length>30?o(le).nowPlaying.slice(0,30)+"...":o(le).nowPlaying]),_(L,K)};O(Qe,L=>{o(le).nowPlaying&&L(Ve)})}var pe=g(Qe,2);{var R=L=>{var K=Hf(),he=f(K);d(K),U(()=>M(he,\`\${o(le).queueSize??""} waiting\`)),_(L,K)};O(pe,L=>{o(le).queueSize&&o(le).queueSize>0&&L(R)})}var J=g(pe,2),Ee=f(J,!0);d(J),d(ce),d(me),U(L=>{M(se,o(le).roomId),M(Ee,L)},[()=>w(o(le).lastActivity)]),_(ue,me)}),d(G),_(te,G)};O(H,te=>{o(y)?te(ie):te(re,!1)})}d(V),_(j,V)};O(Z,j=>{o(a)==="enter"&&(o(h).length>0||o(y))&&j(Q)})}d(z),_(e,z),Re()}var Wf,Df,Ff,Bf,Vf,Jf,Gf,Yf,Kf,Hf,Xf,Zf,Qf,ep,Eu=Oe(()=>{"use strict";Wt();Xe();ns();ss();Ts();co();Wf=\$('<div class="error-msg svelte-1uha8ag"> </div>'),Df=\$('<button class="recent-btn svelte-1uha8ag"> </button>'),Ff=\$('<div class="recent svelte-1uha8ag"><div class="recent-label svelte-1uha8ag">Recent rooms</div> <div class="recent-list svelte-1uha8ag"></div></div>'),Bf=\$('<div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="roomCode">Room code</label> <input type="text" id="roomCode" placeholder="e.g. bobs-party" maxlength="30" autocomplete="off" autocapitalize="off" class="svelte-1uha8ag"/></div> <button class="btn svelte-1uha8ag"> </button> <!> <!>',1),Vf=\$(\`<div class="not-found svelte-1uha8ag"><p class="not-found-msg svelte-1uha8ag">Room "<strong class="svelte-1uha8ag"> </strong>" doesn't exist yet.</p> <button class="btn svelte-1uha8ag">Create it</button> <button class="btn btn-secondary svelte-1uha8ag">Back</button></div>\`),Jf=\$('<div class="error-msg svelte-1uha8ag"> </div>'),Gf=\$('<div class="create-form svelte-1uha8ag"><p class="create-msg svelte-1uha8ag">Set an admin PIN for "<strong class="svelte-1uha8ag"> </strong>"</p> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="displayName">Display name (optional)</label> <input type="text" id="displayName" maxlength="50" class="svelte-1uha8ag"/></div> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="pin">Admin PIN (6 digits)</label> <input type="password" id="pin" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000" class="svelte-1uha8ag"/></div> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="pinConfirm">Confirm PIN</label> <input type="password" id="pinConfirm" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000" class="svelte-1uha8ag"/></div> <button class="btn svelte-1uha8ag"> </button> <button class="btn btn-secondary svelte-1uha8ag">Back</button> <!></div>'),Yf=\$('<div class="active-loading svelte-1uha8ag">Loading...</div>'),Kf=\$('<span class="now-playing svelte-1uha8ag"> </span>'),Hf=\$('<span class="queue-count svelte-1uha8ag"> </span>'),Xf=\$('<button class="active-room-btn svelte-1uha8ag"><span class="room-name svelte-1uha8ag"> </span> <span class="room-meta svelte-1uha8ag"><!> <!> <span class="last-active svelte-1uha8ag"> </span></span></button>'),Zf=\$('<div class="active-list svelte-1uha8ag"></div>'),Qf=\$('<div class="active-rooms svelte-1uha8ag"><div class="active-rooms-header svelte-1uha8ag"><span class="pulse-dot svelte-1uha8ag"></span> <span class="active-label svelte-1uha8ag">Happening Now</span></div> <!></div>'),ep=\$('<div class="container landing svelte-1uha8ag"><header class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">Karaoke</h1> <p class="subtitle svelte-1uha8ag">Pick a room, pick a song, sing your heart out</p></header> <div class="card svelte-1uha8ag"><!></div> <!></div>');mt(["keydown","click"])});function ju(){let e=ua.now();ua.tasks.forEach(t=>{t.c(e)||(ua.tasks.delete(t),t.f())}),ua.tasks.size!==0&&ua.tick(ju)}function ap(e){let t;return ua.tasks.size===0&&ua.tick(ju),{promise:new Promise(n=>{ua.tasks.add(t={c:e,f:n})}),abort(){ua.tasks.delete(t)}}}function So(e,t){ba(()=>{e.dispatchEvent(new CustomEvent(t))})}function sp(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;let t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Nu(e){let t={},n=e.split(";");for(let a of n){let[s,r]=a.split(":");if(!s||r===void 0)break;let i=sp(s.trim());t[i]=r.trim()}return t}function Mu(e,t,n){var a=fe,s=a.nodes,r,i,l,c=null;s.a??(s.a={element:e,measure(){r=this.element.getBoundingClientRect()},apply(){if(l?.abort(),i=this.element.getBoundingClientRect(),r.left!==i.left||r.right!==i.right||r.top!==i.top||r.bottom!==i.bottom){let v=t()(this.element,{from:r,to:i},n?.());l=\$o(this.element,v,void 0,1,()=>{l?.abort(),l=void 0})}},fix(){if(!e.getAnimations().length){var{position:v,width:p,height:y}=getComputedStyle(e);if(v!=="absolute"&&v!=="fixed"){var h=e.style;c={position:h.position,width:h.width,height:h.height,transform:h.transform},h.position="absolute",h.width=p,h.height=y;var m=e.getBoundingClientRect();if(r.left!==m.left||r.top!==m.top){var w=\`translate(\${r.left-m.left}px, \${r.top-m.top}px)\`;h.transform=h.transform?\`\${h.transform} \${w}\`:w}}}},unfix(){if(c){var v=e.style;v.position=c.position,v.width=c.width,v.height=c.height,v.transform=c.transform}}}),s.a.element=e}function Co(e,t,n,a){var s,r=(e&Al)!==0,i=(e&Rl)!==0,l=r&&i,c=(e&zl)!==0,v=l?"both":r?"in":"out",p,y=t.inert,h=t.style.overflow,m,w;function k(){return ba(()=>p??(p=n()(t,a?.()??{},{direction:v})))}var C={is_global:c,in(){var I;if(t.inert=y,!r){w?.abort(),(I=w?.reset)==null||I.call(w);return}i||m==null||m.abort(),So(t,"introstart"),m=\$o(t,k(),w,1,()=>{So(t,"introend"),m?.abort(),m=p=void 0,t.style.overflow=h})},out(I){if(!i){I?.(),p=void 0;return}t.inert=!0,So(t,"outrostart"),w=\$o(t,k(),m,0,()=>{So(t,"outroend"),I?.()})},stop:()=>{m?.abort(),w?.abort()}},P=fe;if(((s=P.nodes).t??(s.t=[])).push(C),r&&po){var N=c;if(!N){for(var S=P.parent;S&&S.f&Vt;)for(;(S=S.parent)&&!(S.f&_n););N=!S||(S.f&Ba)!==0}N&&ps(()=>{Lt(()=>C.in())})}}function \$o(e,t,n,a,s){var r=a===1;if(yl(t)){var i,l=!1;return Tt(()=>{if(!l){var C=t({direction:r?"in":"out"});i=\$o(e,C,n,a,s)}}),{abort:()=>{l=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(n?.deactivate(),!(t!=null&&t.duration))return s(),{abort:Rn,deactivate:Rn,reset:Rn,t:()=>a};let{delay:c=0,css:v,tick:p,easing:y=rp}=t;var h=[];if(r&&n===void 0&&(p&&p(0,1),v)){var m=Nu(v(0,1));h.push(m,m)}var w=()=>1-a,k=e.animate(h,{duration:c,fill:"forwards"});return k.onfinish=()=>{k.cancel();var C=n?.t()??1-a;n?.abort();var P=a-C,N=t.duration*Math.abs(P),S=[];if(N>0){var I=!1;if(v)for(var x=Math.ceil(N/16.666666666666668),A=0;A<=x;A+=1){var F=C+P*y(A/x),z=Nu(v(F,1-F));S.push(z),I||(I=z.overflow==="hidden")}I&&(e.style.overflow="hidden"),w=()=>{var b=k.currentTime;return C+P*y(b/N)},p&&ap(()=>{if(k.playState!=="running")return!1;var b=w();return p(b,1-b),!0})}k=e.animate(S,{duration:N,fill:"forwards"}),k.onfinish=()=>{w=()=>a,p?.(a,1-a),s()}},{abort:()=>{k&&(k.cancel(),k.effect=null,k.onfinish=Rn)},deactivate:()=>{s=Rn},reset:()=>{a===0&&p?.(1,0)},t:()=>w()}}function Ou(e,t){Ae(t,!0);let n=Nt(t,"canSkip",3,!1);var a=ip(),s=g(f(a),2),r=f(s,!0);d(s);var i=g(s,2),l=f(i,!0);d(i);var c=g(i,2);{var v=p=>{var y=op();y.__click=function(...h){var m;(m=t.onSkip)==null||m.apply(this,h)},_(p,y)};O(c,p=>{n()&&t.onSkip&&p(v)})}d(a),U(()=>{M(r,t.entry.title),M(l,t.entry.name)}),_(e,a),Re()}function qu(e,t){Ae(t,!0);let n=Nt(t,"myVote",3,0),a=Nt(t,"isMine",3,!1),s=Nt(t,"readonly",3,!1);function r(x){if(s()||a()||!t.onVote)return;let A=n()===x?0:x;t.onVote(A)}let i=Fe(()=>t.entry.votes>0?"positive":t.entry.votes<0?"negative":"");var l=vp();let c;var v=f(l);let p;var y=f(v,!0);d(v);var h=g(v,2),m=f(h),w=f(m,!0);d(m);var k=g(m,2),C=f(k),P=g(C);{var N=x=>{var A=lp();_(x,A)};O(P,x=>{a()&&x(N)})}d(k),d(h);var S=g(h,2);{var I=x=>{var A=up(),F=f(A);let z;F.__click=()=>r(1);var b=g(F,2),E=f(b,!0);d(b);var D=g(b,2);let Y;D.__click=()=>r(-1);var Z=g(D,2);{var Q=j=>{var V=cp();V.__click=function(...H){var ie;(ie=t.onRemove)==null||ie.apply(this,H)},_(j,V)};O(Z,j=>{a()&&t.onRemove&&j(Q)})}d(A),U(()=>{z=We(F,1,"vote-btn upvote svelte-bbkcgc",null,z,{active:n()===1}),F.disabled=a(),We(b,1,\`vote-count \${o(i)??""}\`,"svelte-bbkcgc"),M(E,t.entry.votes),Y=We(D,1,"vote-btn downvote svelte-bbkcgc",null,Y,{active:n()===-1}),D.disabled=a()}),_(x,A)};O(S,x=>{s()||x(I)})}d(l),U(()=>{c=We(l,1,"queue-item svelte-bbkcgc",null,c,{"is-mine":a()}),p=We(v,1,"position svelte-bbkcgc",null,p,{"is-mine":a()}),M(y,t.position),M(w,t.entry.title),M(C,\`\${t.entry.name??""} \`)}),_(e,l),Re()}function fp(e){let t=e-1;return t*t*t+1}function Iu(e){let t=typeof e=="string"&&e.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*\$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Gi(e,{delay:t=0,duration:n=400,easing:a=dp}={}){let s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:a,css:r=>\`opacity: \${r*s}\`}}function Au(e,{delay:t=0,duration:n=400,easing:a=fp,x:s=0,y:r=0,opacity:i=0}={}){let l=getComputedStyle(e),c=+l.opacity,v=l.transform==="none"?"":l.transform,p=c*(1-i),[y,h]=Iu(s),[m,w]=Iu(r);return{delay:t,duration:n,easing:a,css:(k,C)=>\`
			transform: \${v} translate(\${(1-k)*y}\${h}, \${(1-k)*m}\${w});
			opacity: \${c-p*C}\`}}function Ze(){if(typeof window>"u")return"default";let e=window.location.pathname.split("/").filter(Boolean);return e.length>0&&!pp.has(e[0])?e[0]:"default"}async function Gt(e,t={}){let{method:n="GET",headers:a={},body:s,skipRoom:r=!1}=t,i=\`\${rs}\${e}\`;if(!r){let l=Ze(),c=e.includes("?")?"&":"?";i=\`\${i}\${c}room=\${encodeURIComponent(l)}\`}try{return await(await fetch(i,{method:n,headers:s?{"Content-Type":"application/json",...a}:a,body:s?JSON.stringify(s):void 0})).json()}catch{return{kind:"error",message:"Network error"}}}async function To(){try{let e=Ze(),t=await fetch(\`\${rs}/state?room=\${encodeURIComponent(e)}\`);return t.ok?await t.json():null}catch{return null}}async function Eo(){try{let e=Ze(),t=await fetch(\`\${rs}/room/config?room=\${encodeURIComponent(e)}\`);return t.ok?await t.json():null}catch{return null}}async function Du(e){let t=Ze();try{return await(await fetch(\`\${rs}/admin/verify?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:e})})).json()}catch{return{kind:"error",message:"Network error"}}}function Ki(){if(typeof sessionStorage>"u")return null;let e=Ze();return sessionStorage.getItem(\`karaoke_admin_token_\${e}\`)}function Fu(e){if(typeof sessionStorage>"u")return;let t=Ze();sessionStorage.setItem(\`karaoke_admin_token_\${t}\`,e)}function Bu(){if(typeof sessionStorage>"u")return;let e=Ze();sessionStorage.removeItem(\`karaoke_admin_token_\${e}\`)}function gr(){let e=Ki();return e?{Authorization:\`Bearer \${e}\`}:{"X-Admin":"true"}}async function Ku(e){let t={...e,page:window.location.pathname,userAgent:navigator.userAgent,roomId:Ze()!=="default"?Ze():void 0};return Gt("/feedback",{method:"POST",body:t,skipRoom:!0})}function Hu(e){let t=Ze(),n=window.location.pathname,a=new URLSearchParams({room:t,return:n});window.location.href=\`/auth/google?\${a.toString()}\`}async function Xu(){try{return await(await fetch("/auth/session",{credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function Zu(e){let t=Ze();try{return await(await fetch("/auth/anonymous",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({roomId:t,displayName:e})})).json()}catch{return{kind:"error",message:"Network error"}}}async function Qu(){try{return await(await fetch("/auth/logout",{method:"POST",credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function ev(){try{let e=Ze();return await(await fetch(\`\${rs}/stack?room=\${encodeURIComponent(e)}\`,{credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function tv(e){try{let t=Ze();return await(await fetch(\`\${rs}/stack/remove?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({songId:e})})).json()}catch{return{kind:"error",message:"Network error"}}}async function nv(e){try{let t=Ze();return await(await fetch(\`\${rs}/stack/reorder?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({songIds:e})})).json()}catch{return{kind:"error",message:"Network error"}}}function av(e,t){Ae(t,!0);let n=Nt(t,"maxDuration",3,420),a=T(""),s=T(Pe([])),r=T(!1),i=T(null),l=T(null);async function c(){if(!o(a).trim()||o(r))return;u(r,!0),u(l,null),u(s,[],!0),u(i,null);let S=await Yi(o(a).trim());if(u(r,!1),S.kind==="error"){u(l,S.message,!0);return}if(S.results.length===0){u(l,"No results found. Try a different search.");return}u(s,S.results,!0)}function v(S){S.key==="Enter"&&c()}function p(S){S.durationSeconds>n()||(u(i,S.id,!0),t.onSelect(S))}function y(S){return S.durationSeconds>n()}var h=_p(),m=f(h),w=f(m);ot(w),w.__keydown=v;var k=g(w,2);k.__click=c,d(m);var C=g(m,2);{var P=S=>{var I=gp();_(S,I)},N=S=>{var I=Ce(),x=X(I);{var A=z=>{var b=yp(),E=f(b,!0);d(b),U(()=>M(E,o(l))),_(z,b)},F=z=>{var b=Ce(),E=X(b);{var D=Y=>{var Z=bp();rt(Z,23,()=>o(s),Q=>Q.id,(Q,j,V)=>{var H=kp();let ie;H.__click=()=>p(o(j));var re=f(H),te=f(re),G=g(te,2);let ue;var le=f(G,!0);d(G),d(re);var me=g(re,2),ae=f(me),se=f(ae,!0);d(ae);var ce=g(ae,2),Qe=f(ce,!0);d(ce);var Ve=g(ce,2);{var pe=R=>{var J=wp();_(R,J)};O(Ve,R=>{y(o(j))&&R(pe)})}d(me),d(H),U((R,J,Ee)=>{ie=We(H,1,"search-result svelte-1002zyw",null,ie,R),H.disabled=J,It(te,"src",o(j).thumbnail),ue=We(G,1,"result-duration svelte-1002zyw",null,ue,Ee),M(le,o(j).duration),M(se,o(j).title),M(Qe,o(j).channel)},[()=>({selected:o(i)===o(j).id,"too-long":y(o(j))}),()=>y(o(j)),()=>({"too-long-badge":y(o(j))})]),Co(1,H,()=>Gi,()=>({duration:200,delay:o(V)*50})),_(Q,H)}),d(Z),_(Y,Z)};O(E,Y=>{o(s).length>0&&Y(D)},!0)}_(z,b)};O(x,z=>{o(l)?z(A):z(F,!1)},!0)}_(S,I)};O(C,S=>{o(r)?S(P):S(N,!1)})}d(h),U(()=>k.disabled=o(r)),gt(w,()=>o(a),S=>u(a,S)),_(e,h),Re()}function sv(e,t){Ae(t,!0);let n=Nt(t,"mode",3,"closed"),a=Nt(t,"name",3,""),s=T(""),r=T(""),i=T(!1);Rt(()=>{u(s,""),u(r,"")});function l(m){let w=m.target;u(s,w.value.replace(/\\D/g,"").slice(0,6),!0)}async function c(){var m;if(!/^\\d{6}\$/.test(o(s))){u(r,"PIN must be 6 digits");return}u(i,!0),u(r,"");let w=await hp(a(),o(s));switch(u(i,!1),w.kind){case"claimed":(m=t.onSuccess)==null||m.call(t);break;case"alreadyClaimed":u(r,"This name is already claimed");break;case"invalidPin":u(r,w.reason,!0);break;case"error":u(r,w.message,!0);break}}async function v(){var m;if(!/^\\d{6}\$/.test(o(s))){u(r,"PIN must be 6 digits");return}u(i,!0),u(r,"");let w=await mp(a(),o(s));switch(u(i,!1),w.kind){case"verified":(m=t.onSuccess)==null||m.call(t);break;case"nameNotFound":u(r,"Name not found");break;case"invalidPin":u(r,"Invalid PIN");break;case"error":u(r,w.message,!0);break}}var p=Ce(),y=X(p);{var h=m=>{var w=Cp(),k=f(w),C=f(k);{var P=S=>{var I=xp(),x=g(X(I),4),A=f(x),F=g(f(A)),z=f(F);d(F),at(),d(A),at(4),d(x);var b=g(x,4);ot(b),b.__input=l;var E=g(b,2);E.__click=c;var D=g(E,2);{var Y=Q=>{var j=Sp(),V=f(j,!0);d(j),U(()=>M(V,o(r))),_(Q,j)};O(D,Q=>{o(r)&&Q(Y)})}var Z=g(D,4);Z.__click=function(...Q){var j;(j=t.onClose)==null||j.apply(this,Q)},U(()=>{M(z,\`"\${a()??""}"\`),mr(b,o(s)),E.disabled=o(i)}),_(S,I)},N=S=>{var I=Ce(),x=X(I);{var A=F=>{var z=\$p(),b=g(X(z),2),E=f(b),D=f(E);d(E),at(),d(b);var Y=g(b,2);ot(Y),Y.__input=l;var Z=g(Y,2);Z.__click=v;var Q=g(Z,2);{var j=ie=>{var re=Pp(),te=f(re,!0);d(re),U(()=>M(te,o(r))),_(ie,re)};O(Q,ie=>{o(r)&&ie(j)})}var V=g(Q,2),H=g(f(V));H.__click=function(...ie){var re;(re=t.onChangeName)==null||re.apply(this,ie)},d(V),U(()=>{M(D,\`"\${a()??""}"\`),mr(Y,o(s)),Z.disabled=o(i)}),_(F,z)};O(x,F=>{n()==="verify"&&F(A)},!0)}_(S,I)};O(C,S=>{n()==="claim"?S(P):S(N,!1)})}d(k),d(w),_(m,w)};O(y,m=>{n()!=="closed"&&m(h)})}_(e,p),Re()}function xo(...e){Tp&&console.log("[WS]",...e)}function Po(...e){console.error("[WS]",...e)}function Es(){let e=null,t=!1,n=0,a=null,s=null,r="user",i=3e4,l=1e3,c=null,v=null,p=null,y=0,h=0;function m(){return Math.min(l*Math.pow(2,n),i)+Math.random()*1e3}function w(){C(),k(),s=setInterval(()=>{e&&t&&k()},3e4)}function k(){e&&t&&(h=Date.now(),e.send(JSON.stringify({kind:"ping",clientTime:h})))}function C(){s&&(clearInterval(s),s=null)}function P(x){switch(x.kind){case"state":c?.(x.state,x.playback,x.extensionConnected);break;case"extensionStatus":v?.(x.connected);break;case"pong":if(x.serverTime&&x.clientTime){let A=Date.now()-x.clientTime;y=x.serverTime-x.clientTime-A/2,xo("Clock sync: offset",y,"ms, RTT",A,"ms")}break;case"sync":p?.(x.playback,y);break;case"error":Po("Server error:",x.message);break}}function N(x){if(r=x,typeof window>"u")return;let A=location.protocol==="https:"?"wss:":"ws:",F=Ze(),z=\`\${A}//\${location.host}/?upgrade=websocket&room=\${encodeURIComponent(F)}\`;try{e=new WebSocket(z),e.onopen=()=>{xo("Connected"),t=!0,n=0,e.send(JSON.stringify({kind:"subscribe",clientType:x})),w()},e.onmessage=b=>{try{let E=JSON.parse(b.data);P(E)}catch(E){Po("Failed to parse message:",E)}},e.onclose=()=>{xo("Disconnected"),t=!1,e=null,C(),n++;let b=m();xo(\`Reconnecting in \${Math.round(b/1e3)}s (attempt \${n})\`),a=setTimeout(()=>N(r),b)},e.onerror=b=>{Po("Error:",b)}}catch(b){Po("Failed to connect:",b)}}function S(){a&&(clearTimeout(a),a=null),C(),e&&(e.close(),e=null),t=!1}function I(x){e&&t&&e.send(JSON.stringify(x))}return{connect:N,disconnect:S,send:I,onState(x){c=x},onExtensionStatus(x){v=x},onSync(x){p=x},requestSync(){I({kind:"syncRequest"})},getServerTimeOffset(){return y},isConnected(){return t}}}var np,ua,rp,op,ip,lp,cp,up,vp,dp,rs,pp,Ru,zu,Lu,Uu,Yi,hp,mp,Wu,Vu,Ju,Gu,Hi,Yu,gp,yp,wp,kp,bp,_p,Sp,xp,Pp,\$p,Cp,Tp,No=Oe(()=>{"use strict";Wt();Xe();ns();wo();Cs();ss();Ts();np=()=>performance.now(),ua={tick:e=>requestAnimationFrame(e),now:()=>np(),tasks:new Set};rp=e=>e;op=\$('<button class="skip-own-btn svelte-gs8b8u">Skip My Song</button>'),ip=\$('<div class="now-playing-card svelte-gs8b8u"><div class="now-playing-label svelte-gs8b8u">Now Playing</div> <div class="now-playing-title svelte-gs8b8u"> </div> <div class="now-playing-singer svelte-gs8b8u"> </div> <!></div>');mt(["click"]);lp=\$('<span class="you-badge svelte-bbkcgc">YOU</span>'),cp=\$('<button class="remove-btn svelte-bbkcgc" aria-label="Remove">x</button>'),up=\$('<div class="queue-actions svelte-bbkcgc"><button aria-label="Upvote">+</button> <span> </span> <button aria-label="Downvote">-</button> <!></div>'),vp=\$('<li><span> </span> <div class="queue-info svelte-bbkcgc"><div class="queue-song svelte-bbkcgc"> </div> <div class="queue-singer svelte-bbkcgc"> <!></div></div> <!></li>');mt(["click"]);dp=e=>e;rs="/api",pp=new Set(["player","admin","api","shikashika"]);Ru=e=>Gt("/join",{method:"POST",body:e}),zu=(e,t,n)=>Gt("/vote",{method:"POST",headers:{"X-Voter-Id":n},body:{entryId:e,direction:t}}),Lu=(e,t)=>Gt("/remove",{method:"POST",headers:{"X-User-Name":t},body:{entryId:e}}),Uu=e=>Gt("/skip",{method:"POST",headers:{"X-User-Name":e}}),Yi=e=>Gt(\`/search?q=\${encodeURIComponent(e)}\`);hp=(e,t)=>Gt("/claim",{method:"POST",body:{name:e,pin:t}}),mp=(e,t)=>Gt("/verify",{method:"POST",body:{name:e,pin:t}}),Wu=(e=10)=>Gt(\`/songs/popular?limit=\${e}\`);Vu=()=>Gt("/skip",{method:"POST",headers:gr()}),Ju=e=>Gt("/remove",{method:"POST",headers:gr(),body:{entryId:e}}),Gu=e=>Gt("/add",{method:"POST",headers:gr(),body:e}),Hi=(e,t)=>Gt("/reorder",{method:"POST",headers:gr(),body:{entryId:e,newPosition:t}}),Yu=e=>Gt("/room/config",{method:"POST",headers:gr(),body:{mode:e}});gp=\$('<div class="searching-indicator svelte-1002zyw"><div class="spinner"></div> Searching...</div>'),yp=\$('<div class="no-results svelte-1002zyw"> </div>'),wp=\$('<div class="too-long-msg svelte-1002zyw">Too long (max 7 min)</div>'),kp=\$('<button><div class="result-thumb-wrapper svelte-1002zyw"><img class="result-thumb svelte-1002zyw" alt="" loading="lazy"/> <span> </span></div> <div class="result-info svelte-1002zyw"><div class="result-title svelte-1002zyw"> </div> <div class="result-channel svelte-1002zyw"> </div> <!></div></button>'),bp=\$('<div class="search-results svelte-1002zyw"></div>'),_p=\$('<div class="search-container svelte-1002zyw"><div class="search-row svelte-1002zyw"><input type="text" placeholder="Song title or artist..." autocomplete="off" class="svelte-1002zyw"/> <button class="btn btn-cyan search-btn svelte-1002zyw">Search</button></div> <!></div>');mt(["keydown","click"]);Sp=\$('<div class="modal-error svelte-1ppz18g"> </div>'),xp=\$(\`<h2 class="svelte-1ppz18g">You made karaoke history!</h2> <p class="svelte-1ppz18g">Your performance is saved. Set a PIN to:</p> <ul class="svelte-1ppz18g"><li class="svelte-1ppz18g">Keep <span class="highlight svelte-1ppz18g"> </span> as your stage name</li> <li class="svelte-1ppz18g">Build your songbook across devices</li> <li class="svelte-1ppz18g">See your stats and history anytime</li></ul> <p class="svelte-1ppz18g">Pick a 6-digit PIN you'll remember:</p> <input type="text" class="modal-input svelte-1ppz18g" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="------" autocomplete="off"/> <button class="btn svelte-1ppz18g">Lock in my name</button> <!> <p class="small svelte-1ppz18g">Skip for now? Anyone can use this name until you claim it.</p> <button class="skip-link svelte-1ppz18g">I'll set it up later</button>\`,1),Pp=\$('<div class="modal-error svelte-1ppz18g"> </div>'),\$p=\$('<h2 class="svelte-1ppz18g">Welcome back!</h2> <p class="svelte-1ppz18g"><span class="highlight svelte-1ppz18g"> </span> has a PIN. Enter it to continue.</p> <input type="text" class="modal-input svelte-1ppz18g" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="------" autocomplete="off"/> <button class="btn svelte-1ppz18g">Continue</button> <!> <p class="hint svelte-1ppz18g">Not you? <button class="link-btn svelte-1ppz18g">Use different name</button></p>',1),Cp=\$('<div class="modal-overlay svelte-1ppz18g"><div class="modal svelte-1ppz18g"><!></div></div>');mt(["input","click"]);T(Pe({queue:[],nowPlaying:null,currentEpoch:0}));T(Pe(typeof localStorage<"u"?localStorage.getItem("karaoke_name")??"":""));Pe(typeof localStorage<"u"?localStorage.getItem("karaoke_voter_id")??crypto.randomUUID():crypto.randomUUID());T(Pe(typeof localStorage<"u"?JSON.parse(localStorage.getItem("karaoke_votes")??"{}"):{}));T(Pe(typeof localStorage<"u"?JSON.parse(localStorage.getItem("karaoke_verified")??"{}"):{}));Tp=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")});function yr(e){if(!e)return null;let t=e.trim(),n=[/(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/)([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/shorts\\/([a-zA-Z0-9_-]{11})/,/music\\.youtube\\.com\\/watch\\?v=([a-zA-Z0-9_-]{11})/,/music\\.youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/m\\.youtube\\.com\\/watch\\?v=([a-zA-Z0-9_-]{11})/,/m\\.youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/v\\/([a-zA-Z0-9_-]{11})/];for(let a of n){let s=t.match(a);if(s!=null&&s[1])return s[1]}return null}var Xi=Oe(()=>{"use strict"});function Ep(e){let t=e-1;return t*t*t+1}function Np(e,{from:t,to:n},a={}){var{delay:s=0,duration:r=A=>Math.sqrt(A)*120,easing:i=Ep}=a,l=getComputedStyle(e),c=l.transform==="none"?"":l.transform,[v,p]=l.transformOrigin.split(" ").map(parseFloat);v/=e.clientWidth,p/=e.clientHeight;var y=Ip(e),h=e.clientWidth/n.width/y,m=e.clientHeight/n.height/y,w=t.left+t.width*v,k=t.top+t.height*p,C=n.left+n.width*v,P=n.top+n.height*p,N=(w-C)*h,S=(k-P)*m,I=t.width/n.width,x=t.height/n.height;return{delay:s,duration:typeof r=="function"?r(Math.sqrt(N*N+S*S)):r,easing:i,css:(A,F)=>{var z=F*N,b=F*S,E=A+F*I,D=A+F*x;return\`transform: \${c} translate(\${z}px, \${b}px) scale(\${E}, \${D});\`}}}function Ip(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,n=1;t!==null;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}function Ap(e,t){Ae(t,!0);let n=Nt(t,"myName",3,""),a=Nt(t,"myVotes",19,()=>({})),s=Nt(t,"readonly",3,!1);function r(w){return w.name.toLowerCase()===n().toLowerCase()}function i(w){let k=a()[w];return k===1?1:k===-1?-1:0}var l=qp(),c=f(l),v=g(f(c),2),p=f(v);d(v),d(c);var y=g(c,2);{var h=w=>{var k=jp();_(w,k)},m=w=>{var k=Op();rt(k,31,()=>t.entries,C=>C.id,(C,P,N)=>{var S=Mp(),I=f(S);{let x=Fe(()=>o(N)+1),A=Fe(()=>i(o(P).id)),F=Fe(()=>r(o(P)));qu(I,{get entry(){return o(P)},get position(){return o(x)},get myVote(){return o(A)},get isMine(){return o(F)},get readonly(){return s()},onVote:z=>{var b;return(b=t.onVote)==null?void 0:b.call(t,o(P).id,z)},onRemove:()=>{var z;return(z=t.onRemove)==null?void 0:z.call(t,o(P).id)}})}d(S),Mu(S,()=>Np,()=>({duration:300})),Co(1,S,()=>Au,()=>({y:20,duration:300})),Co(2,S,()=>Gi),_(C,S)}),d(k),_(w,k)};O(y,w=>{t.entries.length===0?w(h):w(m,!1)})}d(l),U(()=>M(p,\`\${t.entries.length??""} in queue\`)),_(e,l),Re()}function rv(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function Zi(){el&&navigator.vibrate([50,30,50])}function ov(){el&&navigator.vibrate(10)}function Qi(){el&&navigator.vibrate([100,50,100])}function Lp(e,t){Ae(t,!0);let n=T(Pe([])),a=T(!0),s=T(!1);en(async()=>{let y=await Wu(8);u(a,!1),u(s,!0),y.kind==="songs"&&u(n,y.songs,!0)});function r(y){return\`https://i.ytimg.com/vi/\${y}/mqdefault.jpg\`}function i(y){t.onSelect(y.videoId,y.title)}var l=Ce(),c=X(l);{var v=y=>{var h=zp(),m=g(f(h),2);rt(m,21,()=>o(n),w=>w.videoId,(w,k)=>{var C=Rp();C.__click=()=>i(o(k));var P=f(C),N=f(P),S=g(N,2),I=f(S);d(S),d(P);var x=g(P,2),A=f(x),F=f(A,!0);d(A),d(x),d(C),U(z=>{It(N,"src",z),M(I,\`\${o(k).playCount??""}x\`),M(F,o(k).title)},[()=>r(o(k).videoId)]),_(w,C)}),d(m),d(h),_(y,h)},p=y=>{var h=Ce(),m=X(h);{var w=k=>{};O(m,k=>{o(a)&&k(w)},!0)}_(y,h)};O(c,y=>{o(s)&&o(n).length>0?y(v):y(p,!1)})}_(e,l),Re()}function Fp(e,t){Ae(t,!0);let n=T(""),a=T(""),s=T("suggestion"),r=T(!1),i=T(""),l=[{value:"bug",label:"Bug",icon:"X"},{value:"suggestion",label:"Suggestion",icon:"+"},{value:"question",label:"Question",icon:"?"},{value:"other",label:"Other",icon:"#"}];function c(){u(n,""),u(a,""),u(s,"suggestion"),u(i,"")}function v(){c(),t.onClose()}async function p(){if(!o(n).trim())return;u(r,!0),u(i,"");let k=await Ku({feedback:o(n).trim(),title:o(a).trim()||void 0,category:o(s)});u(r,!1),k.kind==="created"?(Zi(),ye.success(\`Thanks! Created issue #\${k.issueNumber}\`),v()):k.kind==="rateLimited"?(Qi(),u(i,"Too many submissions. Please wait a minute.")):(Qi(),u(i,k.message,!0))}function y(k){k.key==="Escape"&&v()}var h=Ce();xn("keydown",ds,y);var m=X(h);{var w=k=>{var C=Dp();C.__click=v;var P=f(C);P.__click=E=>E.stopPropagation(),P.__keydown=()=>{};var N=f(P);N.__click=v;var S=g(N,4);rt(S,21,()=>l,Ca,(E,D)=>{var Y=Up();let Z;Y.__click=()=>u(s,o(D).value,!0);var Q=f(Y),j=f(Q,!0);d(Q);var V=g(Q,2),H=f(V,!0);d(V),d(Y),U(()=>{Z=We(Y,1,"category-btn svelte-4vowdw",null,Z,{selected:o(s)===o(D).value}),M(j,o(D).icon),M(H,o(D).label)}),_(E,Y)}),d(S);var I=g(S,2);oc(I);var x=g(I,2);ot(x);var A=g(x,2);{var F=E=>{var D=Wp(),Y=f(D,!0);d(D),U(()=>M(Y,o(i))),_(E,D)};O(A,E=>{o(i)&&E(F)})}var z=g(A,2);z.__click=p;var b=f(z,!0);d(z),d(P),d(C),U(E=>{z.disabled=E,M(b,o(r)?"Sending...":"Send Feedback")},[()=>!o(n).trim()||o(r)]),gt(I,()=>o(n),E=>u(n,E)),gt(x,()=>o(a),E=>u(a,E)),_(k,C)};O(m,k=>{t.isOpen&&k(w)})}_(e,h),Re()}function Jp(e){let t=T(!1),n=T(!1);function a(){u(t,!o(t))}function s(){u(t,!1)}function r(){u(t,!1),u(n,!0)}function i(){u(n,!1)}function l(m){m.key==="Escape"&&o(t)&&s()}var c=Vp();xn("keydown",ds,l);var v=X(c);v.__click=a;var p=g(v,2);{var y=m=>{var w=Bp();w.__click=s,w.__keydown=N=>N.key==="Escape"&&s();var k=f(w);k.__click=N=>N.stopPropagation(),k.__keydown=()=>{};var C=f(k);C.__click=s;var P=g(C,26);P.__click=r,d(k),d(w),_(m,w)};O(p,m=>{o(t)&&m(y)})}var h=g(p,2);Fp(h,{get isOpen(){return o(n)},onClose:i}),_(e,c)}function sh(e,t){Ae(t,!0);let n=T(null),a=T(null),s=T(!1),r=T(!0),i=T(!1),l=T(""),c=T(!1);Rt(()=>{v()});async function v(){var S;u(r,!0);let I=await Xu();I.kind==="authenticated"?(u(n,I.session,!0),u(a,I.user,!0),u(s,!1)):I.kind==="anonymous"?(u(n,I.session,!0),u(a,null),u(s,!0)):(u(n,null),u(a,null),u(s,!1)),u(r,!1),(S=t.onSessionChange)==null||S.call(t,o(n),o(a))}function p(){Hu()}async function y(){var S;if(!o(l).trim()){u(c,!0);return}u(r,!0);let I=await Zu(o(l).trim());I.kind==="created"&&(u(n,I.session,!0),u(s,!0),u(c,!1),u(l,""),(S=t.onSessionChange)==null||S.call(t,o(n),null)),u(r,!1)}async function h(){var S;await Qu(),u(n,null),u(a,null),u(s,!1),u(i,!1),(S=t.onSessionChange)==null||S.call(t,null,null)}function m(){u(i,!o(i))}function w(){u(i,!1)}var k=ah();xn("click",ds,w);var C=f(k);{var P=S=>{var I=Gp();_(S,I)},N=S=>{var I=Ce(),x=X(I);{var A=z=>{var b=Qp(),E=X(b);E.__click=te=>{te.stopPropagation(),m()};var D=f(E);{var Y=te=>{var G=Yp();U(()=>It(G,"src",o(a).picture)),_(te,G)},Z=te=>{var G=Kp(),ue=f(G,!0);d(G),U(le=>M(ue,le),[()=>o(n).displayName.charAt(0).toUpperCase()]),_(te,G)};O(D,te=>{var G;(G=o(a))!=null&&G.picture?te(Y):te(Z,!1)})}var Q=g(D,2),j=f(Q,!0);d(Q);var V=g(Q,2),H=f(V,!0);d(V),d(E);var ie=g(E,2);{var re=te=>{var G=Zp();G.__click=pe=>pe.stopPropagation(),G.__keydown=()=>{};var ue=f(G),le=f(ue),me=f(le,!0);d(le);var ae=g(le,2);{var se=pe=>{var R=Hp(),J=f(R,!0);d(R),U(()=>M(J,o(a).email)),_(pe,R)};O(ae,pe=>{var R;(R=o(a))!=null&&R.email&&pe(se)})}d(ue);var ce=g(ue,2);{var Qe=pe=>{var R=Xp();R.__click=p,_(pe,R)};O(ce,pe=>{o(s)&&pe(Qe)})}var Ve=g(ce,2);Ve.__click=h,d(G),U(()=>M(me,o(s)?"Guest":"Google")),_(te,G)};O(ie,te=>{o(i)&&te(re)})}U(()=>{M(j,o(n).displayName),M(H,o(i)?"\\u25B2":"\\u25BC")}),_(z,b)},F=z=>{var b=nh(),E=f(b);{var D=Z=>{var Q=eh(),j=f(Q);ot(j),j.__keydown=H=>H.key==="Enter"&&y();var V=g(j,2);V.__click=y,d(Q),gt(j,()=>o(l),H=>u(l,H)),_(Z,Q)},Y=Z=>{var Q=th(),j=X(Q);j.__click=p;var V=g(j,2);V.__click=()=>u(c,!0),_(Z,Q)};O(E,Z=>{o(c)?Z(D):Z(Y,!1)})}d(b),_(z,b)};O(x,z=>{o(n)?z(A):z(F,!1)},!0)}_(S,I)};O(C,S=>{o(r)?S(P):S(N,!1)})}d(k),_(e,k),Re()}function mh(e,t){Ae(t,!0);let n=T(Pe([])),a=T(null),s=T(!0),r=T(null),i=T(null),l=T(null);Rt(()=>{c()});async function c(){var b;u(s,!0),u(r,null);let E=await ev();E.kind==="stack"?(u(n,E.songs,!0),u(a,E.inQueue,!0),(b=t.onStackChange)==null||b.call(t,o(n),o(a))):E.kind==="unauthenticated"?(u(n,[],!0),u(a,null)):u(r,E.message,!0),u(s,!1)}async function v(b){var E;(await tv(b)).kind==="removed"&&(u(n,o(n).filter(D=>D.id!==b),!0),(E=t.onStackChange)==null||E.call(t,o(n),o(a)))}function p(b){u(i,b,!0)}function y(b,E){b.preventDefault(),u(l,E,!0)}function h(){if(o(i)!==null&&o(l)!==null&&o(i)!==o(l)){let b=[...o(n)],[E]=b.splice(o(i),1);b.splice(o(l),0,E),u(n,b,!0),nv(b.map(D=>D.id)).then(D=>{var Y;D.kind==="reordered"&&((Y=t.onStackChange)==null||Y.call(t,o(n),o(a)))})}u(i,null),u(l,null)}function m(){u(l,null)}function w(){c()}function k(b){var E;u(n,b,!0),(E=t.onStackChange)==null||E.call(t,o(n),o(a))}function C(b){var E;u(a,b,!0),(E=t.onStackChange)==null||E.call(t,o(n),o(a))}var P={refresh:w,updateStack:k,updateInQueue:C},N=hh(),S=f(N),I=g(f(S));{var x=b=>{var E=rh(),D=f(E);d(E),U(()=>M(D,\`(\${o(n).length??""})\`)),_(b,E)};O(I,b=>{o(n).length>0&&b(x)})}d(S);var A=g(S,2);{var F=b=>{var E=oh();_(b,E)},z=b=>{var E=Ce(),D=X(E);{var Y=Q=>{var j=ih(),V=f(j,!0);d(j),U(()=>M(V,o(r))),_(Q,j)},Z=Q=>{var j=ph(),V=X(j);{var H=G=>{var ue=lh(),le=g(f(ue),2),me=f(le),ae=f(me,!0);d(me);var se=g(me,2),ce=f(se);d(se),d(le),d(ue),U(()=>{M(ae,o(a).title),M(ce,\`\${o(a).votes>0?"+":""}\${o(a).votes??""} votes\`)}),_(G,ue)};O(V,G=>{o(a)&&G(H)})}var ie=g(V,2);{var re=G=>{var ue=vh(),le=f(ue);{var me=se=>{var ce=ch();_(se,ce)},ae=se=>{var ce=uh();_(se,ce)};O(le,se=>{o(a)?se(me):se(ae,!1)})}d(ue),_(G,ue)},te=G=>{var ue=fh(),le=X(ue);rt(le,21,()=>o(n),Ca,(me,ae,se)=>{var ce=dh();let Qe;var Ve=g(f(ce),2),pe=f(Ve);pe.textContent=\`#\${se+1}\`;var R=g(pe,2),J=f(R,!0);d(R),d(Ve);var Ee=g(Ve,2);Ee.__click=()=>v(o(ae).id),d(ce),U(()=>{Qe=We(ce,1,"stack-item svelte-owkba6",null,Qe,{dragging:o(i)===se,"drag-over":o(l)===se}),M(J,o(ae).title)}),xn("dragstart",ce,()=>p(se)),xn("dragover",ce,L=>y(L,se)),xn("dragleave",ce,m),xn("dragend",ce,h),_(me,ce)}),d(le),at(2),_(G,ue)};O(ie,G=>{o(n).length===0?G(re):G(te,!1)})}_(Q,j)};O(D,Q=>{o(r)?Q(Y):Q(Z,!1)},!0)}_(b,E)};O(A,b=>{o(s)?b(F):b(z,!1)})}return d(N),_(e,N),Re(P)}function Io(e,t){Ae(t,!0);let n=T(Pe({queue:[],nowPlaying:null,currentEpoch:0})),a=T(""),s=T(""),r=T(Pe({})),i=T(Pe({})),l=T(null),c=T(null),v=T(null),p=T(null),y=T(null),h=T(null),m=T(null),w=T(!1),k=T(null),C=T("closed"),P=T(""),N=T(null),S=T(!1),I=T(0),x=T("idle"),A=T(""),F=420,z=Es(),b=null,E=null,D=null,Y=Fe(()=>o(n).queue.find(q=>q.name.toLowerCase()===o(a).toLowerCase())),Z=Fe(()=>{var q;return((q=o(n).nowPlaying)==null?void 0:q.name.toLowerCase())===o(a).toLowerCase()}),Q=Fe(()=>!!o(Y)),j=Fe(()=>o(Y)?o(n).queue.findIndex(q=>q.id===o(Y).id)+1:null),V=Fe(()=>o(a).trim().length>0&&o(h)&&!o(Q)&&!o(Z)),H=Fe(Ze),ie=Fe(()=>!!o(l)),re=Fe(()=>{var q;return((q=o(p))==null?void 0:q.mode)??"jukebox"});en(async()=>{if(u(a,localStorage.getItem("karaoke_name")??"",!0),u(s,localStorage.getItem("karaoke_voter_id")??crypto.randomUUID(),!0),u(r,rv(localStorage.getItem("karaoke_votes"),{}),!0),u(i,rv(localStorage.getItem("karaoke_verified"),{}),!0),localStorage.setItem("karaoke_voter_id",o(s)),z.onState(te),z.connect("user"),typeof window<"u"&&!window.YT){let q=document.createElement("script");q.src="https://www.youtube.com/iframe_api",document.head.appendChild(q)}u(p,await Eo(),!0)}),ms(()=>{z.disconnect()});function te(q){var B;let oe=o(a).toLowerCase(),Te=q.queue.find(Le=>Le.name.toLowerCase()===oe),Se=Te?q.queue.findIndex(Le=>Le.id===Te.id)+1:null,Ne=b?.name.toLowerCase()===oe,Ge=((B=q.nowPlaying)==null?void 0:B.name.toLowerCase())===oe;if(Ne&&!Ge&&o(a)){let Le=D?.votes??0,xt=Le>0?\`+\${Le}\`:Le===0?"0":\`\${Le}\`;o(i)[oe]===!0?ye.success(\`You got \${xt} votes! Add another?\`):(ye.success(\`Nice! You got \${xt} votes\`),setTimeout(()=>{u(P,o(a),!0),u(C,"claim")},1500)),u(I,Le,!0),u(S,!0),setTimeout(()=>u(S,!1),4e3)}E!==null&&Se!==null&&E!==Se&&(Se<E?ye.success(\`You moved up! Now #\${Se}\`):Se>E&&ye.info(\`Slipped to #\${Se}\`)),Se!==null&&E!==null&&(Se===2&&E>2?ye.info("2 songs until you're up!"):Se===1&&E>1&&ye.success("You're next! Get ready! \\u{1F3A4}")),!Ne&&Ge&&(ye.success("You're up! Time to shine! \\u2728"),Zi()),b=q.nowPlaying,E=Se,D=Te??null,u(n,q,!0)}function G(q){let B=q.target;u(a,B.value,!0),localStorage.setItem("karaoke_name",o(a))}function ue(q){u(y,q,!0);let B=\`https://www.youtube.com/watch?v=\${q.id}\`;me(B,q.title)}function le(q,B){u(y,{id:q,title:B,channel:"Popular in this room",duration:"",durationSeconds:0,thumbnail:\`https://i.ytimg.com/vi/\${q}/mqdefault.jpg\`,source:"youtube",playable:!0},!0);let oe=\`https://www.youtube.com/watch?v=\${q}\`;me(oe,B)}async function me(q,B){u(x,"checking"),u(A,"Checking video...");let oe=yr(q);if(!oe){u(x,"invalid"),u(A,"Invalid YouTube URL"),u(h,null),u(m,null);return}typeof window<"u"&&window.YT?await ae(oe,q,B):(u(x,"valid"),u(A,"Ready to add!"),u(h,q,!0),u(m,B??"Unknown Song",!0))}function ae(q,B,oe){return new Promise(Te=>{let Se=document.getElementById("validationPlayer");if(!Se){u(x,"valid"),u(h,B,!0),u(m,oe??"Unknown Song",!0),Te();return}Se.innerHTML='<div id="ytPlayer"></div>',new window.YT.Player("ytPlayer",{height:"1",width:"1",videoId:q,playerVars:{autoplay:0,controls:0},events:{onReady:Ne=>{let Ge=Ne.target.getDuration(),Le=Ne.target.getVideoData();if(Ge===0){u(x,"invalid"),u(A,"Livestreams not allowed"),u(h,null),Te();return}if(Ge>F){let xt=Math.floor(Ge/60),Gn=Math.round(Ge%60);u(x,"invalid"),u(A,\`Too long (\${xt}:\${Gn.toString().padStart(2,"0")}) - max 7 minutes\`),u(h,null),Te();return}u(h,B,!0),u(m,oe??Le.title??"Unknown Song",!0),u(x,"valid"),u(A,"Ready to add!"),Te()},onError:()=>{u(x,"invalid"),u(A,"Video not found or unavailable"),u(h,null),Te()}}}),setTimeout(()=>{o(x)==="checking"&&(u(x,"invalid"),u(A,"Could not load video"),u(h,null),Te())},1e4)})}async function se(){if(!o(V)||!o(h)||!o(m))return;u(w,!0),u(k,null);let q=o(i)[o(a).toLowerCase()]===!0,B=yr(o(h));if(!B){u(k,"Invalid video URL"),u(w,!1);return}let oe=await Ru({name:o(a).trim(),videoId:B,title:o(m),verified:q});switch(u(w,!1),oe.kind){case"joined":ye.success(\`You're #\${oe.position} in the queue!\`),Zi(),ce();break;case"requiresPin":u(N,{name:o(a).trim(),url:o(h),title:o(m)},!0),u(P,o(a).trim(),!0),u(C,"verify");break;case"alreadyInQueue":u(k,\`\${oe.name} is already in the queue\`);break;case"invalidVideo":u(k,oe.reason,!0);break;case"error":Qi(),u(k,oe.message,!0);break}}function ce(){u(y,null),u(h,null),u(m,null),u(x,"idle"),u(A,""),u(k,null)}async function Qe(q,B){let oe=o(r)[q]??0,Te=B-oe;if(B===0){let{[q]:Ne,...Ge}=o(r);u(r,Ge,!0),ov()}else u(r,{...o(r),[q]:B},!0),ov();localStorage.setItem("karaoke_votes",JSON.stringify(o(r))),u(n,{...o(n),queue:o(n).queue.map(Ne=>Ne.id===q?{...Ne,votes:Ne.votes+Te}:Ne)},!0);let Se=await zu(q,B,o(s));if(Se.kind!=="voted"){if(oe===0){let{[q]:Ge,...Le}=o(r);u(r,Le,!0)}else u(r,{...o(r),[q]:oe},!0);localStorage.setItem("karaoke_votes",JSON.stringify(o(r)));let Ne=Se.kind==="error"?Se.message:"Vote failed";ye.error(Ne)}}async function Ve(q){if(!confirm("Remove your song from the queue?"))return;let B=await Lu(q,o(a));if(B.kind!=="removed"){let oe=B.kind==="error"?B.message:B.kind==="entryNotFound"?"Song not found":B.kind==="unauthorized"?"Not authorized":"Failed to remove";ye.error(oe)}}async function pe(){if(!confirm("Skip your song?"))return;let q=await Uu(o(a));if(q.kind==="skipped")ye.success("Song skipped");else{let B=q.kind==="error"?q.message:q.kind==="nothingPlaying"?"Nothing is playing":q.kind==="unauthorized"?"Not authorized":"Failed to skip";ye.error(B)}}function R(){u(i,{...o(i),[o(P).toLowerCase()]:!0},!0),localStorage.setItem("karaoke_verified",JSON.stringify(o(i))),o(C)==="verify"&&o(N)?(u(h,o(N).url,!0),u(m,o(N).title,!0),u(a,o(N).name,!0),u(N,null),u(C,"closed"),se()):(ye.success("Your name is locked in!"),u(C,"closed"))}function J(){u(C,"closed"),u(N,null)}function Ee(){var q;u(C,"closed"),u(N,null),u(a,""),(q=document.getElementById("nameInput"))==null||q.focus()}function L(q,B){u(l,q,!0),u(c,B,!0),q&&u(a,q.displayName,!0)}var K=Eh(),he=X(K),_e=f(he),ze=f(_e),Je=g(f(ze),2);sh(Je,{onSessionChange:L}),d(ze);var Me=g(ze,4),it=f(Me);{var St=q=>{var B=gh();let oe;var Te=f(B,!0);d(B),U(()=>{oe=We(B,1,"mode-badge svelte-1y2kg8x",null,oe,{jukebox:o(re)==="jukebox",karaoke:o(re)==="karaoke"}),M(Te,o(re)==="jukebox"?"\\u{1F3B5} Jukebox":"\\u{1F3A4} Karaoke")}),_(q,B)};O(it,q=>{o(p)&&q(St)})}var De=g(it,2);d(Me),d(_e);var we=g(_e,2);{var et=q=>{Ou(q,{get entry(){return o(n).nowPlaying},get canSkip(){return o(Z)},onSkip:pe})};O(we,q=>{o(n).nowPlaying&&q(et)})}var tt=g(we,2);{var yt=q=>{var B=yh();_(q,B)},qe=q=>{var B=Ce(),oe=X(B);{var Te=Se=>{var Ne=wh();_(Se,Ne)};O(oe,Se=>{o(j)===2&&Se(Te)},!0)}_(q,B)};O(tt,q=>{o(j)===1&&!o(Z)?q(yt):q(qe,!1)})}var nt=g(tt,2);{var ft=q=>{var B=kh(),oe=f(B),Te=g(f(oe),2),Se=f(Te);d(Te),d(oe);var Ne=g(oe,2),Ge=f(Ne,!0);d(Ne);var Le=g(Ne,2);Le.__click=()=>Ve(o(Y).id),d(B),U(xt=>{M(Se,\`#\${xt??""} in queue\`),M(Ge,o(Y).title)},[()=>o(n).queue.findIndex(xt=>xt.id===o(Y).id)+1]),_(q,B)},Yt=q=>{var B=Ce(),oe=X(B);{var Te=Ne=>{var Ge=bh(),Le=g(f(Ge),2),xt=f(Le,!0);d(Le);var Gn=g(Le,2);Gn.__click=pe,d(Ge),U(()=>{var pa;return M(xt,(pa=o(n).nowPlaying)==null?void 0:pa.title)}),_(Ne,Ge)},Se=Ne=>{var Ge=\$h(),Le=f(Ge),xt=g(f(Le),2);ot(xt),xt.__input=G,d(Le);var Gn=g(Le,2),pa=g(f(Gn),2);av(pa,{maxDuration:F,onSelect:ue});var Na=g(pa,2);{var Ao=xe=>{Lp(xe,{onSelect:le})};O(Na,xe=>{o(y)||xe(Ao)})}var Ns=g(Na,2);{var Ro=xe=>{var Ie=_h(),je=f(Ie),pt=f(je,!0);d(je);var ct=g(je,2),Pt=f(ct);d(ct),d(Ie),U(()=>{M(pt,o(y).title),M(Pt,\`\${o(y).channel??""} \\xB7 \${o(y).duration??""}\`)}),_(xe,Ie)};O(Ns,xe=>{o(y)&&xe(Ro)})}var zo=g(Ns,2);{var ee=xe=>{var Ie=xh(),je=f(Ie);{var pt=Pt=>{var \$t=Sh();_(Pt,\$t)};O(je,Pt=>{o(x)==="checking"&&Pt(pt)})}var ct=g(je);d(Ie),U(()=>{We(Ie,1,\`validation-status \${o(x)??""}\`,"svelte-1y2kg8x"),M(ct,\` \${o(A)??""}\`)}),_(xe,Ie)};O(zo,xe=>{o(x)!=="idle"&&xe(ee)})}d(Gn);var be=g(Gn,2);be.__click=se;var lt=g(be,2);{var Ye=xe=>{var Ie=Ph(),je=f(Ie,!0);d(Ie),U(()=>M(je,o(k))),_(xe,Ie)};O(lt,xe=>{o(k)&&xe(Ye)})}d(Ge),U(()=>{mr(xt,o(a)),be.disabled=!o(V)||o(w)}),_(Ne,Ge)};O(oe,Ne=>{o(Z)?Ne(Te):Ne(Se,!1)},!0)}_(q,B)};O(nt,q=>{o(Y)?q(ft):q(Yt,!1)})}var Kt=g(nt,2);Ap(Kt,{get entries(){return o(n).queue},get myName(){return o(a)},get myVotes(){return o(r)},onVote:Qe,onRemove:Ve});var an=g(Kt,2);{var da=q=>{var B=Ch(),oe=f(B);\$s(mh(oe,{}),Te=>u(v,Te,!0),()=>o(v)),d(B),_(q,B)};O(an,q=>{o(ie)&&q(da)})}d(he);var fa=g(he,4);sv(fa,{get mode(){return o(C)},get name(){return o(P)},onSuccess:R,onClose:J,onChangeName:Ee});var Ea=g(fa,2);{var Oo=q=>{var B=Th(),oe=f(B),Te=g(f(oe),2),Se=f(Te);d(Te),at(2),d(oe),d(B),U(()=>M(Se,\`\${o(I)>0?"+":""}\${o(I)??""}\`)),_(q,B)};O(Ea,q=>{o(S)&&q(Oo)})}var qo=g(Ea,2);Jp(qo),U(()=>It(De,"href",\`/\${o(H)??""}/player\`)),_(e,K),Re()}var jp,Mp,Op,qp,el,Rp,zp,Up,Wp,Dp,Bp,Vp,Gp,Yp,Kp,Hp,Xp,Zp,Qp,eh,th,nh,ah,rh,oh,ih,lh,ch,uh,vh,dh,fh,ph,hh,gh,yh,wh,kh,bh,_h,Sh,xh,Ph,\$h,Ch,Th,Eh,tl=Oe(()=>{"use strict";Wt();gs();Xe();ns();Ts();Cs();Di();gn();ss();No();wo();Xi();jp=\$('<div class="empty-state svelte-a7cxk7"><div class="empty-icon svelte-a7cxk7">\\u{1F3A4}</div> <h3 class="svelte-a7cxk7">The stage is silent...</h3> <p class="svelte-a7cxk7">Be the hero this party needs!</p> <div class="arrow svelte-a7cxk7">\\u2193</div></div>'),Mp=\$('<div class="svelte-a7cxk7"><!></div>'),Op=\$('<ul class="queue-list svelte-a7cxk7"></ul>'),qp=\$('<div class="queue-section svelte-a7cxk7"><div class="section-header svelte-a7cxk7"><span class="section-title svelte-a7cxk7">Up Next</span> <span class="queue-count svelte-a7cxk7"> </span></div> <!></div>');el=typeof navigator<"u"&&typeof navigator.vibrate=="function";Rp=\$('<button class="popular-item svelte-m2a9xz"><div class="popular-thumb-wrapper svelte-m2a9xz"><img class="popular-thumb svelte-m2a9xz" alt="" loading="lazy"/> <span class="play-count svelte-m2a9xz"> </span></div> <div class="popular-info svelte-m2a9xz"><div class="popular-song-title svelte-m2a9xz"> </div></div></button>'),zp=\$('<div class="popular-section svelte-m2a9xz"><h3 class="popular-title svelte-m2a9xz">Popular in this room</h3> <div class="popular-grid svelte-m2a9xz"></div></div>');mt(["click"]);Up=\$('<button><span class="cat-icon svelte-4vowdw"> </span> <span class="cat-label"> </span></button>'),Wp=\$('<div class="error-msg svelte-4vowdw"> </div>'),Dp=\$(\`<div class="overlay svelte-4vowdw" role="presentation"><div class="modal svelte-4vowdw" role="dialog" aria-modal="true" tabindex="-1"><button class="close-btn svelte-4vowdw" aria-label="Close">x</button> <h2 class="svelte-4vowdw">Send Feedback</h2> <div class="category-row svelte-4vowdw"></div> <textarea placeholder="What's on your mind?" maxlength="2000" rows="5" class="svelte-4vowdw"></textarea> <input type="text" placeholder="Brief title (optional)" maxlength="100" class="svelte-4vowdw"/> <!> <button class="btn svelte-4vowdw"> </button></div></div>\`);mt(["click","keydown"]);Bp=\$(\`<div class="overlay svelte-8t29c9" role="presentation"><div class="modal svelte-8t29c9" role="dialog" aria-modal="true" tabindex="-1"><button class="close-btn svelte-8t29c9" aria-label="Close">\\xD7</button> <h2 class="svelte-8t29c9">How It Works</h2> <div class="steps svelte-8t29c9"><div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">1</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Enter your name</strong> <p class="svelte-8t29c9">This is how you'll appear on the big screen</p></div></div> <div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">2</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Search for a song</strong> <p class="svelte-8t29c9">Find your karaoke jam (max 7 minutes)</p></div></div> <div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">3</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Join the queue</strong> <p class="svelte-8t29c9">You'll see your position and when you're up</p></div></div></div> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Fair Queue System</h3> <p class="info svelte-8t29c9">First-timers and people who've been waiting longer get priority.
        After you sing, you move to the back \\u2014 so everyone gets a turn!</p> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Voting</h3> <p class="info svelte-8t29c9">Upvote songs you want to hear sooner. Downvote to push them back.
        Votes only affect order within the same priority tier.</p> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Claim Your Name</h3> <p class="info svelte-8t29c9">After your first song, you can lock your name with a 6-digit PIN.
        This prevents others from using your stage name.</p> <div class="divider svelte-8t29c9"></div> <button class="feedback-link svelte-8t29c9">Send Feedback</button></div></div>\`),Vp=\$('<button class="help-btn svelte-8t29c9" aria-label="Help">?</button> <!> <!>',1);mt(["click","keydown"]);Gp=\$('<div class="loading-skeleton svelte-r761lh"></div>'),Yp=\$('<img alt="" class="avatar svelte-r761lh"/>'),Kp=\$('<div class="avatar-placeholder svelte-r761lh"> </div>'),Hp=\$('<span class="email svelte-r761lh"> </span>'),Xp=\$('<button class="menu-item svelte-r761lh"><svg viewBox="0 0 24 24" class="google-icon svelte-r761lh"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" class="svelte-r761lh"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" class="svelte-r761lh"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" class="svelte-r761lh"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" class="svelte-r761lh"></path></svg> Sign in with Google</button>'),Zp=\$('<div class="dropdown-menu svelte-r761lh"><div class="menu-header svelte-r761lh"><span class="provider-badge svelte-r761lh"> </span> <!></div> <!> <button class="menu-item logout svelte-r761lh">Sign Out</button></div>'),Qp=\$('<button class="user-button svelte-r761lh"><!> <span class="display-name svelte-r761lh"> </span> <span class="dropdown-arrow svelte-r761lh"> </span></button> <!>',1),eh=\$('<div class="name-input-container svelte-r761lh"><input type="text" placeholder="Your name" maxlength="30" class="name-input svelte-r761lh"/> <button class="go-btn svelte-r761lh">Go</button></div>'),th=\$('<button class="login-btn google svelte-r761lh"><svg viewBox="0 0 24 24" class="google-icon svelte-r761lh"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" class="svelte-r761lh"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" class="svelte-r761lh"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" class="svelte-r761lh"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" class="svelte-r761lh"></path></svg> Sign in</button> <button class="login-btn guest svelte-r761lh">Continue as Guest</button>',1),nh=\$('<div class="login-options svelte-r761lh"><!></div>'),ah=\$('<div class="login-container svelte-r761lh"><!></div>');mt(["click","keydown"]);rh=\$('<span class="count svelte-owkba6"> </span>'),oh=\$('<div class="loading svelte-owkba6">Loading...</div>'),ih=\$('<div class="error svelte-owkba6"> </div>'),lh=\$('<div class="in-queue-card svelte-owkba6"><div class="status-badge svelte-owkba6">In Queue</div> <div class="song-info svelte-owkba6"><span class="title svelte-owkba6"> </span> <span class="votes svelte-owkba6"> </span></div></div>'),ch=\$(\`<p class="svelte-owkba6">Add more songs - they'll play after your current one!</p>\`),uh=\$('<p class="svelte-owkba6">Search and add songs to build your queue</p>'),vh=\$('<div class="empty-state svelte-owkba6"><!></div>'),dh=\$('<div draggable="true" role="listitem"><span class="drag-handle svelte-owkba6">\\u22EE\\u22EE</span> <div class="song-details svelte-owkba6"><span class="position svelte-owkba6"></span> <span class="title svelte-owkba6"> </span></div> <button class="remove-btn svelte-owkba6" aria-label="Remove from stack">\\xD7</button></div>'),fh=\$('<div class="stack-list svelte-owkba6"></div> <p class="stack-hint svelte-owkba6">Drag to reorder. Your next song will join the main queue when your current song finishes.</p>',1),ph=\$("<!> <!>",1),hh=\$('<div class="my-stack svelte-owkba6"><h3 class="section-title svelte-owkba6">My Queue <!></h3> <!></div>');mt(["click"]);gh=\$("<span> </span>"),yh=\$(\`<div class="on-deck-banner on-deck-next svelte-1y2kg8x"><div class="deck-icon svelte-1y2kg8x">\\u{1F399}\\uFE0F</div> <div class="deck-text svelte-1y2kg8x"><strong class="svelte-1y2kg8x">You're up next!</strong><br/> Get ready to take the mic!</div></div>\`),wh=\$('<div class="on-deck-banner on-deck-soon svelte-1y2kg8x"><div class="deck-icon svelte-1y2kg8x">\\u{1F440}</div> <div class="deck-text svelte-1y2kg8x"><strong class="svelte-1y2kg8x">On deck</strong><br/> One song until your turn</div></div>'),kh=\$('<div class="my-song-card svelte-1y2kg8x"><div class="my-song-header svelte-1y2kg8x"><span class="my-song-label svelte-1y2kg8x">Your song</span> <span class="my-song-position svelte-1y2kg8x"> </span></div> <div class="my-song-title svelte-1y2kg8x"> </div> <button class="btn btn-change svelte-1y2kg8x">Change Song</button></div>'),bh=\$(\`<div class="my-turn-card svelte-1y2kg8x"><div class="my-turn-label svelte-1y2kg8x">You're up!</div> <div class="my-turn-song svelte-1y2kg8x"> </div> <button class="btn btn-warning">Skip My Song</button></div>\`),_h=\$('<div class="selected-song svelte-1y2kg8x"><div class="selected-song-title svelte-1y2kg8x"> </div> <div class="selected-song-meta svelte-1y2kg8x"> </div></div>'),Sh=\$('<div class="validation-spinner svelte-1y2kg8x"></div>'),xh=\$("<div><!> </div>"),Ph=\$('<div class="error-msg svelte-1y2kg8x"> </div>'),\$h=\$('<div class="join-card svelte-1y2kg8x"><div class="input-group svelte-1y2kg8x"><label class="input-label svelte-1y2kg8x" for="nameInput">Your name</label> <input type="text" id="nameInput" placeholder="Enter your name" maxlength="30" autocomplete="off"/></div> <div class="input-group svelte-1y2kg8x"><span class="input-label svelte-1y2kg8x">Search for a song</span> <!> <!> <!> <!></div> <button class="btn">Add to Queue</button> <!></div>'),Ch=\$('<div class="my-stack-section svelte-1y2kg8x"><!></div>'),Th=\$('<div class="recap-overlay svelte-1y2kg8x"><div class="recap-content svelte-1y2kg8x"><div class="recap-applause svelte-1y2kg8x">\\u{1F44F} APPLAUSE! \\u{1F44F}</div> <div class="recap-votes svelte-1y2kg8x"> </div> <div class="recap-label svelte-1y2kg8x">VOTES RECEIVED</div></div></div>'),Eh=\$('<div class="container"><header class="svelte-1y2kg8x"><div class="header-top svelte-1y2kg8x"><h1 class="svelte-1y2kg8x">Karaoke</h1> <!></div> <p class="subtitle svelte-1y2kg8x">Pick a song, join the queue, sing your heart out</p> <div class="header-actions svelte-1y2kg8x"><!> <a target="_blank" rel="noopener" class="player-link svelte-1y2kg8x">Open Player</a></div></header> <!> <!> <!> <!> <!></div> <div id="validationPlayer" style="display: none;"></div> <!> <!> <!>',1);mt(["click","input"])});var iv={};Mn(iv,{component:()=>jh,universal:()=>Ih});function jh(e){Io(e,{})}var Nh,Ih,lv=Oe(()=>{"use strict";Wt();gn();tl();Nh=!1,Ih=Object.freeze(Object.defineProperty({__proto__:null,prerender:Nh},Symbol.toStringTag,{value:"Module"}))});function jo(e,t){Ae(t,!0);let n=T(!1),a=T(!1),s=T(""),r=T(""),i=T(!1),l=T(""),c=T(Pe({queue:[],nowPlaying:null,currentEpoch:0})),v=T(null),p=T(!1),y=T(""),h=T(""),m=T(""),w=T(""),k=T(Pe([])),C=T(!1),P=T(null),N=T(!1),S=T("singer"),I=T(""),x=T(null),A=T(Pe([])),F=T(!1),z=Es(),b=null;en(()=>{u(l,Ze(),!0),Ki()?(u(n,!0),u(a,!0),D()):E()}),ms(()=>{z.disconnect(),b&&clearInterval(b)});async function E(){try{(await(await fetch(\`/api/room/check?room=\${encodeURIComponent(o(l))}\`)).json()).kind==="notFound"?(u(n,!0),D()):u(n,!1)}catch{u(n,!1)}u(a,!0)}async function D(){z.onState(R=>{u(c,R,!0),b&&(clearInterval(b),b=null)}),z.connect("admin"),b=setInterval(async()=>{let R=await To();R&&u(c,R,!0)},2e3),u(v,await Eo(),!0)}async function Y(){if(o(s).length!==6){u(r,"PIN must be 6 digits");return}u(i,!0),u(r,"");let R=await Du(o(s));u(i,!1),R.kind==="verified"?(Fu(R.token),u(n,!0),ye.success("Logged in as admin"),D()):R.kind==="invalidPin"?(u(r,"Incorrect PIN"),u(s,"")):R.kind==="roomNotFound"?u(r,"Room not found"):u(r,R.message||"Authentication failed",!0)}function Z(){Bu(),u(n,!1),z.disconnect(),b&&(clearInterval(b),b=null),u(s,""),u(c,{queue:[],nowPlaying:null,currentEpoch:0},!0)}function Q(R){R.key==="Enter"&&!o(i)&&Y()}async function j(){let R=await Vu();if(R.kind==="skipped")ye.success("Skipped!");else{let J=R.kind==="error"?R.message:R.kind==="nothingPlaying"?"Nothing is playing":R.kind==="unauthorized"?"Session expired - please log in again":"Failed to skip";R.kind==="unauthorized"&&Z(),ye.error(J)}}async function V(){if(!o(w).trim()||o(C))return;u(C,!0),u(k,[],!0),u(P,null);let R=await Yi(o(w).trim());if(u(C,!1),R.kind==="error"){ye.error(R.message);return}u(k,R.results,!0)}function H(R){u(P,R.id,!0),u(h,\`https://www.youtube.com/watch?v=\${R.id}\`),u(m,R.title,!0)}async function ie(){if(!o(y).trim()||!o(h).trim()){ye.error("Name and URL required");return}let R=yr(o(h).trim());if(!R){ye.error("Invalid YouTube URL");return}let J=await Gu({name:o(y).trim(),videoId:R,title:o(m).trim()||"Added by admin"});if(J.kind==="joined")ye.success("Added to front of queue!"),u(y,""),u(h,""),u(m,""),u(w,""),u(k,[],!0),u(P,null);else{let Ee=J.kind==="error"?J.message:J.kind==="invalidVideo"?J.reason:"Failed to add";ye.error(Ee)}}async function re(R){if(!confirm("Remove this entry?"))return;let J=await Ju(R);if(J.kind!=="removed"){let Ee=J.kind==="error"?J.message:J.kind==="entryNotFound"?"Entry not found":J.kind==="unauthorized"?"Session expired - please log in again":"Failed to remove";J.kind==="unauthorized"&&Z(),ye.error(Ee)}}async function te(R){let J=o(c).queue.findIndex(L=>L.id===R);if(J<=0)return;let Ee=await Hi(R,J-1);if(Ee.kind!=="reordered"){let L=Ee.kind==="error"?Ee.message:"Failed to move";ye.error(L)}}async function G(R){let J=o(c).queue.findIndex(L=>L.id===R);if(J===-1||J>=o(c).queue.length-1)return;let Ee=await Hi(R,J+1);if(Ee.kind!=="reordered"){let L=Ee.kind==="error"?Ee.message:"Failed to move";ye.error(L)}}async function ue(){if(!o(v)||o(p))return;let R=o(v).mode==="jukebox"?"karaoke":"jukebox";if(!confirm(R==="jukebox"?"Switch to Jukebox Mode? Queue will re-sort by votes only.":"Switch to Karaoke Mode? Queue will re-sort by epochs."))return;u(p,!0);let J=await Yu(R);if(u(p,!1),J.kind==="updated")u(v,J.config,!0),ye.success(\`Switched to \${R==="jukebox"?"Jukebox":"Karaoke"} Mode\`);else if(J.kind==="unauthorized")ye.error("Session expired - please log in again"),Z();else{let Ee=J.kind==="error"?J.message:"Failed to change mode";ye.error(Ee)}}function le(){u(N,!o(N))}function me(R){u(S,R,!0),R==="popular"&&!o(F)&&se()}async function ae(){if(o(I).trim())try{let R=await fetch(\`/api/history/\${encodeURIComponent(o(I).trim())}?room=\${encodeURIComponent(o(l))}\`),J=await R.json();R.ok?u(x,J,!0):u(x,{error:J.error??"Not found"},!0)}catch{u(x,{error:"Lookup failed"},!0)}}async function se(){try{let R=await fetch(\`/api/songs/popular?limit=20&room=\${encodeURIComponent(o(l))}\`),J=await R.json();R.ok&&J.songs&&(u(A,J.songs,!0),u(F,!0))}catch{u(A,[],!0)}}var ce=Ce(),Qe=X(ce);{var Ve=R=>{var J=Mh();_(R,J)},pe=R=>{var J=Ce(),Ee=X(J);{var L=he=>{var _e=Ah(),ze=f(_e),Je=g(f(ze),2);{var Me=qe=>{var nt=Oh(),ft=f(nt);d(nt),U(()=>M(ft,\`Room: \${o(l)??""}\`)),_(qe,nt)};O(Je,qe=>{o(l)!=="default"&&qe(Me)})}d(ze);var it=g(ze,2),St=f(it),De=g(f(St),2);ot(De),De.__keydown=Q,d(St);var we=g(St,2);we.__click=Y;var et=f(we,!0);d(we);var tt=g(we,2);{var yt=qe=>{var nt=qh(),ft=f(nt,!0);d(nt),U(()=>M(ft,o(r))),_(qe,nt)};O(tt,qe=>{o(r)&&qe(yt)})}d(it),d(_e),U(()=>{De.disabled=o(i),we.disabled=o(i)||o(s).length!==6,M(et,o(i)?"Verifying...":"Login")}),gt(De,()=>o(s),qe=>u(s,qe)),_(he,_e)},K=he=>{var _e=rm(),ze=f(_e),Je=g(f(ze),2),Me=f(Je);{var it=ee=>{var be=pr();U(()=>M(be,\`Room: \${o(l)??""}\`)),_(ee,be)},St=ee=>{var be=pr("Manage the karaoke queue");_(ee,be)};O(Me,ee=>{o(l)!=="default"?ee(it):ee(St,!1)})}d(Je);var De=g(Je,2);De.__click=Z,d(ze);var we=g(ze,2);{var et=ee=>{var be=Rh(),lt=f(be),Ye=g(f(lt),2);let xe;var Ie=f(Ye,!0);d(Ye),d(lt);var je=g(lt,2);je.__click=ue;var pt=f(je,!0);d(je),d(be),U(()=>{xe=We(Ye,1,"mode-badge svelte-ghvl9i",null,xe,{jukebox:o(v).mode==="jukebox",karaoke:o(v).mode==="karaoke"}),M(Ie,o(v).mode==="jukebox"?"\\u{1F3B5} Jukebox":"\\u{1F3A4} Karaoke"),je.disabled=o(p),M(pt,o(p)?"Switching...":\`Switch to \${o(v).mode==="jukebox"?"Karaoke":"Jukebox"}\`)}),_(ee,be)};O(we,ee=>{o(v)&&ee(et)})}var tt=g(we,2),yt=f(tt);{var qe=ee=>{var be=zh(),lt=X(be),Ye=g(f(lt),2),xe=f(Ye);d(Ye),d(lt);var Ie=g(lt,2),je=f(Ie),pt=f(je,!0);d(je);var ct=g(je,2),Pt=f(ct,!0);d(ct),d(Ie);var \$t=g(Ie,2),Ht=f(\$t);Ht.__click=j,d(\$t),U(()=>{M(xe,\`Epoch: \${o(c).currentEpoch??""}\`),M(pt,o(c).nowPlaying.title),M(Pt,o(c).nowPlaying.name)}),_(ee,be)},nt=ee=>{var be=Lh();_(ee,be)};O(yt,ee=>{o(c).nowPlaying?ee(qe):ee(nt,!1)})}d(tt);var ft=g(tt,2),Yt=g(f(ft),2),Kt=f(Yt);ot(Kt);var an=g(Kt,2),da=f(an);ot(da);var fa=g(da,2);fa.__click=V,d(an);var Ea=g(an,2);{var Oo=ee=>{var be=Uh();_(ee,be)},qo=ee=>{var be=Ce(),lt=X(be);{var Ye=xe=>{var Ie=Dh();rt(Ie,21,()=>o(k),je=>je.id,(je,pt)=>{var ct=Wh();let Pt;ct.__click=()=>H(o(pt));var \$t=f(ct),Ht=g(\$t,2),Xt=f(Ht),\$n=f(Xt,!0);d(Xt);var Cn=g(Xt,2),sn=f(Cn);d(Cn),d(Ht),d(ct),U(()=>{Pt=We(ct,1,"search-result svelte-ghvl9i",null,Pt,{selected:o(P)===o(pt).id}),It(\$t,"src",o(pt).thumbnail),M(\$n,o(pt).title),M(sn,\`\${o(pt).channel??""} \\xB7 \${o(pt).duration??""}\`)}),_(je,ct)}),d(Ie),_(xe,Ie)};O(lt,xe=>{o(k).length>0&&xe(Ye)},!0)}_(ee,be)};O(Ea,ee=>{o(C)?ee(Oo):ee(qo,!1)})}var q=g(Ea,2);ot(q);var B=g(q,2);ot(B);var oe=g(B,2);oe.__click=ie,d(Yt),d(ft);var Te=g(ft,2),Se=f(Te),Ne=g(f(Se),2),Ge=f(Ne);d(Ne),d(Se);var Le=g(Se,2);{var xt=ee=>{var be=Fh();_(ee,be)},Gn=ee=>{var be=Gh();rt(be,23,()=>o(c).queue,lt=>lt.id,(lt,Ye,xe)=>{var Ie=Jh(),je=f(Ie),pt=f(je,!0);d(je);var ct=g(je,2),Pt=f(ct),\$t=f(Pt,!0);d(Pt);var Ht=g(Pt,2),Xt=f(Ht),\$n=f(Xt,!0);d(Xt);var Cn=g(Xt,2),sn=f(Cn);d(Cn);var Yn=g(Cn,2),yn=f(Yn);d(Yn),d(Ht),d(ct);var Ia=g(ct,2),os=f(Ia);{var Tn=jt=>{var Nn=Bh();Nn.__click=()=>te(o(Ye).id),_(jt,Nn)};O(os,jt=>{o(xe)>0&&jt(Tn)})}var Kn=g(os,2);{var En=jt=>{var Nn=Vh();Nn.__click=()=>G(o(Ye).id),_(jt,Nn)};O(Kn,jt=>{o(xe)<o(c).queue.length-1&&jt(En)})}var rn=g(Kn,2);rn.__click=()=>re(o(Ye).id),d(Ia),d(Ie),U(()=>{M(pt,o(xe)+1),M(\$t,o(Ye).title),M(\$n,o(Ye).name),M(sn,\`Epoch: \${o(Ye).epoch??""}\`),M(yn,\`Votes: \${o(Ye).votes??""}\`)}),_(lt,Ie)}),d(be),_(ee,be)};O(Le,ee=>{o(c).queue.length===0?ee(xt):ee(Gn,!1)})}d(Te);var pa=g(Te,2),Na=f(pa);Na.__click=le;var Ao=g(f(Na),2);let Ns;d(Na);var Ro=g(Na,2);{var zo=ee=>{var be=sm(),lt=f(be),Ye=f(lt);let xe;Ye.__click=()=>me("singer");var Ie=g(Ye,2);let je;Ie.__click=()=>me("popular"),d(lt);var pt=g(lt,2);{var ct=\$t=>{var Ht=em(),Xt=X(Ht),\$n=f(Xt);ot(\$n);var Cn=g(\$n,2);Cn.__click=ae,d(Xt);var sn=g(Xt,2);{var Yn=yn=>{var Ia=Ce(),os=X(Ia);{var Tn=En=>{var rn=Yh(),jt=f(rn,!0);d(rn),U(()=>M(jt,o(x).error)),_(En,rn)},Kn=En=>{var rn=Ce(),jt=X(rn);{var Nn=wn=>{var In=Kh();_(wn,In)},Is=wn=>{var In=Qh(),js=X(In),is=f(js),ls=f(is),Lo=f(ls,!0);d(ls),at(),d(is);var cs=g(is,2),wr=f(cs),Pv=f(wr,!0);d(wr),at(),d(cs);var Uo=g(cs,2),ll=f(Uo),\$v=f(ll,!0);d(ll),at(),d(Uo);var Cv=g(Uo,2);{var Tv=Hn=>{var jn=Hh();_(Hn,jn)};O(Cv,Hn=>{o(x).claimed&&Hn(Tv)})}d(js);var cl=g(js,2);rt(cl,17,()=>o(x).performances.slice(0,10),Ca,(Hn,jn)=>{var Ms=Xh(),Wo=f(Ms),Iv=f(Wo,!0);d(Wo);var ul=g(Wo,2),jv=f(ul);d(ul),d(Ms),U(Mv=>{M(Iv,o(jn).title),M(jv,\`\${o(jn).votes>0?"+":""}\${o(jn).votes??""} votes \\xB7 \${Mv??""}\`)},[()=>new Date(o(jn).performedAt).toLocaleDateString()]),_(Hn,Ms)});var Ev=g(cl,2);{var Nv=Hn=>{var jn=Zh(),Ms=f(jn);d(jn),U(()=>M(Ms,\`...and \${o(x).performances.length-10} more\`)),_(Hn,jn)};O(Ev,Hn=>{o(x).performances.length>10&&Hn(Nv)})}U(()=>{M(Lo,o(x).totalSongs),M(Pv,o(x).completedSongs),M(\$v,o(x).totalVotes)}),_(wn,In)};O(jt,wn=>{var In;((In=o(x).performances)==null?void 0:In.length)===0?wn(Nn):wn(Is,!1)},!0)}_(En,rn)};O(os,En=>{o(x).error?En(Tn):En(Kn,!1)})}_(yn,Ia)};O(sn,yn=>{o(x)&&yn(Yn)})}xn("keypress",\$n,yn=>yn.key==="Enter"&&ae()),gt(\$n,()=>o(I),yn=>u(I,yn)),_(\$t,Ht)},Pt=\$t=>{var Ht=Ce(),Xt=X(Ht);{var \$n=sn=>{var Yn=tm();_(sn,Yn)},Cn=sn=>{var Yn=Ce(),yn=X(Yn);{var Ia=Tn=>{var Kn=nm();_(Tn,Kn)},os=Tn=>{var Kn=Ce(),En=X(Kn);rt(En,19,()=>o(A),rn=>rn.videoId,(rn,jt,Nn)=>{var Is=am(),wn=f(Is);let In;var js=f(wn,!0);d(wn);var is=g(wn,2),ls=f(is),Lo=f(ls,!0);d(ls);var cs=g(ls,2),wr=f(cs);d(cs),d(is),d(Is),U(()=>{In=We(wn,1,"popular-rank svelte-ghvl9i",null,In,{top:o(Nn)<3}),M(js,o(Nn)+1),M(Lo,o(jt).title),M(wr,\`\${o(jt).timesPlayed??""} plays \\xB7 \${o(jt).totalVotes??""} votes\`)}),_(rn,Is)}),_(Tn,Kn)};O(yn,Tn=>{o(A).length===0?Tn(Ia):Tn(os,!1)},!0)}_(sn,Yn)};O(Xt,sn=>{o(F)?sn(Cn,!1):sn(\$n)})}_(\$t,Ht)};O(pt,\$t=>{o(S)==="singer"?\$t(ct):\$t(Pt,!1)})}d(be),U(()=>{xe=We(Ye,1,"history-tab svelte-ghvl9i",null,xe,{active:o(S)==="singer"}),je=We(Ie,1,"history-tab svelte-ghvl9i",null,je,{active:o(S)==="popular"})}),_(ee,be)};O(Ro,ee=>{o(N)&&ee(zo)})}d(pa),d(_e),U(()=>{fa.disabled=o(C),M(Ge,\`\${o(c).queue.length??""} entries\`),Ns=We(Ao,1,"history-toggle svelte-ghvl9i",null,Ns,{expanded:o(N)})}),gt(Kt,()=>o(y),ee=>u(y,ee)),xn("keypress",da,ee=>ee.key==="Enter"&&V()),gt(da,()=>o(w),ee=>u(w,ee)),gt(q,()=>o(h),ee=>u(h,ee)),gt(B,()=>o(m),ee=>u(m,ee)),_(he,_e)};O(Ee,he=>{o(n)?he(K,!1):he(L)},!0)}_(R,J)};O(Qe,R=>{o(a)?R(pe,!1):R(Ve)})}_(e,ce),Re()}var Mh,Oh,qh,Ah,Rh,zh,Lh,Uh,Wh,Dh,Fh,Bh,Vh,Jh,Gh,Yh,Kh,Hh,Xh,Zh,Qh,em,tm,nm,am,sm,rm,nl=Oe(()=>{"use strict";Wt();gs();Xe();ns();ss();Ts();Cs();gn();No();Xi();Mh=\$('<div class="container admin-container svelte-ghvl9i"><div class="loading svelte-ghvl9i">Loading...</div></div>'),Oh=\$('<p class="subtitle svelte-ghvl9i"> </p>'),qh=\$('<div class="error-msg svelte-ghvl9i"> </div>'),Ah=\$('<div class="container admin-container svelte-ghvl9i"><header class="svelte-ghvl9i"><h1 class="svelte-ghvl9i">Admin Login</h1> <!></header> <div class="login-card svelte-ghvl9i"><div class="input-group svelte-ghvl9i"><label class="input-label svelte-ghvl9i" for="pinInput">Enter admin PIN</label> <input type="password" id="pinInput" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000"/></div> <button class="btn"> </button> <!></div></div>'),Rh=\$('<div class="mode-card svelte-ghvl9i"><div class="mode-info svelte-ghvl9i"><span class="mode-label svelte-ghvl9i">Queue Mode</span> <span> </span></div> <button class="btn btn-mode svelte-ghvl9i"> </button></div>'),zh=\$('<div class="now-playing-header svelte-ghvl9i"><span class="now-playing-label svelte-ghvl9i">Now Playing</span> <span class="epoch-badge svelte-ghvl9i"> </span></div> <div class="now-playing-info svelte-ghvl9i"><div class="now-playing-title svelte-ghvl9i"> </div> <div class="now-playing-singer svelte-ghvl9i"> </div></div> <div class="now-playing-controls svelte-ghvl9i"><button class="btn btn-warning">Skip Song</button></div>',1),Lh=\$('<div class="now-playing-empty svelte-ghvl9i">Nothing playing</div>'),Uh=\$('<div class="searching svelte-ghvl9i">Searching...</div>'),Wh=\$('<button><img class="result-thumb svelte-ghvl9i" alt=""/> <div class="result-info svelte-ghvl9i"><div class="result-title svelte-ghvl9i"> </div> <div class="result-meta svelte-ghvl9i"> </div></div></button>'),Dh=\$('<div class="search-results svelte-ghvl9i"></div>'),Fh=\$('<div class="empty-state svelte-ghvl9i">Queue is empty</div>'),Bh=\$('<button class="action-btn svelte-ghvl9i" title="Move up">^</button>'),Vh=\$('<button class="action-btn svelte-ghvl9i" title="Move down">v</button>'),Jh=\$('<li class="queue-item svelte-ghvl9i"><span class="position svelte-ghvl9i"> </span> <div class="queue-info svelte-ghvl9i"><div class="queue-song svelte-ghvl9i"> </div> <div class="queue-meta svelte-ghvl9i"><span> </span> <span> </span> <span> </span></div></div> <div class="queue-actions svelte-ghvl9i"><!> <!> <button class="action-btn danger svelte-ghvl9i" title="Remove">x</button></div></li>'),Gh=\$('<ul class="queue-list svelte-ghvl9i"></ul>'),Yh=\$('<div class="searching svelte-ghvl9i"> </div>'),Kh=\$('<div class="searching svelte-ghvl9i">No history for this singer</div>'),Hh=\$('<span class="claimed-badge svelte-ghvl9i">claimed</span>'),Xh=\$('<div class="history-item svelte-ghvl9i"><span class="history-item-title svelte-ghvl9i"> </span> <span class="history-item-meta svelte-ghvl9i"> </span></div>'),Zh=\$('<div class="searching svelte-ghvl9i"> </div>'),Qh=\$('<div class="stats-row svelte-ghvl9i"><span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> songs</span> <span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> completed</span> <span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> total votes</span> <!></div> <!> <!>',1),em=\$('<div class="lookup-row svelte-ghvl9i"><input type="text" placeholder="Singer name..."/> <button class="btn btn-cyan lookup-btn svelte-ghvl9i">Lookup</button></div> <!>',1),tm=\$('<div class="searching svelte-ghvl9i">Loading popular songs...</div>'),nm=\$('<div class="searching svelte-ghvl9i">No songs recorded yet</div>'),am=\$('<div class="popular-item svelte-ghvl9i"><span> </span> <div class="popular-info svelte-ghvl9i"><div class="popular-title svelte-ghvl9i"> </div> <div class="popular-stats svelte-ghvl9i"> </div></div></div>'),sm=\$('<div class="history-content svelte-ghvl9i"><div class="history-tabs svelte-ghvl9i"><button>Singer Lookup</button> <button>Popular Songs</button></div> <!></div>'),rm=\$('<div class="container admin-container svelte-ghvl9i"><header class="svelte-ghvl9i"><h1 class="svelte-ghvl9i">Admin Control</h1> <p class="subtitle svelte-ghvl9i"><!></p> <button class="logout-btn svelte-ghvl9i">Logout</button></header> <!> <div class="now-playing-card svelte-ghvl9i"><!></div> <div class="add-card svelte-ghvl9i"><div class="add-header svelte-ghvl9i">Add Entry (Plays Next)</div> <div class="add-form svelte-ghvl9i"><input type="text" placeholder="Singer name" maxlength="30"/> <div class="search-row svelte-ghvl9i"><input type="text" placeholder="Search for a song..."/> <button class="btn btn-cyan search-btn svelte-ghvl9i">Search</button></div> <!> <input type="text" placeholder="YouTube URL (or select from search)"/> <input type="text" placeholder="Song title" maxlength="100"/> <button class="btn btn-cyan">Add to Front</button></div></div> <div class="queue-section svelte-ghvl9i"><div class="section-header svelte-ghvl9i"><span class="section-title svelte-ghvl9i">Queue</span> <span class="queue-count svelte-ghvl9i"> </span></div> <!></div> <div class="history-section svelte-ghvl9i"><button class="history-header svelte-ghvl9i"><span class="section-title svelte-ghvl9i">History & Stats</span> <span>\\u25BC</span></button> <!></div></div>');mt(["keydown","click"])});var cv={};Mn(cv,{component:()=>lm,universal:()=>im});function lm(e){jo(e,{})}var om,im,uv=Oe(()=>{"use strict";Wt();gn();nl();om=!1,im=Object.freeze(Object.defineProperty({__proto__:null,prerender:om},Symbol.toStringTag,{value:"Module"}))});function Mo(e,t){Ae(t,!0);let n=7e3,a=200,s=1e4,r=T(Pe({queue:[],nowPlaying:null,currentEpoch:0})),i=T(!1),l=T(""),c=null,v=T(!1),p=null,y=!1,h=T("idle_screen"),m=null,w=T(0),k=null,C=null,P=null,N=Es(),S=null,I=null,x=null,A=Fe(()=>o(r).queue.slice(0,5)),F=Fe(()=>\`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=\${encodeURIComponent(\`https://karaoke-queue.boris-47d.workers.dev/\${o(l)}\`)}&bgcolor=0a0a0f&color=ffffff\`);en(()=>{if(u(l,Ze(),!0),N.onState((L,K)=>{u(i,!0),Y(L),K&&D(K,N.getServerTimeOffset()),P&&(clearInterval(P),P=null)}),N.onSync((L,K)=>{D(L,K)}),N.connect("player"),setTimeout(()=>{o(i)||z()},2e3),typeof window<"u")if(window.onYouTubeIframeAPIReady=Z,window.YT)window.YT.Player&&Z();else{let L=document.createElement("script");L.src="https://www.youtube.com/iframe_api",document.head.appendChild(L)}b(),typeof document<"u"&&document.addEventListener("visibilitychange",E)}),ms(()=>{N.disconnect(),P&&clearInterval(P),m&&clearTimeout(m),k&&clearInterval(k),I&&clearInterval(I),typeof document<"u"&&document.removeEventListener("visibilitychange",E)});function z(){P=setInterval(async()=>{if(!o(i)){let L=await To();L&&Y(L)}},2e3)}function b(){I&&clearInterval(I),I=setInterval(()=>{o(i)&&o(h)==="playing_song"&&x!=null&&x.playing&&N.requestSync()},s)}function E(){document.visibilityState==="visible"&&o(i)&&N.requestSync()}function D(L,K){if(x=L,!L.playing||!L.videoId||!c||!o(v)||p!==L.videoId)return;let he=(Date.now()+K-L.startedAt)/1e3,_e=L.position+he,ze=c.getCurrentTime()-_e,Je=Math.abs(ze*1e3);if(Je>a){console.log(\`[Sync] Drift detected: \${ze.toFixed(2)}s (\${Je.toFixed(0)}ms), seeking to \${_e.toFixed(2)}s\`),c.seekTo(_e,!0);let Me=c.getPlayerState();Me!==YT.PlayerState.PLAYING&&Me!==YT.PlayerState.BUFFERING&&c.playVideo()}}function Y(L){let K=S;if(S=L.nowPlaying,u(r,L,!0),!o(r).nowPlaying&&o(r).queue.length>0&&!y){ie();return}if(o(r).nowPlaying){let he=K?.id??null;o(r).nowPlaying.id!==he&&Q(o(r).nowPlaying)}else!o(r).nowPlaying&&o(r).queue.length===0&&o(h)!=="idle_screen"&&(H(),u(h,"idle_screen"),c?.pauseVideo())}function Z(){window.YT&&(c=new window.YT.Player("yt-player",{width:"100%",height:"100%",playerVars:{autoplay:0,controls:1,modestbranding:1,rel:0,fs:1,playsinline:1},events:{onReady:()=>{u(v,!0),o(r).nowPlaying?Q(o(r).nowPlaying):o(r).queue.length>0?ie():u(h,"idle_screen")},onStateChange:L=>{L.data===YT.PlayerState.PLAYING&&(C=null,o(h)==="needs_interaction"&&u(h,"playing_song")),L.data===YT.PlayerState.ENDED&&o(h)==="playing_song"&&V()},onError:L=>{console.error("YouTube player error:",L.data),o(h)==="playing_song"&&V()}}}))}function Q(L){!L||!o(v)||!L.videoId||(H(),p=L.videoId,C=L,u(h,"playing_song"),c?.loadVideoById(L.videoId),setTimeout(()=>{if(c&&C){let K=c.getPlayerState();(K===-1||K===5)&&u(h,"needs_interaction")}},1e3))}function j(){C&&c?(c.playVideo(),u(h,"playing_song"),C=null):o(r).nowPlaying&&Q(o(r).nowPlaying)}function V(){H(),u(h,"pause_screen"),c?.pauseVideo(),u(w,Math.ceil(n/1e3),!0),k=setInterval(()=>{nc(w,-1),o(w)<=0&&(H(),ie())},1e3),m=setTimeout(()=>{ie()},n+500)}function H(){m&&(clearTimeout(m),m=null),k&&(clearInterval(k),k=null)}async function ie(){var L;if(!y){y=!0,H();try{let K=((L=o(r).nowPlaying)==null?void 0:L.id)??null,he=o(l)?\`?room=\${encodeURIComponent(o(l))}\`:"";await fetch(\`/api/next\${he}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentId:K})})}catch(K){console.error("Failed to advance:",K),u(h,"idle_screen")}finally{y=!1}}}function re(){return o(i)?{class:"connected",text:"Live"}:P?{class:"polling",text:"Polling"}:{class:"disconnected",text:"Connecting..."}}let te=Fe(re);var G=bm(),ue=f(G),le=f(ue,!0);d(ue);var me=g(ue,2);let ae;var se=g(me,2);{var ce=L=>{var K=fm(),he=f(K),_e=f(he);{var ze=we=>{var et=cm(),tt=g(X(et),2),yt=f(tt,!0);d(tt);var qe=g(tt,2),nt=f(qe,!0);d(qe);var ft=g(qe,2),Yt=f(ft,!0);d(ft),U(()=>{var Kt,an;M(yt,(Kt=o(r).queue[0])==null?void 0:Kt.name),M(nt,(an=o(r).queue[0])==null?void 0:an.title),M(Yt,o(w))}),_(we,et)},Je=we=>{var et=um();_(we,et)};O(_e,we=>{o(r).queue.length>0?we(ze):we(Je,!1)})}d(he);var Me=g(he,2);{var it=we=>{var et=dm(),tt=g(f(et),2);rt(tt,19,()=>o(r).queue.slice(1,4),yt=>yt.id,(yt,qe,nt)=>{var ft=vm(),Yt=f(ft),Kt=f(Yt,!0);d(Yt);var an=g(Yt,2),da=f(an,!0);d(an);var fa=g(an,2),Ea=f(fa,!0);d(fa),d(ft),U(()=>{M(Kt,o(nt)+2),M(da,o(qe).name),M(Ea,o(qe).title)}),_(yt,ft)}),d(et),_(we,et)};O(Me,we=>{o(r).queue.length>1&&we(it)})}var St=g(Me,2),De=f(St);at(2),d(St),d(K),U(()=>It(De,"src",o(F))),_(L,K)};O(se,L=>{o(h)==="pause_screen"&&L(ce)})}var Qe=g(se,2);{var Ve=L=>{var K=hm();K.__click=j;var he=f(K),_e=g(f(he),4);{var ze=Je=>{var Me=pm(),it=X(Me),St=f(it,!0);d(it);var De=g(it,2),we=f(De,!0);d(De),U(()=>{M(St,o(r).nowPlaying.title),M(we,o(r).nowPlaying.name)}),_(Je,Me)};O(_e,Je=>{o(r).nowPlaying&&Je(ze)})}d(he),d(K),_(L,K)};O(Qe,L=>{o(h)==="needs_interaction"&&L(Ve)})}var pe=g(Qe,2);{var R=L=>{var K=mm(),he=f(K),_e=g(f(he),2),ze=f(_e,!0);d(_e);var Je=g(_e,2);at(2),d(he),at(2),d(K),U(()=>{M(ze,o(l)||"default"),It(Je,"src",o(F))}),_(L,K)};O(pe,L=>{o(h)==="idle_screen"&&L(R)})}var J=g(pe,2);{var Ee=L=>{var K=km(),he=f(K);{var _e=De=>{var we=gm(),et=g(f(we),2),tt=f(et,!0);d(et);var yt=g(et,2),qe=f(yt,!0);d(yt),d(we),U(()=>{M(tt,o(r).nowPlaying.title),M(qe,o(r).nowPlaying.name)}),_(De,we)};O(he,De=>{o(r).nowPlaying&&De(_e)})}var ze=g(he,2),Je=g(f(ze),2),Me=f(Je);{var it=De=>{var we=ym();_(De,we)},St=De=>{var we=Ce(),et=X(we);rt(et,17,()=>o(A).slice(0,3),tt=>tt.id,(tt,yt)=>{var qe=wm(),nt=f(qe),ft=f(nt,!0);d(nt);var Yt=g(nt,2),Kt=f(Yt,!0);d(Yt),d(qe),U(()=>{M(ft,o(yt).title),M(Kt,o(yt).name)}),_(tt,qe)}),_(De,we)};O(Me,De=>{o(A).length===0?De(it):De(St,!1)})}d(Je),d(ze),d(K),_(L,K)};O(J,L=>{o(h)==="playing_song"&&L(Ee)})}d(G),U(()=>{We(ue,1,\`connection-status \${o(te).class??""}\`,"svelte-1wtekok"),M(le,o(te).text),ae=We(me,1,"video-wrapper svelte-1wtekok",null,ae,{hidden:o(h)!=="playing_song"})}),_(e,G),Re()}var cm,um,vm,dm,fm,pm,hm,mm,gm,ym,wm,km,bm,al=Oe(()=>{"use strict";Wt();gs();Xe();ns();ss();Ts();Cs();gn();No();cm=\$('<div class="up-next-label svelte-1wtekok">UP NEXT</div> <div class="next-singer svelte-1wtekok"> </div> <div class="next-song svelte-1wtekok"> </div> <div class="countdown svelte-1wtekok"> </div>',1),um=\$('<div class="waiting-message svelte-1wtekok">Queue empty</div>'),vm=\$('<div class="queue-item svelte-1wtekok"><span class="queue-position svelte-1wtekok"> </span> <span class="queue-name svelte-1wtekok"> </span> <span class="queue-song svelte-1wtekok"> </span></div>'),dm=\$('<div class="queue-preview svelte-1wtekok"><div class="queue-label svelte-1wtekok">Coming up</div> <!></div>'),fm=\$('<div class="overlay pause-overlay svelte-1wtekok"><div class="pause-content svelte-1wtekok"><!></div> <!> <div class="qr-section svelte-1wtekok"><img alt="Join queue" class="qr-code svelte-1wtekok"/> <div class="qr-hint svelte-1wtekok">Scan to add songs</div></div></div>'),pm=\$('<div class="start-song svelte-1wtekok"> </div> <div class="start-singer svelte-1wtekok"> </div>',1),hm=\$('<button class="overlay start-overlay svelte-1wtekok"><div class="start-content svelte-1wtekok"><div class="start-icon svelte-1wtekok">\\u25B6</div> <div class="start-title svelte-1wtekok">Click to Start</div> <!></div></button>'),mm=\$('<div class="overlay idle-overlay svelte-1wtekok"><div class="idle-content svelte-1wtekok"><div class="idle-title svelte-1wtekok">Karaoke Night</div> <div class="idle-subtitle svelte-1wtekok"> </div> <img alt="Join queue" class="qr-code qr-large svelte-1wtekok"/> <div class="idle-cta svelte-1wtekok">Scan to add your song</div></div> <div class="idle-decoration svelte-1wtekok"><div class="note note-1 svelte-1wtekok">\\u266A</div> <div class="note note-2 svelte-1wtekok">\\u266B</div> <div class="note note-3 svelte-1wtekok">\\u266A</div></div></div>'),gm=\$('<div class="now-playing svelte-1wtekok"><span class="now-label svelte-1wtekok">Now Playing</span> <span class="now-title svelte-1wtekok"> </span> <span class="now-singer svelte-1wtekok"> </span></div>'),ym=\$('<span class="empty-queue svelte-1wtekok">Queue empty</span>'),wm=\$('<div class="up-next-item svelte-1wtekok"><div class="up-next-song svelte-1wtekok"> </div> <div class="up-next-singer svelte-1wtekok"> </div></div>'),km=\$('<div class="info-bar svelte-1wtekok"><!> <div class="up-next-bar svelte-1wtekok"><span class="up-next-bar-label svelte-1wtekok">Up Next</span> <div class="up-next-list svelte-1wtekok"><!></div></div></div>'),bm=\$('<div class="player-container svelte-1wtekok"><div> </div> <div><div id="yt-player" class="svelte-1wtekok"></div></div> <!> <!> <!> <!></div>');mt(["click"])});var vv={};Mn(vv,{component:()=>xm,universal:()=>Sm});function xm(e){Mo(e,{})}var _m,Sm,dv=Oe(()=>{"use strict";Wt();gn();al();_m=!1,Sm=Object.freeze(Object.defineProperty({__proto__:null,prerender:_m},Symbol.toStringTag,{value:"Module"}))});var fv={};Mn(fv,{component:()=>Pm});function Pm(e){jo(e,{})}var pv=Oe(()=>{"use strict";Wt();gn();nl()});var hv={};Mn(hv,{component:()=>\$m});function \$m(e){Io(e,{})}var mv=Oe(()=>{"use strict";Wt();gn();tl()});var gv={};Mn(gv,{component:()=>Cm});function Cm(e){Mo(e,{})}var yv=Oe(()=>{"use strict";Wt();gn();al()});co();var il={};Mn(il,{decode:()=>Wm,decoders:()=>xv,dictionary:()=>zm,encoders:()=>Lm,hash:()=>Um,hooks:()=>ol,matchers:()=>Im,nodes:()=>Am,root:()=>qm,server_loads:()=>Rm});Xe();Wt();gs();ns();go();Di();wo();var Jn=(e,t=Jn,n=t.f||(t.f=["../nodes/0.bOAmaDQ9.js","../chunks/Bg5Di-iY.js","../chunks/DHesZRi3.js","../chunks/BGBYv-fX.js","../chunks/CPr-PjE8.js","../chunks/CJ2X-NjW.js","../chunks/8Opq6FJK.js","../assets/Toast.ZHkq0Nfk.css","../chunks/E0xtbzUE.js","../assets/0.YFu_edt7.css","../nodes/1.CSjw02Zb.js","../chunks/BfnZPIa5.js","../chunks/BFVnw1VR.js","../nodes/2.L7ZuMa3P.js","../chunks/Cvutac-B.js","../chunks/C_lu6nO8.js","../assets/2.tpnNDXOo.css","../nodes/3.EhQTtvaC.js","../chunks/CkUH9FBX.js","../chunks/CkGqM_TO.js","../chunks/Dff2zduk.js","../chunks/B8CFGBk0.js","../assets/ws.D8F-giNX.css","../chunks/BZsqpf_9.js","../assets/GuestView.BX9E5RPr.css","../nodes/4.Dz62m9ol.js","../chunks/Coc-GlY6.js","../assets/AdminView.DWuJ-GbP.css","../nodes/5.WZJOiyev.js","../chunks/CZq3UO5j.js","../assets/PlayerView.Cc-jmMKd.css","../nodes/6.WfW8NG9X.js","../nodes/7.CMKXD1aI.js","../nodes/8.CJYgEBty.js"]))=>e.map(a=>n[a]),_v=e=>{throw TypeError(e)},Sv=(e,t,n)=>t.has(e)||_v("Cannot "+n),nn=(e,t,n)=>(Sv(e,t,"read from private field"),n?n.call(e):t.get(e)),wv=(e,t,n)=>t.has(e)?_v("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),kv=(e,t,n,a)=>(Sv(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n);function sl(e,t,n){ne&&ta();var a=new Pa(e);vn(()=>{var s=t()??null;a.ensure(s,s&&(r=>n(r,s)))},Vt)}function Tm(e){return class extends rl{constructor(t){super({component:e,...t})}}}var Ta,Pn,rl=class{constructor(t){wv(this,Ta),wv(this,Pn);var n,a=new Map,s=(i,l)=>{var c=Mr(l,!1,!1);return a.set(i,c),c};let r=new Proxy({...t.props||{},\$\$events:{}},{get(i,l){return o(a.get(l)??s(l,Reflect.get(i,l)))},has(i,l){return l===Nr?!0:(o(a.get(l)??s(l,Reflect.get(i,l))),Reflect.has(i,l))},set(i,l,c){return u(a.get(l)??s(l,c),c),Reflect.set(i,l,c)}});kv(this,Pn,(t.hydrate?fu:Ui)(t.component,{target:t.target,anchor:t.anchor,props:r,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((n=t?.props)!=null&&n.\$\$host)||t.sync===!1)&&ri(),kv(this,Ta,r.\$\$events);for(let i of Object.keys(nn(this,Pn)))i==="\$set"||i==="\$destroy"||i==="\$on"||Pr(this,i,{get(){return nn(this,Pn)[i]},set(l){nn(this,Pn)[i]=l},enumerable:!0});nn(this,Pn).\$set=i=>{Object.assign(r,i)},nn(this,Pn).\$destroy=()=>{hu(nn(this,Pn))}}\$set(t){nn(this,Pn).\$set(t)}\$on(t,n){nn(this,Ta)[t]=nn(this,Ta)[t]||[];let a=(...s)=>n.call(this,...s);return nn(this,Ta)[t].push(a),()=>{nn(this,Ta)[t]=nn(this,Ta)[t].filter(s=>s!==a)}}\$destroy(){nn(this,Pn).\$destroy()}};Ta=new WeakMap,Pn=new WeakMap;var Em="modulepreload",Nm=function(e,t){return new URL(e,t).href},bv={},va=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let r=function(v){return Promise.all(v.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))},i=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=r(t.map(v=>{if(v=Nm(v,n),v in bv)return;bv[v]=!0;let p=v.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(n)for(let m=i.length-1;m>=0;m--){let w=i[m];if(w.href===v&&(!p||w.rel==="stylesheet"))return}else if(document.querySelector(\`link[href="\${v}"]\${y}\`))return;let h=document.createElement("link");if(h.rel=p?"stylesheet":Em,p||(h.as="script"),h.crossOrigin="",h.href=v,c&&h.setAttribute("nonce",c),document.head.appendChild(h),p)return new Promise((m,w)=>{h.addEventListener("load",m),h.addEventListener("error",()=>w(new Error(\`Unable to preload CSS for \${v}\`)))})}))}function s(r){let i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r}return a.then(r=>{for(let i of r||[])i.status==="rejected"&&s(i.reason);return e().catch(s)})},Im={},jm=\$('<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"><!></div>'),Mm=\$("<!> <!>",1);function Om(e,t){Ae(t,!0);let n=Nt(t,"components",23,()=>[]),a=Nt(t,"data_0",3,null),s=Nt(t,"data_1",3,null);Rr(()=>t.stores.page.set(t.page)),Rt(()=>{t.stores,t.page,t.constructors,n(),t.form,a(),s(),t.stores.page.notify()});let r=T(!1),i=T(!1),l=T(null);en(()=>{let k=t.stores.page.subscribe(()=>{o(r)&&(u(i,!0),aa().then(()=>{u(l,document.title||"untitled page",!0)}))});return u(r,!0),k});let c=Fe(()=>t.constructors[1]);var v=Mm(),p=X(v);{var y=k=>{let C=Fe(()=>t.constructors[0]);var P=Ce(),N=X(P);sl(N,()=>o(C),(S,I)=>{\$s(I(S,{get data(){return a()},get form(){return t.form},get params(){return t.page.params},children:(x,A)=>{var F=Ce(),z=X(F);sl(z,()=>o(c),(b,E)=>{\$s(E(b,{get data(){return s()},get form(){return t.form},get params(){return t.page.params}}),D=>n()[1]=D,()=>{var D;return(D=n())==null?void 0:D[1]})}),_(x,F)},\$\$slots:{default:!0}}),x=>n()[0]=x,()=>{var x;return(x=n())==null?void 0:x[0]})}),_(k,P)},h=k=>{let C=Fe(()=>t.constructors[0]);var P=Ce(),N=X(P);sl(N,()=>o(C),(S,I)=>{\$s(I(S,{get data(){return a()},get form(){return t.form},get params(){return t.page.params}}),x=>n()[0]=x,()=>{var x;return(x=n())==null?void 0:x[0]})}),_(k,P)};O(p,k=>{t.constructors[1]?k(y):k(h,!1)})}var m=g(p,2);{var w=k=>{var C=jm(),P=f(C);{var N=S=>{var I=pr();U(()=>M(I,o(l))),_(S,I)};O(P,S=>{o(i)&&S(N)})}d(C),_(k,C)};O(m,k=>{o(r)&&k(w)})}_(e,v),Re()}var qm=Tm(Om),Am=[()=>va(()=>Promise.resolve().then(()=>(_u(),bu)),Jn([0,1,2,3,4,5,6,7,8,9]),import.meta.url),()=>va(()=>Promise.resolve().then(()=>(Pu(),xu)),Jn([10,1,2,4,8,11,12]),import.meta.url),()=>va(()=>Promise.resolve().then(()=>(Eu(),Tu)),Jn([13,1,2,14,3,5,15,11,12,16]),import.meta.url),()=>va(()=>Promise.resolve().then(()=>(lv(),iv)),Jn([17,1,2,4,18,12,14,3,15,6,7,19,5,20,21,22,23,24]),import.meta.url),()=>va(()=>Promise.resolve().then(()=>(uv(),cv)),Jn([25,1,2,4,26,12,14,3,5,15,6,7,20,21,22,23,27]),import.meta.url),()=>va(()=>Promise.resolve().then(()=>(dv(),vv)),Jn([28,1,2,4,29,12,14,3,5,15,6,7,20,21,22,30]),import.meta.url),()=>va(()=>Promise.resolve().then(()=>(pv(),fv)),Jn([31,1,2,4,26,12,14,3,5,15,6,7,20,21,22,23,27]),import.meta.url),()=>va(()=>Promise.resolve().then(()=>(mv(),hv)),Jn([32,1,2,4,18,12,14,3,15,6,7,19,5,20,21,22,23,24]),import.meta.url),()=>va(()=>Promise.resolve().then(()=>(yv(),gv)),Jn([33,1,2,4,29,12,14,3,5,15,6,7,20,21,22,30]),import.meta.url)],Rm=[],zm={"/":[2],"/admin":[6],"/guest":[7],"/player":[8],"/[room]":[3],"/[room]/admin":[4],"/[room]/player":[5]},ol={handleError:({error:e})=>{console.error(e)},reroute:()=>{},transport:{}},xv=Object.fromEntries(Object.entries(ol.transport).map(([e,t])=>[e,t.decode])),Lm=Object.fromEntries(Object.entries(ol.transport).map(([e,t])=>[e,t.encode])),Um=!1,Wm=(e,t)=>xv[e](t);var Dm=new URL(".",location).pathname.slice(0,-1);globalThis.__sveltekit_cwkcz9={base:Dm};var Fm=document.querySelector("[data-sveltekit-preload-data]")||document.body.firstElementChild||document.body;Ci(il,Fm);
</script>
</body>
</html>`;
