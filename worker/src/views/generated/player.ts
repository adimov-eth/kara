// Auto-generated by packages/ui/scripts/inline.js
// Do not edit directly

export const PLAYER_HTML = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet" />
  <title>Karaoke Player</title>
  <style>*{margin:0;padding:0;box-sizing:border-box}*{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}*::-webkit-scrollbar{width:6px;height:6px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}*::-webkit-scrollbar-thumb:hover{background:#ffffff4d}*::-webkit-scrollbar-corner{background:transparent}:root{--bg-deep: #0a0a0f;--bg-card: #12121a;--accent: #ff6b9d;--accent-glow: rgba(255, 107, 157, .4);--cyan: #4ecdc4;--cyan-glow: rgba(78, 205, 196, .3);--text: #f0f0f5;--text-muted: #6b6b80;--success: #7bed9f;--warning: #ffa502}html,body{font-family:Outfit,sans-serif;background:var(--bg-deep);color:var(--text);min-height:100vh;min-height:100dvh}body:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 20% 20%,rgba(255,107,157,.08) 0%,transparent 50%),radial-gradient(ellipse at 80% 80%,rgba(78,205,196,.08) 0%,transparent 50%);pointer-events:none;z-index:0}.container{max-width:480px;margin:0 auto;padding:24px 16px;position:relative;z-index:1}.btn{background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);color:#fff;border:none;border-radius:14px;padding:16px 28px;font-size:1rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease;white-space:nowrap;width:100%}.btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px var(--accent-glow)}.btn:active{transform:translateY(0)}.btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-cyan{background:linear-gradient(135deg,var(--cyan) 0%,#45b7aa 100%)}.btn-cyan:hover{box-shadow:0 8px 24px var(--cyan-glow)}.btn-warning{background:linear-gradient(135deg,var(--warning) 0%,#ffb347 100%)}input[type=text],input[type=password]{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:16px 20px;font-size:1rem;font-family:inherit;color:var(--text);outline:none;transition:all .2s ease}input[type=text]:focus,input[type=password]:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input[type=text]::placeholder,input[type=password]::placeholder{color:var(--text-muted)}input[type=text]:disabled,input[type=password]:disabled{opacity:.5;cursor:not-allowed}.card{background:var(--bg-card);border-radius:20px;padding:24px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.spinner{width:32px;height:32px;border:3px solid rgba(255,255,255,.1);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@keyframes slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-8px)}75%{transform:translate(8px)}}@keyframes modalIn{0%{opacity:0;transform:scale(.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}

.landing.svelte-1uha8ag{max-width:400px;padding-top:60px}header.svelte-1uha8ag{text-align:center;margin-bottom:40px}h1.svelte-1uha8ag{font-size:3rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin-bottom:12px}.subtitle.svelte-1uha8ag{color:var(--text-muted);font-size:1rem;font-weight:300}.card.svelte-1uha8ag{background:var(--bg-card);border-radius:24px;padding:32px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.input-group.svelte-1uha8ag{margin-bottom:20px}.input-label.svelte-1uha8ag{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.btn-secondary.svelte-1uha8ag{background:transparent;border:2px solid rgba(255,255,255,.2);margin-top:12px}.btn-secondary.svelte-1uha8ag:hover{background:#ffffff0d;border-color:#ffffff4d}.error-msg.svelte-1uha8ag{color:var(--warning);font-size:.85rem;margin-top:16px;text-align:center}.not-found-msg.svelte-1uha8ag,.create-msg.svelte-1uha8ag{text-align:center;margin-bottom:24px;color:var(--text-muted)}.not-found-msg.svelte-1uha8ag strong:where(.svelte-1uha8ag),.create-msg.svelte-1uha8ag strong:where(.svelte-1uha8ag){color:var(--cyan)}.recent.svelte-1uha8ag{margin-top:32px;padding-top:24px;border-top:1px solid rgba(255,255,255,.1)}.recent-label.svelte-1uha8ag{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:12px}.recent-list.svelte-1uha8ag{display:flex;flex-wrap:wrap;gap:8px}.recent-btn.svelte-1uha8ag{background:#4ecdc41a;border:1px solid rgba(78,205,196,.3);color:var(--cyan);padding:8px 16px;border-radius:20px;font-size:.85rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.recent-btn.svelte-1uha8ag:hover{background:#4ecdc433;border-color:var(--cyan)}.active-rooms.svelte-1uha8ag{margin-top:32px;padding:24px;background:var(--bg-card);border-radius:16px;border:1px solid rgba(255,255,255,.05)}.active-rooms-header.svelte-1uha8ag{display:flex;align-items:center;gap:8px;margin-bottom:16px}.pulse-dot.svelte-1uha8ag{width:8px;height:8px;background:var(--success);border-radius:50%;animation:svelte-1uha8ag-pulse 2s ease-in-out infinite}@keyframes svelte-1uha8ag-pulse{0%,to{opacity:1}50%{opacity:.4}}.active-label.svelte-1uha8ag{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em}.active-loading.svelte-1uha8ag{color:var(--text-muted);font-size:.85rem;text-align:center;padding:12px}.active-list.svelte-1uha8ag{display:flex;flex-direction:column;gap:8px}.active-room-btn.svelte-1uha8ag{display:flex;flex-direction:column;align-items:flex-start;gap:4px;background:#ffffff08;border:1px solid rgba(255,255,255,.08);color:var(--text);padding:12px 16px;border-radius:12px;font-family:inherit;cursor:pointer;transition:all .2s ease;text-align:left;width:100%}.active-room-btn.svelte-1uha8ag:hover{background:#ffffff0f;border-color:#4ecdc44d}.room-name.svelte-1uha8ag{font-weight:600;font-size:1rem;color:var(--cyan)}.room-meta.svelte-1uha8ag{display:flex;flex-wrap:wrap;gap:8px;font-size:.75rem;color:var(--text-muted)}.queue-count.svelte-1uha8ag{background:#4ecdc426;padding:2px 8px;border-radius:8px;color:var(--cyan)}.now-playing.svelte-1uha8ag{opacity:.7;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.last-active.svelte-1uha8ag{opacity:.5}

.admin-container.svelte-ghvl9i{max-width:600px}.loading.svelte-ghvl9i{text-align:center;padding:60px 20px;color:var(--text-muted)}header.svelte-ghvl9i{text-align:center;margin-bottom:32px;position:relative}h1.svelte-ghvl9i{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--warning) 0%,var(--accent) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin-bottom:8px}.subtitle.svelte-ghvl9i{color:var(--text-muted);font-size:.95rem;font-weight:300}.logout-btn.svelte-ghvl9i{position:absolute;top:0;right:0;background:transparent;border:1px solid rgba(255,255,255,.2);color:var(--text-muted);padding:6px 12px;border-radius:8px;font-size:.8rem;font-family:inherit;cursor:pointer;transition:all .2s}.logout-btn.svelte-ghvl9i:hover{border-color:var(--accent);color:var(--accent)}.mode-card.svelte-ghvl9i{display:flex;align-items:center;justify-content:space-between;background:var(--bg-card);border-radius:16px;padding:16px 20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.social-card.svelte-ghvl9i{background:var(--bg-card);border-radius:16px;padding:18px 20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.social-header.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:16px}.social-subtitle.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted)}.social-controls.svelte-ghvl9i{display:flex;flex-direction:column;gap:12px}.toggle-row.svelte-ghvl9i{display:flex;align-items:center;justify-content:space-between;gap:12px}.toggle-label.svelte-ghvl9i{font-size:.9rem;color:var(--text)}.toggle-btn.svelte-ghvl9i{min-width:72px;padding:6px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.15);background:#ffffff0d;color:var(--text-muted);font-size:.8rem;cursor:pointer;transition:all .2s ease}.toggle-btn.active.svelte-ghvl9i{background:#4ecdc433;border-color:#4ecdc466;color:var(--cyan)}.toggle-btn.svelte-ghvl9i:disabled{opacity:.4;cursor:not-allowed}.slider-row.svelte-ghvl9i{display:grid;grid-template-columns:minmax(120px,1fr) 1fr auto;gap:12px;align-items:center}.slider-row.svelte-ghvl9i input[type=range]:where(.svelte-ghvl9i){width:100%}.slider-label.svelte-ghvl9i{font-size:.85rem;color:var(--text-muted)}.slider-hint.svelte-ghvl9i{margin-left:6px;font-size:.7rem;color:#ffffff59}.slider-value.svelte-ghvl9i{font-size:.85rem;color:var(--text);padding-left:8px;min-width:48px;text-align:right}.mode-info.svelte-ghvl9i{display:flex;align-items:center;gap:12px}.mode-label.svelte-ghvl9i{font-size:.85rem;color:var(--text-muted)}.mode-badge.svelte-ghvl9i{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:600}.mode-badge.jukebox.svelte-ghvl9i{background:#4ecdc433;color:var(--cyan);border:1px solid rgba(78,205,196,.3)}.mode-badge.karaoke.svelte-ghvl9i{background:#ff6b9d33;color:var(--accent);border:1px solid rgba(255,107,157,.3)}.btn-mode.svelte-ghvl9i{padding:8px 16px;font-size:.85rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.2);color:var(--text);width:auto}.btn-mode.svelte-ghvl9i:hover:not(:disabled){background:#ffffff1a;border-color:#ffffff4d}.btn-mode.svelte-ghvl9i:disabled{opacity:.5;cursor:not-allowed}.login-card.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:32px;border:1px solid rgba(255,255,255,.05)}.input-group.svelte-ghvl9i{margin-bottom:20px}.input-label.svelte-ghvl9i{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.error-msg.svelte-ghvl9i{color:var(--warning);font-size:.85rem;margin-top:16px;text-align:center}.now-playing-card.svelte-ghvl9i{background:linear-gradient(135deg,#ff6b9d26,#4ecdc41a);border:1px solid rgba(255,107,157,.3);border-radius:20px;padding:20px;margin-bottom:24px}.now-playing-header.svelte-ghvl9i{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.now-playing-label.svelte-ghvl9i{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em}.epoch-badge.svelte-ghvl9i{font-size:.8rem;color:var(--text-muted)}.now-playing-info.svelte-ghvl9i{margin-bottom:16px}.now-playing-title.svelte-ghvl9i{font-size:1.1rem;font-weight:600;margin-bottom:4px}.now-playing-singer.svelte-ghvl9i{color:var(--text-muted);font-size:.9rem}.now-playing-controls.svelte-ghvl9i{display:flex;gap:12px}.now-playing-empty.svelte-ghvl9i{text-align:center;color:var(--text-muted);font-style:italic;padding:20px}.add-card.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.add-header.svelte-ghvl9i{font-size:1rem;font-weight:600;margin-bottom:16px}.add-form.svelte-ghvl9i{display:flex;flex-direction:column;gap:12px}.search-row.svelte-ghvl9i{display:flex;gap:12px}.search-btn.svelte-ghvl9i,.lookup-btn.svelte-ghvl9i{flex-shrink:0;width:auto;padding:12px 16px}.add-buttons.svelte-ghvl9i{display:flex;gap:12px}.add-buttons.svelte-ghvl9i .btn:where(.svelte-ghvl9i){flex:1}.search-results.svelte-ghvl9i{max-height:300px;overflow-y:auto}.search-result.svelte-ghvl9i{display:flex;gap:10px;padding:10px;background:#ffffff08;border:2px solid transparent;border-radius:10px;cursor:pointer;margin-bottom:8px;transition:all .2s ease;width:100%;text-align:left;font-family:inherit;color:inherit}.search-result.svelte-ghvl9i:hover{background:#ffffff0f;border-color:#ffffff1a}.search-result.selected.svelte-ghvl9i{background:#4ecdc426;border-color:var(--cyan)}.result-thumb.svelte-ghvl9i{width:64px;height:36px;border-radius:4px;object-fit:cover;flex-shrink:0}.result-info.svelte-ghvl9i{flex:1;min-width:0}.result-title.svelte-ghvl9i{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.result-meta.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted)}.searching.svelte-ghvl9i{text-align:center;padding:20px;color:var(--text-muted)}.queue-section.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.section-header.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-title.svelte-ghvl9i{font-size:1rem;font-weight:600}.queue-count.svelte-ghvl9i{background:#ffffff1a;padding:4px 12px;border-radius:16px;font-size:.8rem;color:var(--text-muted)}.queue-list.svelte-ghvl9i{list-style:none}.queue-item.svelte-ghvl9i{display:flex;align-items:center;padding:12px;border-radius:12px;margin-bottom:8px;background:#ffffff08;transition:all .2s ease}.queue-item.svelte-ghvl9i:hover{background:#ffffff0f}.position.svelte-ghvl9i{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.85rem;margin-right:12px;background:#ffffff1a;color:var(--text-muted)}.queue-info.svelte-ghvl9i{flex:1;min-width:0}.queue-song.svelte-ghvl9i{font-weight:500;font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.queue-meta.svelte-ghvl9i{font-size:.8rem;color:var(--text-muted);display:flex;gap:12px}.queue-actions.svelte-ghvl9i{display:flex;gap:4px;margin-left:8px}.action-btn.svelte-ghvl9i{background:none;border:none;width:32px;height:32px;border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;color:var(--text-muted);font-size:1rem}.action-btn.svelte-ghvl9i:hover{background:#ffffff1a;color:var(--text)}.action-btn.danger.svelte-ghvl9i:hover{background:#ff6b9d33;color:var(--accent)}.empty-state.svelte-ghvl9i{text-align:center;padding:40px 20px;color:var(--text-muted)}.history-section.svelte-ghvl9i{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.history-header.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;cursor:pointer;width:100%;background:none;border:none;color:inherit;font-family:inherit;padding:0}.history-toggle.svelte-ghvl9i{color:var(--text-muted);font-size:1.2rem;transition:transform .2s}.history-toggle.expanded.svelte-ghvl9i{transform:rotate(180deg)}.history-content.svelte-ghvl9i{margin-top:16px}.history-tabs.svelte-ghvl9i{display:flex;gap:8px;margin-bottom:16px}.history-tab.svelte-ghvl9i{padding:8px 16px;border-radius:8px;background:#ffffff0d;border:none;color:var(--text-muted);cursor:pointer;font-family:inherit;font-size:.85rem;transition:all .2s}.history-tab.svelte-ghvl9i:hover{background:#ffffff1a}.history-tab.active.svelte-ghvl9i{background:#4ecdc433;color:var(--cyan)}.lookup-row.svelte-ghvl9i{display:flex;gap:12px;margin-bottom:16px}.stats-row.svelte-ghvl9i{display:flex;gap:16px;margin-bottom:16px;flex-wrap:wrap}.stat-badge.svelte-ghvl9i{background:#ffffff0d;padding:8px 12px;border-radius:8px;font-size:.8rem}.stat-badge.svelte-ghvl9i strong:where(.svelte-ghvl9i){color:var(--cyan)}.claimed-badge.svelte-ghvl9i{display:inline-block;background:#7bed9f33;color:var(--success);padding:2px 8px;border-radius:4px;font-size:.7rem;font-weight:600;text-transform:uppercase}.history-item.svelte-ghvl9i{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#ffffff08;border-radius:8px;margin-bottom:8px}.history-item-title.svelte-ghvl9i{font-size:.9rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.history-item-meta.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted);margin-left:12px;white-space:nowrap}.popular-item.svelte-ghvl9i{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#ffffff08;border-radius:8px;margin-bottom:8px}.popular-rank.svelte-ghvl9i{width:24px;height:24px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600;background:#ffffff1a;color:var(--text-muted)}.popular-rank.top.svelte-ghvl9i{background:#ffa5024d;color:var(--warning)}.popular-info.svelte-ghvl9i{flex:1;min-width:0}.popular-title.svelte-ghvl9i{font-size:.9rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.popular-stats.svelte-ghvl9i{font-size:.75rem;color:var(--text-muted)}

.popular-section.svelte-m2a9xz{margin-top:24px;margin-bottom:16px}.popular-title.svelte-m2a9xz{font-size:.85rem;color:var(--text-muted);margin-bottom:12px;font-weight:500}.popular-grid.svelte-m2a9xz{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}.popular-item.svelte-m2a9xz{display:flex;flex-direction:column;padding:0;background:#ffffff08;border:2px solid transparent;border-radius:12px;cursor:pointer;transition:all .2s ease;text-align:left;color:inherit;font-family:inherit;overflow:hidden}.popular-item.svelte-m2a9xz:hover{background:#ffffff0f;border-color:#ffffff1a;transform:translateY(-2px)}.popular-thumb-wrapper.svelte-m2a9xz{position:relative;width:100%;aspect-ratio:16 / 9}.popular-thumb.svelte-m2a9xz{width:100%;height:100%;object-fit:cover;background:#0000004d}.play-count.svelte-m2a9xz{position:absolute;bottom:6px;right:6px;background:#4ecdc4e6;color:#000;font-size:.7rem;font-weight:600;padding:2px 6px;border-radius:4px}.popular-info.svelte-m2a9xz{padding:10px}.popular-song-title.svelte-m2a9xz{font-size:.8rem;font-weight:500;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}@media(max-width:480px){.popular-grid.svelte-m2a9xz{grid-template-columns:repeat(2,1fr);gap:8px}.popular-info.svelte-m2a9xz{padding:8px}.popular-song-title.svelte-m2a9xz{font-size:.75rem}}.overlay.svelte-4vowdw{position:fixed;top:0;right:0;bottom:0;left:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:20px;animation:svelte-4vowdw-fadeIn .2s ease}.modal.svelte-4vowdw{background:var(--bg-card);border-radius:24px;padding:32px;max-width:480px;width:100%;max-height:85vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #00000080;animation:svelte-4vowdw-slideUp .3s ease}.close-btn.svelte-4vowdw{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:50%;background:#ffffff1a;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;line-height:1}.close-btn.svelte-4vowdw:hover{background:#fff3;color:var(--text)}h2.svelte-4vowdw{font-size:1.5rem;font-weight:700;margin-bottom:20px;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.category-row.svelte-4vowdw{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}.category-btn.svelte-4vowdw{display:flex;align-items:center;gap:6px;padding:8px 14px;background:#ffffff0d;border:2px solid transparent;border-radius:20px;color:var(--text-muted);font-size:.9rem;cursor:pointer;transition:all .2s ease}.category-btn.svelte-4vowdw:hover{background:#ffffff1a}.category-btn.selected.svelte-4vowdw{border-color:var(--cyan);color:var(--text);background:#00d4ff1a}.cat-icon.svelte-4vowdw{font-size:1rem;font-weight:700}textarea.svelte-4vowdw{width:100%;min-height:120px;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:14px 18px;font-size:1rem;font-family:inherit;color:var(--text);resize:vertical;outline:none;margin-bottom:12px}textarea.svelte-4vowdw:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input[type=text].svelte-4vowdw{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:14px 18px;font-size:1rem;font-family:inherit;color:var(--text);outline:none;margin-bottom:16px}input[type=text].svelte-4vowdw:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}input.svelte-4vowdw::placeholder,textarea.svelte-4vowdw::placeholder{color:var(--text-muted)}.error-msg.svelte-4vowdw{color:var(--warning);font-size:.9rem;text-align:center;margin-bottom:12px}.btn.svelte-4vowdw{width:100%;padding:14px 20px;border-radius:14px;font-size:1rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;color:#fff}.btn.svelte-4vowdw:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 20px var(--accent-glow)}.btn.svelte-4vowdw:disabled{opacity:.5;cursor:not-allowed}@keyframes svelte-4vowdw-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-4vowdw-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.help-btn.svelte-8t29c9{position:fixed;bottom:24px;right:24px;width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;color:#fff;font-size:1.5rem;font-weight:700;cursor:pointer;box-shadow:0 4px 20px var(--accent-glow);transition:all .2s ease;z-index:100;display:flex;align-items:center;justify-content:center}.help-btn.svelte-8t29c9:hover{transform:scale(1.1);box-shadow:0 6px 28px var(--accent-glow)}.help-btn.svelte-8t29c9:active{transform:scale(.95)}.overlay.svelte-8t29c9{position:fixed;top:0;right:0;bottom:0;left:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:20px;animation:svelte-8t29c9-fadeIn .2s ease}.modal.svelte-8t29c9{background:var(--bg-card);border-radius:24px;padding:32px;max-width:420px;width:100%;max-height:85vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #00000080;animation:svelte-8t29c9-slideUp .3s ease}.close-btn.svelte-8t29c9{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:50%;background:#ffffff1a;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;line-height:1}.close-btn.svelte-8t29c9:hover{background:#fff3;color:var(--text)}h2.svelte-8t29c9{font-size:1.5rem;font-weight:700;margin-bottom:24px;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}h3.svelte-8t29c9{font-size:1rem;font-weight:600;margin-bottom:8px;color:var(--cyan)}.steps.svelte-8t29c9{display:flex;flex-direction:column;gap:16px}.step.svelte-8t29c9{display:flex;gap:16px;align-items:flex-start}.step-num.svelte-8t29c9{width:28px;height:28px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);color:#fff;font-weight:700;font-size:.9rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.step-content.svelte-8t29c9{flex:1}.step-content.svelte-8t29c9 strong:where(.svelte-8t29c9){display:block;margin-bottom:2px}.step-content.svelte-8t29c9 p:where(.svelte-8t29c9){color:var(--text-muted);font-size:.9rem;margin:0}.divider.svelte-8t29c9{height:1px;background:#ffffff1a;margin:20px 0}.info.svelte-8t29c9{color:var(--text-muted);font-size:.9rem;line-height:1.5;margin:0}.feedback-link.svelte-8t29c9{display:block;width:100%;text-align:center;padding:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;color:var(--text-muted);font-size:.9rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.feedback-link.svelte-8t29c9:hover{background:#ffffff1a;color:var(--text);border-color:#fff3}@keyframes svelte-8t29c9-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-8t29c9-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-container.svelte-r761lh{position:relative}.loading-skeleton.svelte-r761lh{width:120px;height:40px;border-radius:20px;background:linear-gradient(90deg,#ffffff0d 25%,#ffffff1a,#ffffff0d 75%);background-size:200% 100%;animation:svelte-r761lh-shimmer 1.5s infinite}@keyframes svelte-r761lh-shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.user-button.svelte-r761lh{display:flex;align-items:center;gap:10px;padding:6px 14px 6px 6px;background:var(--bg-card);border:1px solid rgba(255,255,255,.1);border-radius:25px;cursor:pointer;transition:all .2s ease;font-family:inherit;color:var(--text)}.user-button.svelte-r761lh:hover{background:#ffffff1a;border-color:#fff3}.avatar.svelte-r761lh{width:32px;height:32px;border-radius:50%;object-fit:cover}.avatar-placeholder.svelte-r761lh{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;color:#fff}.display-name.svelte-r761lh{font-size:.9rem;font-weight:500;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-arrow.svelte-r761lh{font-size:.6rem;color:var(--text-muted)}.dropdown-menu.svelte-r761lh{position:absolute;top:calc(100% + 8px);right:0;background:var(--bg-card);border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:8px;min-width:200px;box-shadow:0 8px 32px #0006;z-index:100;animation:svelte-r761lh-fadeIn .15s ease}@keyframes svelte-r761lh-fadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.menu-header.svelte-r761lh{padding:12px;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:8px}.provider-badge.svelte-r761lh{display:inline-block;padding:2px 8px;background:#ffffff1a;border-radius:8px;font-size:.75rem;color:var(--text-muted);margin-bottom:4px}.email.svelte-r761lh{display:block;font-size:.8rem;color:var(--text-muted);overflow:hidden;text-overflow:ellipsis}.menu-item.svelte-r761lh{display:flex;align-items:center;gap:10px;width:100%;padding:12px;background:none;border:none;border-radius:10px;color:var(--text);font-size:.9rem;font-family:inherit;cursor:pointer;transition:background .15s ease;text-align:left}.menu-item.svelte-r761lh:hover{background:#ffffff1a}.menu-item.logout.svelte-r761lh{color:#ff6b6b}.login-options.svelte-r761lh{display:flex;gap:10px;align-items:center}.name-input-container.svelte-r761lh{display:flex;gap:8px;align-items:center}.name-input.svelte-r761lh{padding:10px 16px;background:var(--bg-card);border:1px solid rgba(255,255,255,.15);border-radius:20px;color:var(--text);font-size:.9rem;font-family:inherit;width:150px;transition:all .2s ease}.name-input.svelte-r761lh:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}.go-btn.svelte-r761lh{padding:10px 18px;background:linear-gradient(135deg,var(--accent) 0%,#ff8fab 100%);border:none;border-radius:20px;color:#fff;font-weight:600;font-size:.9rem;font-family:inherit;cursor:pointer;transition:all .2s ease}.go-btn.svelte-r761lh:hover{transform:scale(1.05);box-shadow:0 4px 16px var(--accent-glow)}.login-btn.svelte-r761lh{display:flex;align-items:center;gap:8px;padding:10px 18px;border:none;border-radius:20px;font-size:.9rem;font-weight:500;font-family:inherit;cursor:pointer;transition:all .2s ease}.login-btn.google.svelte-r761lh{background:#fff;color:#333}.login-btn.google.svelte-r761lh:hover{background:#f5f5f5;box-shadow:0 4px 16px #0003}.login-btn.guest.svelte-r761lh{background:transparent;border:1px solid rgba(255,255,255,.2);color:var(--text-muted)}.login-btn.guest.svelte-r761lh:hover{background:#ffffff0d;border-color:#ffffff4d;color:var(--text)}.google-icon.svelte-r761lh{width:18px;height:18px}@media(max-width:480px){.login-options.svelte-r761lh{flex-direction:column;width:100%}.login-btn.svelte-r761lh{width:100%;justify-content:center}.name-input-container.svelte-r761lh{width:100%}.name-input.svelte-r761lh{flex:1}}.my-stack.svelte-owkba6{background:var(--bg-card);border-radius:16px;padding:20px;border:1px solid rgba(255,255,255,.1)}.section-title.svelte-owkba6{font-size:1rem;font-weight:600;margin:0 0 16px;color:var(--cyan);display:flex;align-items:center;gap:8px}.count.svelte-owkba6{font-size:.85rem;color:var(--text-muted);font-weight:400}.loading.svelte-owkba6,.error.svelte-owkba6,.empty-state.svelte-owkba6{text-align:center;padding:24px;color:var(--text-muted);font-size:.9rem}.error.svelte-owkba6{color:#ff6b6b}.empty-state.svelte-owkba6 p:where(.svelte-owkba6){margin:0;line-height:1.5}.in-queue-card.svelte-owkba6{background:linear-gradient(135deg,#00f5d41a,#ff6b9d1a);border:1px solid var(--cyan);border-radius:12px;padding:14px;margin-bottom:16px}.status-badge.svelte-owkba6{display:inline-block;padding:2px 10px;background:var(--cyan);color:var(--bg);border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.song-info.svelte-owkba6{display:flex;justify-content:space-between;align-items:center;gap:12px}.song-info.svelte-owkba6 .title:where(.svelte-owkba6){font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.votes.svelte-owkba6{color:var(--accent);font-size:.85rem;flex-shrink:0}.stack-list.svelte-owkba6{display:flex;flex-direction:column;gap:8px}.stack-item.svelte-owkba6{display:flex;align-items:center;gap:10px;padding:12px;background:#ffffff08;border-radius:10px;border:1px solid rgba(255,255,255,.05);cursor:grab;transition:all .15s ease}.stack-item.svelte-owkba6:hover{background:#ffffff0f;border-color:#ffffff1a}.stack-item.dragging.svelte-owkba6{opacity:.5;cursor:grabbing}.stack-item.drag-over.svelte-owkba6{border-color:var(--cyan);background:#00f5d40d}.drag-handle.svelte-owkba6{color:var(--text-muted);font-size:.8rem;-webkit-user-select:none;user-select:none;cursor:grab}.song-details.svelte-owkba6{flex:1;display:flex;align-items:center;gap:10px;overflow:hidden}.position.svelte-owkba6{color:var(--text-muted);font-size:.8rem;flex-shrink:0;width:24px}.song-details.svelte-owkba6 .title:where(.svelte-owkba6){overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:.9rem}.remove-btn.svelte-owkba6{width:28px;height:28px;border-radius:50%;background:transparent;border:1px solid rgba(255,255,255,.1);color:var(--text-muted);font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s ease;flex-shrink:0;line-height:1}.remove-btn.svelte-owkba6:hover{background:#ff6b6b33;border-color:#ff6b6b;color:#ff6b6b}.stack-hint.svelte-owkba6{margin:12px 0 0;font-size:.8rem;color:var(--text-muted);text-align:center;line-height:1.4}.reaction-panel.svelte-sl8bo3{position:fixed;bottom:0;left:0;right:0;padding:12px 16px 20px;background:#0a0a0feb;border-top:1px solid rgba(255,255,255,.08);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);z-index:60}.reaction-panel.disabled.svelte-sl8bo3{opacity:.4}.reaction-row.svelte-sl8bo3{display:flex;justify-content:space-between;gap:10px}.reaction-btn.svelte-sl8bo3{flex:1;height:48px;min-width:48px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:#ffffff0a;cursor:pointer;transition:transform .15s ease,opacity .15s ease,background .2s ease}.reaction-btn.svelte-sl8bo3:disabled{cursor:not-allowed}.reaction-btn.svelte-sl8bo3:hover:not(:disabled){background:#ffffff1f;transform:translateY(-1px)}.reaction-btn.cooldown.svelte-sl8bo3{opacity:.5;transform:scale(.96)}.emoji.svelte-sl8bo3{font-size:1.6rem;filter:drop-shadow(0 0 8px rgba(255,255,255,.2))}.rate-limit.svelte-sl8bo3{margin-top:6px;font-size:.75rem;color:var(--warning);text-align:center}@media(min-width:720px){.reaction-panel.svelte-sl8bo3{position:sticky;bottom:auto;border-radius:16px;margin-bottom:12px}}.chat-panel.svelte-1csz7wk{background:#0a0a0feb;border:1px solid rgba(255,255,255,.08);border-radius:16px;overflow:hidden;margin-bottom:16px}.chat-panel.disabled.svelte-1csz7wk{opacity:.5}.chat-header.svelte-1csz7wk{width:100%;display:flex;align-items:center;gap:8px;background:transparent;border:none;color:var(--text);padding:12px 16px;font-family:inherit;cursor:pointer}.chat-title.svelte-1csz7wk{font-weight:600;font-size:.95rem}.chat-count.svelte-1csz7wk{font-size:.75rem;color:var(--text-muted);background:#ffffff14;border-radius:999px;padding:2px 8px}.chat-toggle.svelte-1csz7wk{margin-left:auto;color:var(--text-muted)}.chat-body.svelte-1csz7wk{padding:12px 16px 16px}.chat-messages.svelte-1csz7wk{max-height:150px;overflow-y:auto;padding-right:4px;margin-bottom:10px}.chat-empty.svelte-1csz7wk{font-size:.85rem;color:var(--text-muted);text-align:center;padding:16px 0}.chat-message.svelte-1csz7wk{background:#ffffff0d;border-radius:12px;padding:8px 10px;margin-bottom:8px}.chat-meta.svelte-1csz7wk{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}.chat-name.svelte-1csz7wk{font-size:.75rem;color:var(--cyan);font-weight:600}.pin-btn.svelte-1csz7wk{background:none;border:none;color:#fff9;font-size:.8rem;cursor:pointer}.pin-btn.svelte-1csz7wk:hover{color:var(--cyan)}.chat-text.svelte-1csz7wk{font-size:.9rem;color:var(--text);word-break:break-word}.chat-input-row.svelte-1csz7wk{display:flex;gap:8px}.chat-input.svelte-1csz7wk{flex:1;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:8px 12px;color:var(--text);font-size:.9rem;font-family:inherit}.chat-input.svelte-1csz7wk:focus{outline:none;border-color:var(--cyan)}.chat-send.svelte-1csz7wk{background:var(--cyan);border:none;color:#0a0a0f;padding:8px 12px;border-radius:10px;font-size:.85rem;font-weight:600;cursor:pointer}.chat-send.svelte-1csz7wk:disabled{opacity:.5;cursor:not-allowed}.chat-rate-limit.svelte-1csz7wk{margin-top:6px;font-size:.75rem;color:var(--warning);text-align:center}header.svelte-1y2kg8x{text-align:center;margin-bottom:32px}.container.svelte-1y2kg8x{padding-bottom:140px}.header-top.svelte-1y2kg8x{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}h1.svelte-1y2kg8x{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin:0}.my-stack-section.svelte-1y2kg8x{margin-top:24px}.subtitle.svelte-1y2kg8x{color:var(--text-muted);font-size:.95rem;font-weight:300}.header-actions.svelte-1y2kg8x{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:12px}.mode-badge.svelte-1y2kg8x{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;border-radius:20px;font-size:.8rem;font-weight:500}.mode-badge.jukebox.svelte-1y2kg8x{background:#4ecdc426;color:var(--cyan);border:1px solid rgba(78,205,196,.2)}.mode-badge.karaoke.svelte-1y2kg8x{background:#ff6b9d26;color:var(--accent);border:1px solid rgba(255,107,157,.2)}.player-link.svelte-1y2kg8x{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:20px;color:var(--text-muted);font-size:.85rem;text-decoration:none;transition:all .2s ease}.player-link.svelte-1y2kg8x:hover{background:#ffffff1a;color:var(--text);border-color:#fff3}.join-card.svelte-1y2kg8x,.my-song-card.svelte-1y2kg8x,.my-turn-card.svelte-1y2kg8x{background:var(--bg-card);border-radius:20px;padding:24px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.my-song-card.svelte-1y2kg8x{border-color:#4ecdc44d;background:linear-gradient(135deg,rgba(78,205,196,.1) 0%,var(--bg-card) 100%)}.my-song-header.svelte-1y2kg8x{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.my-song-label.svelte-1y2kg8x{font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;color:var(--cyan);font-weight:600}.my-song-position.svelte-1y2kg8x{font-size:.85rem;color:var(--text-muted)}.my-song-title.svelte-1y2kg8x{font-size:1.1rem;font-weight:600;margin-bottom:16px;line-height:1.4}.btn-change.svelte-1y2kg8x{background:transparent;border:2px solid var(--cyan);color:var(--cyan)}.btn-change.svelte-1y2kg8x:hover{background:#4ecdc41a;box-shadow:0 4px 16px var(--cyan-glow)}.my-turn-card.svelte-1y2kg8x{border-color:#ff6b9d4d;background:linear-gradient(135deg,rgba(255,107,157,.15) 0%,var(--bg-card) 100%);text-align:center}.my-turn-label.svelte-1y2kg8x{font-size:1.5rem;font-weight:700;color:var(--accent);margin-bottom:8px}.my-turn-song.svelte-1y2kg8x{font-size:1.1rem;margin-bottom:16px;color:var(--text-muted)}.input-group.svelte-1y2kg8x{margin-bottom:16px}.input-label.svelte-1y2kg8x{display:block;font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.selected-song.svelte-1y2kg8x{background:#4ecdc41a;border:1px solid rgba(78,205,196,.3);border-radius:12px;padding:16px;margin-top:16px}.selected-song-title.svelte-1y2kg8x{font-weight:600;margin-bottom:4px}.selected-song-meta.svelte-1y2kg8x{font-size:.85rem;color:var(--text-muted)}.validation-status.svelte-1y2kg8x{font-size:.85rem;margin-top:8px;display:flex;align-items:center;gap:8px}.validation-status.checking.svelte-1y2kg8x{color:var(--cyan)}.validation-status.valid.svelte-1y2kg8x{color:var(--success)}.validation-status.invalid.svelte-1y2kg8x{color:var(--warning)}.validation-spinner.svelte-1y2kg8x{width:14px;height:14px;border:2px solid rgba(78,205,196,.3);border-top-color:var(--cyan);border-radius:50%;animation:spin .8s linear infinite}.error-msg.svelte-1y2kg8x{color:var(--warning);font-size:.85rem;margin-top:12px;text-align:center;animation:shake .4s ease}.on-deck-banner.svelte-1y2kg8x{border-radius:16px;padding:16px;margin-bottom:24px;display:flex;align-items:center;gap:16px;animation:svelte-1y2kg8x-slideDown .4s ease-out}.on-deck-next.svelte-1y2kg8x{background:linear-gradient(135deg,#7bed9f33,#7bed9f0d);border:1px solid rgba(123,237,159,.3)}.on-deck-soon.svelte-1y2kg8x{background:linear-gradient(135deg,#ffa50233,#ffa5020d);border:1px solid rgba(255,165,2,.3)}.deck-icon.svelte-1y2kg8x{font-size:1.8rem}.deck-text.svelte-1y2kg8x{font-size:.95rem;color:var(--text);line-height:1.3}.deck-text.svelte-1y2kg8x strong:where(.svelte-1y2kg8x){font-size:1.05rem;display:block;margin-bottom:2px}.recap-overlay.svelte-1y2kg8x{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:1000;animation:svelte-1y2kg8x-fadeIn .3s ease;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:pointer}.recap-content.svelte-1y2kg8x{text-align:center;animation:svelte-1y2kg8x-zoomIn .5s cubic-bezier(.34,1.56,.64,1)}.recap-applause.svelte-1y2kg8x{font-size:1.5rem;font-weight:800;color:var(--yellow);letter-spacing:.1em;margin-bottom:24px;text-shadow:0 0 20px rgba(255,165,2,.5)}.recap-votes.svelte-1y2kg8x{font-size:5rem;font-weight:900;line-height:1;margin-bottom:12px;background:linear-gradient(135deg,#fff,#ccc);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(0 4px 12px rgba(0,0,0,.5))}.recap-label.svelte-1y2kg8x{font-size:.8rem;color:var(--text-muted);letter-spacing:.2em;text-transform:uppercase}.recap-dismiss.svelte-1y2kg8x{margin-top:1.5rem;font-size:.7rem;color:var(--text-muted);opacity:0;animation:svelte-1y2kg8x-fadeIn .3s ease 2s forwards}@keyframes svelte-1y2kg8x-slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1y2kg8x-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-1y2kg8x-zoomIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}

.energy-meter.svelte-nwuyz9{position:absolute;right:20px;bottom:120px;width:20px;height:180px;background:#0009;border-radius:10px;overflow:hidden;z-index:40;transition:box-shadow .3s ease}.energy-meter.low.svelte-nwuyz9{box-shadow:0 0 18px #ff6b6b99}.energy-meter.pulse.svelte-nwuyz9{animation:svelte-nwuyz9-meterPulse .4s ease}.energy-fill.svelte-nwuyz9{position:absolute;bottom:0;width:100%;transition:height .5s ease-out;background:linear-gradient(to top,var(--energy-color),var(--energy-color-light));box-shadow:0 0 15px var(--energy-glow)}.energy-trend.svelte-nwuyz9{position:absolute;top:6px;left:50%;transform:translate(-50%);font-size:.6rem;color:#ffffffb3}.energy-trend.svelte-nwuyz9:after{content:""}.energy-trend[data-trend=rising].svelte-nwuyz9:after{content:"^"}.energy-trend[data-trend=falling].svelte-nwuyz9:after{content:"v"}.energy-trend[data-trend=stable].svelte-nwuyz9:after{content:"."}@keyframes svelte-nwuyz9-meterPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.reaction-overlay.svelte-1v0wjpx{position:absolute;left:0;right:0;bottom:0;top:0;pointer-events:none;z-index:45}.reaction-float.svelte-1v0wjpx{position:absolute;bottom:80px;left:var(--lane-left);transform:translate(-50%);font-size:2.5rem;animation:svelte-1v0wjpx-floatUp 3s ease-out forwards;text-shadow:0 0 20px var(--glow-color);display:flex;flex-direction:column;align-items:center;gap:6px}.reaction-emoji.svelte-1v0wjpx{filter:drop-shadow(0 0 12px var(--glow-color))}.reaction-name.svelte-1v0wjpx{font-size:.7rem;opacity:0;color:#ffffffe6;animation:svelte-1v0wjpx-showName 1.5s ease-out;white-space:nowrap}@keyframes svelte-1v0wjpx-floatUp{0%{opacity:1;transform:translate(-50%) scale(1)}to{opacity:0;transform:translate(-50%,-250px) scale(.8)}}@keyframes svelte-1v0wjpx-showName{0%,10%{opacity:1}to{opacity:0}}.pinned-message.svelte-ij4xhl{position:absolute;bottom:120px;left:30px;max-width:360px;background:#000000d9;border-left:3px solid var(--cyan);padding:10px 14px 14px;border-radius:0 8px 8px 0;animation:svelte-ij4xhl-slideIn .3s ease-out,svelte-ij4xhl-fadeOut .4s ease-out 7.6s forwards;z-index:42}.pinned-header.svelte-ij4xhl{font-size:.6rem;text-transform:uppercase;letter-spacing:.2em;color:var(--cyan);margin-bottom:6px}.pinned-content.svelte-ij4xhl{display:flex;flex-direction:column;gap:4px}.pinned-name.svelte-ij4xhl{font-size:.8rem;color:#fffc;font-weight:600}.pinned-text.svelte-ij4xhl{font-size:.95rem;color:var(--text);word-break:break-word}.pinned-timer.svelte-ij4xhl{position:absolute;bottom:0;left:0;height:2px;background:var(--cyan);animation:svelte-ij4xhl-shrink 8s linear forwards}@keyframes svelte-ij4xhl-slideIn{0%{transform:translate(-12px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes svelte-ij4xhl-fadeOut{to{opacity:0}}@keyframes svelte-ij4xhl-shrink{0%{width:100%}to{width:0%}}.player-container.svelte-1wtekok{position:relative;height:100vh;height:100dvh;background:var(--bg-deep);overflow:hidden}.video-wrapper.svelte-1wtekok{position:absolute;top:0;left:0;right:0;bottom:0;background:#000}.video-wrapper.hidden.svelte-1wtekok{visibility:hidden}#yt-player{position:absolute;top:0;left:0;width:100%;height:100%}.overlay.svelte-1wtekok{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--bg-deep)}.start-overlay.svelte-1wtekok{background:radial-gradient(ellipse at center,rgba(78,205,196,.15) 0%,var(--bg-deep) 70%);cursor:pointer;border:none;width:100%;transition:background .3s ease}.start-overlay.svelte-1wtekok:hover{background:radial-gradient(ellipse at center,rgba(78,205,196,.25) 0%,var(--bg-deep) 70%)}.start-content.svelte-1wtekok{text-align:center}.start-icon.svelte-1wtekok{font-size:6rem;color:var(--cyan);margin-bottom:24px;text-shadow:0 0 60px var(--cyan);animation:svelte-1wtekok-pulse 2s ease-in-out infinite}.start-title.svelte-1wtekok{font-size:2rem;font-weight:700;color:var(--text);margin-bottom:32px}.start-song.svelte-1wtekok{font-size:1.5rem;font-weight:600;color:var(--text);margin-bottom:8px;max-width:600px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.start-singer.svelte-1wtekok{font-size:1.25rem;color:var(--text-muted)}.pause-overlay.svelte-1wtekok{background:radial-gradient(ellipse at center,rgba(255,107,157,.1) 0%,var(--bg-deep) 70%)}.pause-content.svelte-1wtekok{text-align:center;margin-bottom:40px}.up-next-label.svelte-1wtekok{font-size:1rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.2em;margin-bottom:16px}.next-singer.svelte-1wtekok{font-size:4rem;font-weight:800;color:var(--text);margin-bottom:8px;text-shadow:0 0 60px var(--accent-glow)}.next-song.svelte-1wtekok{font-size:1.5rem;color:var(--text-muted);max-width:600px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.countdown.svelte-1wtekok{font-size:8rem;font-weight:800;color:var(--accent);margin-top:32px;text-shadow:0 0 80px var(--accent-glow);animation:svelte-1wtekok-pulse 1s ease-in-out infinite}@keyframes svelte-1wtekok-pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}.waiting-message.svelte-1wtekok{font-size:2rem;color:var(--text-muted)}.queue-preview.svelte-1wtekok{position:absolute;bottom:140px;left:40px}.queue-label.svelte-1wtekok{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:12px}.queue-item.svelte-1wtekok{display:flex;align-items:center;gap:12px;margin-bottom:8px;opacity:.7}.queue-position.svelte-1wtekok{font-size:.875rem;color:var(--cyan);font-weight:600;width:20px}.queue-name.svelte-1wtekok{font-size:1rem;font-weight:500}.queue-song.svelte-1wtekok{font-size:.875rem;color:var(--text-muted)}.qr-section.svelte-1wtekok{position:absolute;bottom:140px;right:40px;text-align:center}.qr-code.svelte-1wtekok{width:120px;height:120px;border-radius:12px;background:#fff;padding:8px}.qr-large.svelte-1wtekok{width:200px;height:200px;margin-bottom:24px}.qr-hint.svelte-1wtekok{font-size:.75rem;color:var(--text-muted);margin-top:8px}.idle-overlay.svelte-1wtekok{background:radial-gradient(ellipse at 20% 30%,rgba(255,107,157,.08) 0%,transparent 50%),radial-gradient(ellipse at 80% 70%,rgba(78,205,196,.08) 0%,transparent 50%),var(--bg-deep)}.idle-content.svelte-1wtekok{text-align:center}.idle-title.svelte-1wtekok{font-size:4rem;font-weight:800;background:linear-gradient(135deg,var(--accent) 0%,var(--cyan) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:8px}.idle-subtitle.svelte-1wtekok{font-size:1.5rem;color:var(--text-muted);margin-bottom:48px}.idle-cta.svelte-1wtekok{font-size:1.25rem;color:var(--text)}.idle-decoration.svelte-1wtekok{position:absolute;width:100%;height:100%;pointer-events:none;overflow:hidden}.note.svelte-1wtekok{position:absolute;font-size:4rem;color:var(--accent);opacity:.15;animation:svelte-1wtekok-float 6s ease-in-out infinite}.note-1.svelte-1wtekok{top:20%;left:10%;animation-delay:0s}.note-2.svelte-1wtekok{top:60%;right:15%;animation-delay:2s}.note-3.svelte-1wtekok{bottom:30%;left:20%;animation-delay:4s}@keyframes svelte-1wtekok-float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(10deg)}}.info-bar.svelte-1wtekok{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,rgba(10,10,15,.95) 0%,rgba(10,10,15,.8) 70%,transparent 100%);padding:20px 32px 16px;z-index:10}.now-playing.svelte-1wtekok{display:flex;align-items:center;margin-bottom:12px}.now-label.svelte-1wtekok{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em;margin-right:16px}.now-title.svelte-1wtekok{font-size:1.25rem;font-weight:600;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.now-singer.svelte-1wtekok{font-size:1rem;color:var(--text-muted);margin-left:16px}.up-next-bar.svelte-1wtekok{display:flex;gap:24px}.up-next-bar-label.svelte-1wtekok{font-size:.7rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;padding-top:6px;white-space:nowrap}.up-next-list.svelte-1wtekok{display:flex;gap:12px;flex:1;overflow:hidden}.up-next-item.svelte-1wtekok{background:#ffffff0d;padding:8px 14px;border-radius:8px;min-width:180px;max-width:280px}.up-next-song.svelte-1wtekok{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.up-next-singer.svelte-1wtekok{font-size:.75rem;color:var(--text-muted)}.empty-queue.svelte-1wtekok{color:var(--text-muted);font-style:italic;font-size:.85rem}.connection-status.svelte-1wtekok{position:fixed;top:12px;right:12px;padding:6px 12px;border-radius:20px;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;z-index:100}.connection-status.connected.svelte-1wtekok{background:#4ecdc433;color:var(--cyan);border:1px solid rgba(78,205,196,.3)}.connection-status.polling.svelte-1wtekok{background:#ffa50233;color:#ffa502;border:1px solid rgba(255,165,2,.3)}.connection-status.disconnected.svelte-1wtekok{background:#ff6b8133;color:#ff6b81;border:1px solid rgba(255,107,129,.3)}.info-bar.with-controls.svelte-1wtekok{bottom:70px}.skip-btn.svelte-1wtekok{background:#ffa50233;border:1px solid rgba(255,165,2,.3);color:var(--warning);padding:8px 16px;border-radius:8px;cursor:pointer;font-size:1.2rem;margin-left:16px;transition:all .2s}.skip-btn.svelte-1wtekok:hover{background:#ffa5024d}.up-next-item.svelte-1wtekok{position:relative}.up-next-actions.svelte-1wtekok{position:absolute;top:4px;right:4px;display:flex;gap:2px}.action-btn.svelte-1wtekok{background:#ffffff1a;border:none;color:var(--text-muted);width:24px;height:24px;border-radius:4px;cursor:pointer;font-size:.85rem;display:flex;align-items:center;justify-content:center;transition:all .2s}.action-btn.svelte-1wtekok:hover{background:#fff3;color:var(--text)}.action-btn.danger.svelte-1wtekok:hover{background:#ff6b9d4d;color:var(--accent)}.controls-panel.svelte-1wtekok{position:absolute;bottom:0;left:0;right:0;background:#0a0a0ff2;border-top:1px solid rgba(255,255,255,.1);padding:12px 24px;z-index:50}.controls-row.svelte-1wtekok{display:flex;align-items:flex-start;gap:16px}.search-section.svelte-1wtekok{flex:1;position:relative}.search-input-row.svelte-1wtekok{display:flex;gap:8px}.search-input.svelte-1wtekok{flex:1;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:10px 14px;color:var(--text);font-size:.9rem;font-family:inherit}.search-input.svelte-1wtekok:focus{outline:none;border-color:var(--cyan)}.search-input.svelte-1wtekok::placeholder{color:var(--text-muted)}.search-btn.svelte-1wtekok{padding:10px 16px;font-size:.85rem}.search-results-dropdown.svelte-1wtekok{position:absolute;bottom:100%;left:0;right:0;background:var(--bg-card);border:1px solid rgba(255,255,255,.1);border-radius:12px;margin-bottom:8px;max-height:300px;overflow-y:auto;z-index:100}.search-result-item.svelte-1wtekok{display:flex;gap:10px;padding:10px 12px;background:transparent;border:none;width:100%;text-align:left;cursor:pointer;font-family:inherit;color:var(--text);transition:background .2s}.search-result-item.svelte-1wtekok:hover{background:#ffffff0d}.search-result-item.selected.svelte-1wtekok{background:#4ecdc426}.result-thumb.svelte-1wtekok{width:48px;height:36px;border-radius:4px;object-fit:cover}.result-info.svelte-1wtekok{flex:1;min-width:0}.result-title.svelte-1wtekok{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.result-meta.svelte-1wtekok{font-size:.75rem;color:var(--text-muted)}.selected-song.svelte-1wtekok{display:flex;align-items:center;gap:12px;margin-top:8px;padding:8px 12px;background:#4ecdc41a;border-radius:8px}.selected-title.svelte-1wtekok{flex:1;font-size:.85rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--cyan)}.singer-input.svelte-1wtekok{width:120px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:6px 10px;color:var(--text);font-size:.85rem;font-family:inherit}.singer-input.svelte-1wtekok:focus{outline:none;border-color:var(--cyan)}.add-actions.svelte-1wtekok{display:flex;gap:6px}.add-actions.svelte-1wtekok .btn:where(.svelte-1wtekok){padding:6px 12px;font-size:.8rem}.admin-section.svelte-1wtekok{display:flex;align-items:center}.admin-btn.svelte-1wtekok{background:none;border:none;font-size:1.5rem;cursor:pointer;padding:8px;border-radius:8px;transition:all .2s}.admin-btn.locked.svelte-1wtekok:hover{background:#ffffff1a}.admin-btn.unlocked.svelte-1wtekok{background:#4ecdc433}.admin-btn.unlocked.svelte-1wtekok:hover{background:#4ecdc44d}.toggle-controls-btn.svelte-1wtekok{position:absolute;bottom:0;right:20px;transform:translateY(-100%);background:#0a0a0fe6;border:1px solid rgba(255,255,255,.1);border-bottom:none;border-radius:8px 8px 0 0;color:var(--text-muted);padding:4px 12px;font-size:.8rem;cursor:pointer;z-index:51;transition:all .2s}.toggle-controls-btn.svelte-1wtekok:hover{color:var(--text);background:#0a0a0f}.modal-overlay.svelte-1wtekok{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:200}.modal-content.svelte-1wtekok{background:var(--bg-card);border-radius:16px;padding:24px;min-width:280px;border:1px solid rgba(255,255,255,.1)}.modal-content.svelte-1wtekok h3:where(.svelte-1wtekok){margin:0 0 16px;font-size:1.25rem;text-align:center}.modal-content.svelte-1wtekok input:where(.svelte-1wtekok){width:100%;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:12px;color:var(--text);font-size:1.25rem;text-align:center;letter-spacing:.5em;font-family:inherit;margin-bottom:16px}.modal-content.svelte-1wtekok input:where(.svelte-1wtekok):focus{outline:none;border-color:var(--cyan)}.modal-actions.svelte-1wtekok{display:flex;gap:8px}.modal-actions.svelte-1wtekok .btn:where(.svelte-1wtekok){flex:1}.auth-error.svelte-1wtekok{color:var(--accent);font-size:.85rem;text-align:center;margin-top:12px}.btn.svelte-1wtekok{background:var(--accent);border:none;color:#fff;padding:10px 20px;border-radius:8px;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s}.btn.svelte-1wtekok:hover:not(:disabled){filter:brightness(1.1);transform:translateY(-1px)}.btn.svelte-1wtekok:disabled{opacity:.5;cursor:not-allowed}.btn-cyan.svelte-1wtekok{background:var(--cyan)}.btn-warning.svelte-1wtekok{background:var(--warning)}.btn-muted.svelte-1wtekok{background:#ffffff1a;color:var(--text-muted)}.btn-muted.svelte-1wtekok:hover:not(:disabled){background:#fff3;color:var(--text)}

.toast-container.svelte-1cpok13{position:fixed;bottom:24px;left:50%;transform:translate(-50%);z-index:100;display:flex;flex-direction:column;gap:8px}.toast.svelte-1cpok13{background:var(--bg-card);border:1px solid rgba(255,255,255,.1);padding:16px 24px;border-radius:14px;font-size:.95rem;box-shadow:0 8px 32px #0006;animation:svelte-1cpok13-slideUp .3s ease}.toast.success.svelte-1cpok13{border-color:#7bed9f4d}.toast.error.svelte-1cpok13{border-color:#ff6b9d4d}.toast.info.svelte-1cpok13{border-color:#4ecdc44d}@keyframes svelte-1cpok13-slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

.now-playing-card.svelte-gs8b8u{background:linear-gradient(135deg,#ff6b9d26,#4ecdc41a);border:1px solid rgba(255,107,157,.3);border-radius:20px;padding:20px;margin-bottom:24px;text-align:center}.now-playing-label.svelte-gs8b8u{font-size:.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px}.now-playing-title.svelte-gs8b8u{font-size:1.1rem;font-weight:600;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.now-playing-singer.svelte-gs8b8u{color:var(--text-muted);font-size:.9rem}.skip-own-btn.svelte-gs8b8u{margin-top:12px;background:#ffa50233;border:1px solid rgba(255,165,2,.4);color:var(--warning);padding:10px 20px;border-radius:10px;font-size:.9rem;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease}.skip-own-btn.svelte-gs8b8u:hover{background:#ffa5024d}.queue-item.svelte-bbkcgc{display:flex;align-items:center;padding:14px;border-radius:14px;margin-bottom:8px;background:#ffffff08;transition:all .2s ease;animation:slideIn .3s ease}.queue-item.is-mine.svelte-bbkcgc{background:linear-gradient(135deg,#4ecdc426,#4ecdc40d);border:1px solid rgba(78,205,196,.3)}.position.svelte-bbkcgc{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.85rem;margin-right:12px;flex-shrink:0;background:#ffffff1a;color:var(--text-muted)}.position.is-mine.svelte-bbkcgc{background:var(--cyan);color:var(--bg)}.queue-info.svelte-bbkcgc{flex:1;min-width:0}.queue-song.svelte-bbkcgc{font-weight:500;font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.queue-singer.svelte-bbkcgc{font-size:.8rem;color:var(--text-muted);display:flex;align-items:center;gap:6px}.you-badge.svelte-bbkcgc{background:var(--cyan);color:var(--bg);font-size:.6rem;font-weight:700;padding:2px 6px;border-radius:4px;letter-spacing:.05em}.queue-actions.svelte-bbkcgc{display:flex;align-items:center;gap:4px;margin-left:12px}.vote-btn.svelte-bbkcgc{background:none;border:none;width:32px;height:32px;border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;font-size:1rem;color:var(--text-muted)}.vote-btn.svelte-bbkcgc:hover:not(:disabled){background:#ffffff1a}.vote-btn.upvote.svelte-bbkcgc{color:var(--success)}.vote-btn.downvote.svelte-bbkcgc{color:var(--accent)}.vote-btn.active.svelte-bbkcgc{background:#ffffff26}.vote-btn.svelte-bbkcgc:disabled{opacity:.3;cursor:not-allowed}.vote-count.svelte-bbkcgc{font-size:.85rem;min-width:24px;text-align:center;color:var(--text-muted)}.vote-count.positive.svelte-bbkcgc{color:var(--success)}.vote-count.negative.svelte-bbkcgc{color:var(--accent)}.remove-btn.svelte-bbkcgc{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:8px;border-radius:8px;transition:all .2s ease;font-size:.9rem}.remove-btn.svelte-bbkcgc:hover{background:#ff6b9d33;color:var(--accent)}.queue-section.svelte-a7cxk7{background:var(--bg-card);border-radius:20px;padding:24px;border:1px solid rgba(255,255,255,.05);box-shadow:0 8px 32px #0000004d}.section-header.svelte-a7cxk7{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.section-title.svelte-a7cxk7{font-size:1.1rem;font-weight:600;color:var(--text)}.queue-count.svelte-a7cxk7{background:#ffffff1a;padding:6px 14px;border-radius:20px;font-size:.85rem;color:var(--text-muted)}.queue-list.svelte-a7cxk7{list-style:none}.empty-state.svelte-a7cxk7{text-align:center;padding:60px 24px;color:var(--text-muted);display:flex;flex-direction:column;align-items:center;gap:12px}.empty-icon.svelte-a7cxk7{font-size:4rem;margin-bottom:8px;animation:svelte-a7cxk7-bounce 2s infinite ease-in-out}.empty-state.svelte-a7cxk7 h3:where(.svelte-a7cxk7){font-size:1.25rem;color:var(--text);margin:0;font-weight:700}.empty-state.svelte-a7cxk7 p:where(.svelte-a7cxk7){margin:0;font-size:.95rem;opacity:.8}.arrow.svelte-a7cxk7{font-size:2rem;color:var(--accent);margin-top:16px;animation:svelte-a7cxk7-float 1.5s infinite ease-in-out}@keyframes svelte-a7cxk7-bounce{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes svelte-a7cxk7-float{0%,to{transform:translateY(0)}50%{transform:translateY(10px)}}.search-container.svelte-1002zyw{margin-bottom:16px}.search-row.svelte-1002zyw{display:flex;gap:12px}.search-row.svelte-1002zyw input:where(.svelte-1002zyw){flex:1}.search-btn.svelte-1002zyw{flex-shrink:0;width:auto;padding:16px 24px}.search-results.svelte-1002zyw{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px;margin-top:16px}.search-result.svelte-1002zyw{display:flex;flex-direction:column;padding:0;background:#ffffff08;border:2px solid transparent;border-radius:12px;cursor:pointer;transition:all .2s ease;text-align:left;color:inherit;font-family:inherit;overflow:hidden}.search-result.svelte-1002zyw:hover:not(:disabled){background:#ffffff0f;border-color:#ffffff1a;transform:translateY(-2px)}.search-result.selected.svelte-1002zyw{background:#4ecdc426;border-color:var(--cyan)}.search-result.too-long.svelte-1002zyw{opacity:.5;cursor:not-allowed}.search-result.too-long.svelte-1002zyw:hover{background:#ffffff08;border-color:transparent;transform:none}.result-thumb-wrapper.svelte-1002zyw{position:relative;width:100%;aspect-ratio:16 / 9}.result-thumb.svelte-1002zyw{width:100%;height:100%;object-fit:cover;background:#0000004d}.result-duration.svelte-1002zyw{position:absolute;bottom:6px;right:6px;background:#000c;color:#fff;font-size:.7rem;font-weight:600;padding:2px 6px;border-radius:4px}.result-duration.too-long-badge.svelte-1002zyw{background:var(--warning);color:#000}.result-info.svelte-1002zyw{padding:10px;display:flex;flex-direction:column;gap:4px}.result-title.svelte-1002zyw{font-size:.85rem;font-weight:500;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.result-channel.svelte-1002zyw{font-size:.75rem;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.too-long-msg.svelte-1002zyw{font-size:.7rem;color:var(--warning);font-weight:500}.searching-indicator.svelte-1002zyw{text-align:center;padding:24px;color:var(--text-muted);display:flex;flex-direction:column;align-items:center;gap:12px}.no-results.svelte-1002zyw{text-align:center;padding:24px;color:var(--text-muted)}@media(max-width:480px){.search-results.svelte-1002zyw{grid-template-columns:repeat(2,1fr);gap:8px}.result-info.svelte-1002zyw{padding:8px}.result-title.svelte-1002zyw{font-size:.8rem}}.modal-overlay.svelte-1ppz18g{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:16px}.modal.svelte-1ppz18g{background:var(--bg-card);border-radius:24px;padding:32px;max-width:400px;width:100%;border:1px solid rgba(255,255,255,.1);box-shadow:0 16px 64px #00000080;animation:modalIn .3s ease}.modal.svelte-1ppz18g h2:where(.svelte-1ppz18g){font-size:1.5rem;font-weight:700;margin-bottom:16px;text-align:center}.modal.svelte-1ppz18g p:where(.svelte-1ppz18g){color:var(--text-muted);margin-bottom:12px;line-height:1.5}.modal.svelte-1ppz18g ul:where(.svelte-1ppz18g){color:var(--text-muted);margin:0 0 16px 20px;line-height:1.6}.modal.svelte-1ppz18g ul:where(.svelte-1ppz18g) li:where(.svelte-1ppz18g){margin-bottom:4px}.highlight.svelte-1ppz18g{color:var(--cyan);font-weight:500}.modal-input.svelte-1ppz18g{width:100%;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:14px;padding:16px 20px;font-size:1.5rem;font-family:inherit;color:var(--text);outline:none;text-align:center;letter-spacing:.5em;margin-bottom:16px}.modal-input.svelte-1ppz18g:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}.modal-input.svelte-1ppz18g::placeholder{color:var(--text-muted);letter-spacing:normal}.modal.svelte-1ppz18g .btn:where(.svelte-1ppz18g){margin-bottom:12px}.small.svelte-1ppz18g{font-size:.85rem;color:var(--text-muted);text-align:center}.skip-link.svelte-1ppz18g{display:block;width:100%;text-align:center;color:var(--text-muted);background:none;border:none;font-size:.9rem;font-family:inherit;cursor:pointer;padding:8px}.skip-link.svelte-1ppz18g:hover{color:var(--text)}.hint.svelte-1ppz18g{font-size:.85rem;color:var(--text-muted);text-align:center;margin-top:12px}.link-btn.svelte-1ppz18g{color:var(--cyan);background:none;border:none;font-family:inherit;font-size:inherit;cursor:pointer;text-decoration:none;padding:0}.link-btn.svelte-1ppz18g:hover{text-decoration:underline}.modal-error.svelte-1ppz18g{color:var(--warning);font-size:.9rem;text-align:center;margin-top:8px;margin-bottom:8px}
</style>
</head>
<body data-sveltekit-preload-data="hover">
  <div style="display: contents"></div>
  <script type="module">var nv=Object.defineProperty;var De=(e,t)=>()=>(e&&(t=e(e=0)),t);var Rn=(e,t)=>{for(var n in t)nv(e,n,{get:t[n],enumerable:!0})};function Bl(e){return typeof e=="function"}function Yl(e){return e()}function Kr(e){for(var t=0;t<e.length;t++)e[t]()}function Jl(){var e,t,n=new Promise((s,r)=>{e=s,t=r});return{promise:n,resolve:e,reject:t}}function lv(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function cv(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function uv(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function dv(e){throw new Error("https://svelte.dev/e/effect_orphan")}function vv(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Hl(){throw new Error("https://svelte.dev/e/hydration_failed")}function Xl(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function fv(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pv(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hv(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zl(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function pr(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function hc(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ft(e){ve=e}function ut(e){if(e===null)throw pr(),ls;return be=e}function xn(){return ut(Dt(be))}function d(e){if(ve){if(Dt(be)!==null)throw pr(),ls;be=e}}function dt(e=1){if(ve){for(var t=e,n=be;t--;)n=Dt(n);be=n}}function cs(e=!0){for(var t=0,n=be;;){if(n.nodeType===Un){var s=n.data;if(s===fr){if(t===0)return n;t-=1}else(s===xi||s===is)&&(t+=1)}var r=Dt(n);e&&n.remove(),n=r}}function Zr(e){if(!e||e.nodeType!==Un)throw pr(),ls;return e.data}function mc(e){return e===this.v}function Pi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function gc(e){return!Pi(e,this.v)}function yc(){Ra=!0}function ns(e){Je=e}function Ue(e,t=!1,n){Je={p:Je,i:!1,c:null,e:null,s:e,x:null,l:Ra&&!t?{s:null,u:null,\$:[]}:null}}function Fe(e){var t=Je,n=t.e;if(n!==null){t.e=null;for(var s of n)qc(s)}return e!==void 0&&(t.x=e),t.i=!0,Je=t.p,e??{}}function us(){return!Ra||Je!==null&&Je.l===null}function kc(){var e=Ha;Ha=[],Kr(e)}function zt(e){if(Ha.length===0&&!ir){var t=Ha;queueMicrotask(()=>{t===Ha&&kc()})}Ha.push(e)}function mv(){for(;Ha.length>0;)kc()}function Ei(e){var t=Pe;if(t===null)return xe.f|=ja,e;if(t.f&rs)as(e,t);else{if(!(t.f&Gr))throw e;t.b.error(e)}}function as(e,t){for(;t!==null;){if(t.f&Gr)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}function bt(e,t){e.f=e.f&gv|t}function Ii(e){e.f&dn||e.deps===null?bt(e,Ot):bt(e,Ln)}function wc(e){if(e!==null)for(let t of e)!(t.f&Ct)||!(t.f&ts)||(t.f^=ts,wc(t.deps))}function \$i(e,t,n){e.f&Mt?t.add(e):e.f&Ln&&n.add(e),wc(e.deps),bt(e,Ot)}function Ci(e){var t=ir;ir=!0;try{for(var n;;){if(mv(),an.length===0&&(Te?.flush(),an.length===0))return eo=null,n;Sc()}}finally{ir=t}}function Sc(){fi=!0;var e=null;try{for(var t=0;an.length>0;){var n=Oa.ensure();if(t++>1e3){var s,r;kv()}n.process(an),Ta.clear()}}finally{fi=!1,eo=null}}function kv(){try{vv()}catch(e){as(e,eo)}}function Ul(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var s=e[n++];if(!(s.f&(zn|Gt))&&yr(s)&&(On=new Set,ur(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?Uc(s):s.fn=null),On?.size>0)){Ta.clear();for(let r of On){if(r.f&(zn|Gt))continue;let o=[r],i=r.parent;for(;i!==null;)On.has(i)&&(On.delete(i),o.push(i)),i=i.parent;for(let c=o.length-1;c>=0;c--){let u=o[c];!(u.f&(zn|Gt))&&ur(u)}}On.clear()}}On=null}}function xc(e,t,n,s){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(let r of e.reactions){let o=r.f;o&Ct?xc(r,t,n,s):o&(_i|Sn)&&!(o&Mt)&&Pc(r,t,s)&&(bt(r,Mt),qn(r))}}function Pc(e,t,n){let s=n.get(e);if(s!==void 0)return s;if(e.deps!==null)for(let r of e.deps){if(t.includes(r))return!0;if(r.f&Ct&&Pc(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function qn(e){for(var t=eo=e;t.parent!==null;){t=t.parent;var n=t.f;if(fi&&t===Pe&&n&Sn&&!(n&Hr))return;if(n&(ss|la)){if(!(n&Ot))return;t.f^=Ot}}an.push(t)}function wv(e,t,n,s){let r=us()?ds:hr;var o=e.filter(y=>!y.settled);if(n.length===0&&o.length===0){s(t.map(r));return}var i=Te,c=Pe,u=bv(),f=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(y=>y.promise)):null;function h(y){u();try{s(y)}catch(g){!(c.f&zn)&&as(g,c)}i?.deactivate(),mi()}if(n.length===0){f.then(()=>h(t.map(r)));return}function m(){u(),Promise.all(n.map(y=>_v(y))).then(y=>h([...t.map(r),...y])).catch(y=>as(y,c))}f?f.then(m):m()}function bv(){var e=Pe,t=xe,n=Je,s=Te;return function(r=!0){_n(e),Ut(t),ns(n),r&&s?.activate()}}function mi(){_n(null),Ut(null),ns(null)}function ds(e){var t=Ct|Mt,n=xe!==null&&xe.f&Ct?xe:null;return Pe!==null&&(Pe.f|=os),{ctx:Je,deps:null,effects:null,equals:mc,f:t,fn:e,reactions:null,rv:0,v:\$t,wv:0,parent:n??Pe,ac:null}}function _v(e,t,n){let s=Pe;s===null&&lv();var r=s.b,o=void 0,i=ca(\$t),c=!xe,u=new Map;return Ev(()=>{var f,h=Jl();o=h.promise;try{Promise.resolve(e()).then(h.resolve,h.reject).then(()=>{m===Te&&m.committed&&m.deactivate(),mi()})}catch(k){h.reject(k),mi()}var m=Te;if(c){var y=r.is_rendered();r.update_pending_count(1),m.increment(y),(f=u.get(m))==null||f.reject(Cs),u.delete(m),u.set(m,h)}let g=(k,w=void 0)=>{if(m.activate(),w)w!==Cs&&(i.f|=ja,Na(i,w));else{i.f&ja&&(i.f^=ja),Na(i,k);for(let[\$,_]of u){if(u.delete(\$),\$===m)break;_.reject(Cs)}}c&&(r.update_pending_count(-1),m.decrement(y))};h.promise.then(g,k=>g(null,k||"unknown"))}),Oi(()=>{for(let f of u.values())f.reject(Cs)}),new Promise(f=>{function h(m){function y(){m===o?f(i):h(o)}m.then(y,y)}h(o)})}function Ae(e){let t=ds(e);return Wc(t),t}function hr(e){let t=ds(e);return t.equals=gc,t}function Ec(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)jt(t[n])}}function Sv(e){for(var t=e.parent;t!==null;){if(!(t.f&Ct))return t.f&zn?null:t;t=t.parent}return null}function ji(e){var t,n=Pe;_n(Sv(e));try{e.f&=~ts,Ec(e),t=Jc(e)}finally{_n(n)}return t}function Ic(e){var t=ji(e);if(!e.equals(t)&&(e.wv=Bc(),(!(Te!=null&&Te.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){bt(e,Ot);return}ia||(Kt!==null?(so()||Te!=null&&Te.is_fork)&&Kt.set(e,t):Ii(e))}function ca(e,t){var n={f:0,v:e,reactions:null,equals:mc,rv:0,wv:0};return n}function S(e,t){let n=ca(e);return Wc(n),n}function to(e,t=!1,n=!0){var s;let r=ca(e);return t||(r.equals=gc),Ra&&n&&Je!==null&&Je.l!==null&&((s=Je.l).s??(s.s=[])).push(r),r}function l(e,t,n=!1){xe!==null&&(!bn||xe.f&Ml)&&us()&&xe.f&(Ct|Sn|_i|Ml)&&!(vn!=null&&vn.includes(e))&&hv();let s=n?_e(t):t;return Na(e,s)}function Na(e,t){if(!e.equals(t)){var n=e.v;ia?Ta.set(e,t):Ta.set(e,n),e.v=t;var s=Oa.ensure();if(s.capture(e,n),(e.f&Ct)!==0){let r=e;e.f&Mt&&ji(r),Ii(r)}e.wv=Bc(),jc(e,Mt),us()&&Pe!==null&&Pe.f&Ot&&!(Pe.f&(la|ss))&&(un===null?Cv([e]):un.push(e)),!s.is_fork&&gi.size>0&&!\$c&&xv()}return t}function xv(){\$c=!1;for(let e of gi)e.f&Ot&&bt(e,Ln),yr(e)&&ur(e);gi.clear()}function Cc(e,t=1){var n=a(e),s=t===1?n++:n--;return l(e,n),s}function js(e){l(e,e.v+1)}function jc(e,t){var n=e.reactions;if(n!==null)for(var s=us(),r=n.length,o=0;o<r;o++){var i=n[o],c=i.f;if(!(!s&&i===Pe)){var u=(c&Mt)===0;if(u&&bt(i,t),(c&Ct)!==0){var f=i;Kt?.delete(f),!(c&ts)&&(c&dn&&(i.f|=ts),jc(f,Ln))}else u&&(c&Sn&&On!==null&&On.add(i),qn(i))}}}function _e(e){if(typeof e!="object"||e===null||oa in e)return e;let t=Qr(e);if(t!==ov&&t!==iv)return e;var n=new Map,s=wi(e),r=S(0),o=es,i=c=>{if(es===o)return c();var u=xe,f=es;Ut(null),Wl(o);var h=c();return Ut(u),Wl(f),h};return s&&n.set("length",S(e.length)),new Proxy(e,{defineProperty(c,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&fv();var h=n.get(u);return h===void 0?h=i(()=>{var m=S(f.value);return n.set(u,m),m}):l(h,f.value,!0),!0},deleteProperty(c,u){var f=n.get(u);if(f===void 0){if(u in c){let h=i(()=>S(\$t));n.set(u,h),js(r)}}else l(f,\$t),js(r);return!0},get(c,u,f){var h;if(u===oa)return e;var m=n.get(u),y=u in c;if(m===void 0&&(!y||(h=Za(c,u))!=null&&h.writable)&&(m=i(()=>{var k=_e(y?c[u]:\$t),w=S(k);return w}),n.set(u,m)),m!==void 0){var g=a(m);return g===\$t?void 0:g}return Reflect.get(c,u,f)},getOwnPropertyDescriptor(c,u){var f=Reflect.getOwnPropertyDescriptor(c,u);if(f&&"value"in f){var h=n.get(u);h&&(f.value=a(h))}else if(f===void 0){var m=n.get(u),y=m?.v;if(m!==void 0&&y!==\$t)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return f},has(c,u){var f;if(u===oa)return!0;var h=n.get(u),m=h!==void 0&&h.v!==\$t||Reflect.has(c,u);if(h!==void 0||Pe!==null&&(!m||(f=Za(c,u))!=null&&f.writable)){h===void 0&&(h=i(()=>{var g=m?_e(c[u]):\$t,k=S(g);return k}),n.set(u,h));var y=a(h);if(y===\$t)return!1}return m},set(c,u,f,h){var m,y=n.get(u),g=u in c;if(s&&u==="length")for(var k=f;k<y.v;k+=1){var w=n.get(k+"");w!==void 0?l(w,\$t):k in c&&(w=i(()=>S(\$t)),n.set(k+"",w))}if(y===void 0)(!g||(m=Za(c,u))!=null&&m.writable)&&(y=i(()=>S(void 0)),l(y,_e(f)),n.set(u,y));else{g=y.v!==\$t;var \$=i(()=>_e(f));l(y,\$)}var _=Reflect.getOwnPropertyDescriptor(c,u);if(_!=null&&_.set&&_.set.call(h,f),!g){if(s&&typeof u=="string"){var j=n.get("length"),P=Number(u);Number.isInteger(P)&&P>=j.v&&l(j,P+1)}js(r)}return!0},ownKeys(c){a(r);var u=Reflect.ownKeys(c).filter(m=>{var y=n.get(m);return y===void 0||y.v!==\$t});for(var[f,h]of n)h.v!==\$t&&!(f in c)&&u.push(f);return u},setPrototypeOf(){pv()}})}function no(){if(Ts===void 0){Ts=window,Ti=document,Ni=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Tc=Za(t,"firstChild").get,Nc=Za(t,"nextSibling").get,Ll(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ll(n)&&(n.__t=void 0)}}function _t(e=""){return document.createTextNode(e)}function fn(e){return Tc.call(e)}function Dt(e){return Nc.call(e)}function v(e,t){if(!ve)return fn(e);var n=fn(be);if(n===null)n=be.appendChild(_t());else if(t&&n.nodeType!==vr){var s=_t();return n?.before(s),ut(s),s}return ut(n),n}function ce(e,t=!1){if(!ve){var n=fn(e);return n instanceof Comment&&n.data===""?Dt(n):n}if(t&&be?.nodeType!==vr){var s=_t();return be?.before(s),ut(s),s}return be}function p(e,t=1,n=!1){let s=ve?be:e;for(var r;t--;)r=s,s=Dt(s);if(!ve)return s;if(n&&s?.nodeType!==vr){var o=_t();return s===null?r?.after(o):s.before(o),ut(o),o}return ut(s),s}function mr(e){e.textContent=""}function ao(){return!1}function Rc(e){ve&&fn(e)!==null&&mr(e)}function Ri(){Fl||(Fl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(let n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function za(e){var t=xe,n=Pe;Ut(null),_n(null);try{return e()}finally{Ut(t),_n(n)}}function Oc(e,t,n,s=n){e.addEventListener(t,()=>za(n));let r=e.__on_r;r?e.__on_r=()=>{r(),s(!0)}:e.__on_r=()=>s(!0),Ri()}function zc(e){Pe===null&&(xe===null&&dv(),uv()),ia&&cv()}function Pv(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Fn(e,t,n){var s=Pe;s!==null&&s.f&Gt&&(e|=Gt);var r={ctx:Je,deps:null,nodes:null,f:e|Mt|dn,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ur(r),r.f|=rs}catch(c){throw jt(r),c}else t!==null&&qn(r);var o=r;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&!(o.f&os)&&(o=o.first,e&Sn&&e&Ht&&o!==null&&(o.f|=Ht)),o!==null&&(o.parent=s,s!==null&&Pv(o,s),xe!==null&&(xe.f&Ct)!==0&&(e&ss)===0)){var i=xe;(i.effects??(i.effects=[])).push(o)}return r}function so(){return xe!==null&&!bn}function Oi(e){let t=Fn(dr,null,!1);return bt(t,Ot),t.teardown=e,t}function vt(e){zc();var t=Pe.f,n=!xe&&(t&la)!==0&&(t&rs)===0;if(n){var s=Je;(s.e??(s.e=[])).push(e)}else return qc(e)}function qc(e){return Fn(Vr|Kl,e,!1)}function ro(e){return zc(),Fn(dr|Kl,e,!0)}function Ac(e){Oa.ensure();let t=Fn(ss|os,e,!0);return(n={})=>new Promise(s=>{n.outro?Dn(t,()=>{jt(t),s(void 0)}):(jt(t),s(void 0))})}function Rs(e){return Fn(Vr,e,!1)}function Ev(e){return Fn(_i|os,e,!0)}function Os(e,t=0){return Fn(dr|t,e,!0)}function D(e,t=[],n=[],s=[]){wv(s,t,n,r=>{Fn(dr,()=>e(...r.map(a)),!0)})}function Xt(e,t=0){var n=Fn(Sn|t,e,!0);return n}function Wt(e){return Fn(la|os,e,!0)}function Lc(e){var t=e.teardown;if(t!==null){let n=ia,s=xe;Dl(!0),Ut(null);try{t.call(null)}finally{Dl(n),Ut(s)}}}function Mc(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){let r=n.ac;r!==null&&za(()=>{r.abort(Cs)});var s=n.next;n.f&ss?n.parent=null:jt(n,t),n=s}}function Iv(e){for(var t=e.first;t!==null;){var n=t.next;!(t.f&la)&&jt(t),t=n}}function jt(e,t=!0){var n=!1;(t||e.f&Hr)&&e.nodes!==null&&e.nodes.end!==null&&(\$v(e.nodes.start,e.nodes.end),n=!0),Mc(e,t&&!n),Yr(e,0),bt(e,zn);var s=e.nodes&&e.nodes.t;if(s!==null)for(let o of s)o.stop();Lc(e);var r=e.parent;r!==null&&r.first!==null&&Uc(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function \$v(e,t){for(;e!==null;){var n=e===t?null:Dt(e);e.remove(),e=n}}function Uc(e){var t=e.parent,n=e.prev,s=e.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=n))}function Dn(e,t,n=!0){var s=[];Fc(e,s,!0);var r=()=>{n&&jt(e),t&&t()},o=s.length;if(o>0){var i=()=>--o||r();for(var c of s)c.out(i)}else r()}function Fc(e,t,n){if(!(e.f&Gt)){e.f^=Gt;var s=e.nodes&&e.nodes.t;if(s!==null)for(let c of s)(c.is_global||n)&&t.push(c);for(var r=e.first;r!==null;){var o=r.next,i=(r.f&Ht)!==0||(r.f&la)!==0&&(e.f&Sn)!==0;Fc(r,t,i?n:!1),r=o}}}function gr(e){Dc(e,!0)}function Dc(e,t){if(e.f&Gt){e.f^=Gt,!(e.f&Ot)&&(bt(e,Mt),qn(e));for(var n=e.first;n!==null;){var s=n.next,r=(n.f&Ht)!==0||(n.f&la)!==0;Dc(n,r?t:!1),n=s}var o=e.nodes&&e.nodes.t;if(o!==null)for(let i of o)(i.is_global||t)&&i.in()}}function oo(e,t){if(e.nodes)for(var n=e.nodes.start,s=e.nodes.end;n!==null;){var r=n===s?null:Dt(n);t.append(n),n=r}}function Dl(e){ia=e}function Ut(e){xe=e}function _n(e){Pe=e}function Wc(e){xe!==null&&(vn===null?vn=[e]:vn.push(e))}function Cv(e){un=e}function Wl(e){es=e}function Bc(){return++Vc}function yr(e){var t=e.f;if(t&Mt)return!0;if(t&Ct&&(e.f&=~ts),(t&Ln)!==0){for(var n=e.deps,s=n.length,r=0;r<s;r++){var o=n[r];if(yr(o)&&Ic(o),o.wv>e.wv)return!0}t&dn&&Kt===null&&bt(e,Ot)}return!1}function Yc(e,t,n=!0){var s=e.reactions;if(s!==null&&!(vn!=null&&vn.includes(e)))for(var r=0;r<s.length;r++){var o=s[r];o.f&Ct?Yc(o,t,!1):t===o&&(n?bt(o,Mt):o.f&Ot&&bt(o,Ln),qn(o))}}function Jc(e){var t,n=Qt,s=nn,r=un,o=xe,i=vn,c=Je,u=bn,f=es,h=e.f;Qt=null,nn=0,un=null,xe=h&(la|ss)?null:e,vn=null,ns(e.ctx),bn=!1,es=++Xa,e.ac!==null&&(za(()=>{e.ac.abort(Cs)}),e.ac=null);try{e.f|=vi;var m=e.fn,y=m(),g=e.deps;if(Qt!==null){var k;if(Yr(e,nn),g!==null&&nn>0)for(g.length=nn+Qt.length,k=0;k<Qt.length;k++)g[nn+k]=Qt[k];else e.deps=g=Qt;if(so()&&e.f&dn)for(k=nn;k<g.length;k++)((t=g[k]).reactions??(t.reactions=[])).push(e)}else g!==null&&nn<g.length&&(Yr(e,nn),g.length=nn);if(us()&&un!==null&&!bn&&g!==null&&!(e.f&(Ct|Ln|Mt)))for(k=0;k<un.length;k++)Yc(un[k],e);if(o!==null&&o!==e){if(Xa++,o.deps!==null)for(let w=0;w<s;w+=1)o.deps[w].rv=Xa;if(n!==null)for(let w of n)w.rv=Xa;un!==null&&(r===null?r=un:r.push(...un))}return e.f&ja&&(e.f^=ja),y}catch(w){return Ei(w)}finally{e.f^=vi,Qt=n,nn=s,un=r,xe=o,vn=i,ns(c),bn=u,es=f}}function jv(e,t){let n=t.reactions;if(n!==null){var s=rv.call(n,e);if(s!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[s]=n[r],n.pop())}}if(n===null&&t.f&Ct&&(Qt===null||!Qt.includes(t))){var o=t;o.f&dn&&(o.f^=dn,o.f&=~ts),Ii(o),Ec(o),Yr(o,0)}}function Yr(e,t){var n=e.deps;if(n!==null)for(var s=t;s<n.length;s++)jv(e,n[s])}function ur(e){var t=e.f;if(!(t&zn)){bt(e,Ot);var n=Pe,s=Wr;Pe=e,Wr=!0;try{t&(Sn|Ql)?Iv(e):Mc(e),Lc(e);var r=Jc(e);e.teardown=typeof r=="function"?r:null,e.wv=Vc;var o}finally{Wr=s,Pe=n}}}async function Pn(){await Promise.resolve(),Ci()}function Qc(){return Oa.ensure().settled()}function a(e){var t=e.f,n=(t&Ct)!==0;if(xe!==null&&!bn){var s=Pe!==null&&(Pe.f&zn)!==0;if(!s&&!(vn!=null&&vn.includes(e))){var r=xe.deps;if(xe.f&vi)e.rv<Xa&&(e.rv=Xa,Qt===null&&r!==null&&r[nn]===e?nn++:Qt===null?Qt=[e]:Qt.push(e));else{(xe.deps??(xe.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[xe]:o.includes(xe)||o.push(xe)}}}if(ia&&Ta.has(e))return Ta.get(e);if(n){var i=e;if(ia){var c=i.v;return(!(i.f&Ot)&&i.reactions!==null||Gc(i))&&(c=ji(i)),Ta.set(i,c),c}var u=(i.f&dn)===0&&!bn&&xe!==null&&(Wr||(xe.f&dn)!==0),f=i.deps===null;yr(i)&&(u&&(i.f|=dn),Ic(i)),u&&!f&&Kc(i)}if(Kt!=null&&Kt.has(e))return Kt.get(e);if(e.f&ja)throw e.v;return e.v}function Kc(e){if(e.deps!==null){e.f|=dn;for(let t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&Ct&&!(t.f&dn)&&Kc(t)}}function Gc(e){if(e.v===\$t)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(Ta.has(t)||t.f&Ct&&Gc(t))return!0;return!1}function Vt(e){var t=bn;try{return bn=!0,e()}finally{bn=t}}function Hc(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(oa in e)yi(e);else if(!Array.isArray(e))for(let t in e){let n=e[t];typeof n=="object"&&n&&oa in n&&yi(n)}}}function yi(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{yi(e[s],t)}catch{}let n=Qr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){let s=bi(n);for(let r in s){let o=s[r].get;if(o)try{o.call(e)}catch{}}}}}var av,Vl,sv,Ka,ki,ot,ra,Ja,nr,wi,rv,Ns,Jr,Za,bi,ov,iv,Qr,Ll,An,Ct,Vr,dr,Ql,Sn,la,ss,Gr,dn,Ot,Mt,Ln,Gt,zn,rs,Ht,Ml,Hr,os,Kl,Mn,ts,vi,_i,ja,oa,Xr,Gl,Cs,vr,Un,ec,tc,Si,nc,ac,sc,rc,oc,ic,lc,cc,uc,dc,vc,fc,xi,is,fr,ls,\$t,pc,ve,be,Ra,Je,Ha,gv,Dr,Te,Br,Kt,an,eo,fi,ir,ar,sr,Ca,Qa,rr,lr,cr,or,Ga,pi,hi,bc,yv,Oa,On,gi,Ta,\$c,Ts,Ti,Ni,Tc,Nc,Fl,Wr,ia,xe,bn,Pe,vn,Qt,nn,un,Vc,Xa,es,st=De(()=>{"use strict";av=Object.defineProperty,Vl=e=>{throw TypeError(e)},sv=(e,t,n)=>t in e?av(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ka=(e,t,n)=>sv(e,typeof t!="symbol"?t+"":t,n),ki=(e,t,n)=>t.has(e)||Vl("Cannot "+n),ot=(e,t,n)=>(ki(e,t,"read from private field"),n?n.call(e):t.get(e)),ra=(e,t,n)=>t.has(e)?Vl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ja=(e,t,n,s)=>(ki(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),nr=(e,t,n)=>(ki(e,t,"access private method"),n),wi=Array.isArray,rv=Array.prototype.indexOf,Ns=Array.from,Jr=Object.defineProperty,Za=Object.getOwnPropertyDescriptor,bi=Object.getOwnPropertyDescriptors,ov=Object.prototype,iv=Array.prototype,Qr=Object.getPrototypeOf,Ll=Object.isExtensible;An=()=>{};Ct=2,Vr=4,dr=8,Ql=1<<24,Sn=16,la=32,ss=64,Gr=128,dn=512,Ot=1024,Mt=2048,Ln=4096,Gt=8192,zn=16384,rs=32768,Ht=65536,Ml=1<<17,Hr=1<<18,os=1<<19,Kl=1<<20,Mn=1<<25,ts=32768,vi=1<<21,_i=1<<22,ja=1<<23,oa=Symbol("\$state"),Xr=Symbol("legacy props"),Gl=Symbol(""),Cs=new class extends Error{constructor(){super(...arguments),Ka(this,"name","StaleReactionError"),Ka(this,"message","The reaction that called \`getAbortSignal()\` was re-run or destroyed")}},vr=3,Un=8;ec=1,tc=2,Si=4,nc=8,ac=16,sc=1,rc=2,oc=4,ic=8,lc=16,cc=1,uc=2,dc=4,vc=1,fc=2,xi="[",is="[!",fr="]",ls={},\$t=Symbol(),pc="http://www.w3.org/1999/xhtml";ve=!1;Ra=!1;Je=null;Ha=[];gv=-7169;Dr=new Set,Te=null,Br=null,Kt=null,an=[],eo=null,fi=!1,ir=!1,yv=class _c{constructor(){ra(this,Ga),Ka(this,"committed",!1),Ka(this,"current",new Map),Ka(this,"previous",new Map),ra(this,ar,new Set),ra(this,sr,new Set),ra(this,Ca,0),ra(this,Qa,0),ra(this,rr,null),ra(this,lr,new Set),ra(this,cr,new Set),Ka(this,"skipped_effects",new Set),Ka(this,"is_fork",!1),ra(this,or,!1)}is_deferred(){return this.is_fork||ot(this,Qa)>0}process(t){var n;an=[],this.apply();var s=[],r=[];for(let o of t)nr(this,Ga,pi).call(this,o,s,r);if(this.is_deferred())nr(this,Ga,hi).call(this,r),nr(this,Ga,hi).call(this,s);else{for(let o of ot(this,ar))o();ot(this,ar).clear(),ot(this,Ca)===0&&nr(this,Ga,bc).call(this),Br=this,Te=null,Ul(r),Ul(s),Br=null,(n=ot(this,rr))==null||n.resolve()}Kt=null}capture(t,n){n!==\$t&&!this.previous.has(t)&&this.previous.set(t,n),!(t.f&ja)&&(this.current.set(t,t.v),Kt?.set(t,t.v))}activate(){Te=this,this.apply()}deactivate(){Te===this&&(Te=null,Kt=null)}flush(){if(this.activate(),an.length>0){if(Sc(),Te!==null&&Te!==this)return}else ot(this,Ca)===0&&this.process([]);this.deactivate()}discard(){for(let t of ot(this,sr))t(this);ot(this,sr).clear()}increment(t){Ja(this,Ca,ot(this,Ca)+1),t&&Ja(this,Qa,ot(this,Qa)+1)}decrement(t){Ja(this,Ca,ot(this,Ca)-1),t&&Ja(this,Qa,ot(this,Qa)-1),!ot(this,or)&&(Ja(this,or,!0),zt(()=>{Ja(this,or,!1),this.is_deferred()?an.length>0&&this.flush():this.revive()}))}revive(){for(let t of ot(this,lr))ot(this,cr).delete(t),bt(t,Mt),qn(t);for(let t of ot(this,cr))bt(t,Ln),qn(t);this.flush()}oncommit(t){ot(this,ar).add(t)}ondiscard(t){ot(this,sr).add(t)}settled(){return(ot(this,rr)??Ja(this,rr,Jl())).promise}static ensure(){if(Te===null){let t=Te=new _c;Dr.add(Te),ir||zt(()=>{Te===t&&t.flush()})}return Te}apply(){}};ar=new WeakMap,sr=new WeakMap,Ca=new WeakMap,Qa=new WeakMap,rr=new WeakMap,lr=new WeakMap,cr=new WeakMap,or=new WeakMap,Ga=new WeakSet,pi=function(e,t,n){e.f^=Ot;for(var s=e.first,r=null;s!==null;){var o=s.f,i=(o&(la|ss))!==0,c=i&&(o&Ot)!==0,u=c||(o&Gt)!==0||this.skipped_effects.has(s);if(!u&&s.fn!==null){i?s.f^=Ot:r!==null&&o&(Vr|dr|Ql)?r.b.defer_effect(s):o&Vr?t.push(s):yr(s)&&(o&Sn&&ot(this,lr).add(s),ur(s));var f=s.first;if(f!==null){s=f;continue}}var h=s.parent;for(s=s.next;s===null&&h!==null;)h===r&&(r=null),s=h.next,h=h.parent}},hi=function(e){for(var t=0;t<e.length;t+=1)\$i(e[t],ot(this,lr),ot(this,cr))},bc=function(){var e;if(Dr.size>1){this.previous.clear();var t=Kt,n=!0;for(let r of Dr){if(r===this){n=!1;continue}let o=[];for(let[c,u]of this.current){if(r.current.has(c))if(n&&u!==r.current.get(c))r.current.set(c,u);else continue;o.push(c)}if(o.length===0)continue;let i=[...r.current.keys()].filter(c=>!this.current.has(c));if(i.length>0){var s=an;an=[];let c=new Set,u=new Map;for(let f of o)xc(f,i,c,u);if(an.length>0){Te=r,r.apply();for(let f of an)nr(e=r,Ga,pi).call(e,f,[],[]);r.deactivate()}an=s}}Te=null,Kt=t}this.committed=!0,Dr.delete(this)};Oa=yv;On=null;gi=new Set,Ta=new Map,\$c=!1;Fl=!1;Wr=!1,ia=!1;xe=null,bn=!1;Pe=null;vn=null;Qt=null,nn=0,un=null;Vc=1,Xa=0,es=Xa});function Xc(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function sn(e){Je===null&&Xc(),Ra&&Je.l!==null?Tv(Je).m.push(e):vt(()=>{let t=Vt(e);if(typeof t=="function")return t})}function zs(e){Je===null&&Xc(),sn(()=>()=>Vt(e))}function Tv(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}var qs=De(()=>{"use strict";st()});function Vi(e,t=An){let n=null,s=new Set;function r(c){if(Pi(e,c)&&(e=c,n)){let u=!As.length;for(let f of s)f[1](),As.push(f,e);if(u){for(let f=0;f<As.length;f+=2)As[f][0](As[f+1]);As.length=0}}}function o(c){r(c(e))}function i(c,u=An){let f=[c,u];return s.add(f),s.size===1&&(n=t(r,o)||An),c(e),()=>{s.delete(f),s.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:i}}function Rv(e,t){return e==="/"||t==="ignore"?e:t==="never"?e.endsWith("/")?e.slice(0,-1):e:t==="always"&&!e.endsWith("/")?e+"/":e}function Ov(e){return e.split("%25").map(decodeURI).join("%25")}function zv(e){for(let t in e)e[t]=decodeURIComponent(e[t]);return e}function zi({href:e}){return e.split("#")[0]}function qv(...e){let t=5381;for(let n of e)if(typeof n=="string"){let s=n.length;for(;s;)t=t*33^n.charCodeAt(--s)}else if(ArrayBuffer.isView(n)){let s=new Uint8Array(n.buffer,n.byteOffset,n.byteLength),r=s.length;for(;r;)t=t*33^s[--r]}else throw new TypeError("value must be a string or TypedArray");return(t>>>0).toString(36)}function Av(e){let t=atob(e),n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}function Mv(e,t){let n=Bi(e,t),s=document.querySelector(n);if(s!=null&&s.textContent){s.remove();let{body:r,...o}=JSON.parse(s.textContent),i=s.getAttribute("data-ttl");return i&&wr.set(n,{body:r,init:o,ttl:1e3*Number(i)}),s.getAttribute("data-b64")!==null&&(r=Av(r)),Promise.resolve(new Response(r,o))}return window.fetch(e,t)}function Uv(e,t,n){if(wr.size>0){let s=Bi(e,n),r=wr.get(s);if(r){if(performance.now()<r.ttl&&["default","force-cache","only-if-cached",void 0].includes(n?.cache))return new Response(r.body,r.init);wr.delete(s)}}return window.fetch(t,n)}function Bi(e,t){let n=\`script[data-sveltekit-fetched][data-url=\${JSON.stringify(e instanceof Request?e.url:e)}]\`;if(t!=null&&t.headers||t!=null&&t.body){let s=[];t.headers&&s.push([...new Headers(t.headers)].join(",")),t.body&&(typeof t.body=="string"||ArrayBuffer.isView(t.body))&&s.push(t.body),n+=\`[data-hash="\${qv(...s)}"]\`}return n}function Dv(e){let t=[];return{pattern:e==="/"?/^\\/\$/:new RegExp(\`^\${Vv(e).map(n=>{let s=/^\\[\\.\\.\\.(\\w+)(?:=(\\w+))?\\]\$/.exec(n);if(s)return t.push({name:s[1],matcher:s[2],optional:!1,rest:!0,chained:!0}),"(?:/([^]*))?";let r=/^\\[\\[(\\w+)(?:=(\\w+))?\\]\\]\$/.exec(n);if(r)return t.push({name:r[1],matcher:r[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!n)return;let o=n.split(/\\[(.+?)\\](?!\\])/);return"/"+o.map((i,c)=>{if(c%2){if(i.startsWith("x+"))return qi(String.fromCharCode(parseInt(i.slice(2),16)));if(i.startsWith("u+"))return qi(String.fromCharCode(...i.slice(2).split("-").map(g=>parseInt(g,16))));let u=Fv.exec(i),[,f,h,m,y]=u;return t.push({name:m,matcher:y,optional:!!f,rest:!!h,chained:h?c===1&&o[0]==="":!1}),h?"([^]*?)":f?"([^/]*)?":"([^/]+?)"}return qi(i)}).join("")}).join("")}/?\$\`),params:t}}function Wv(e){return e!==""&&!/^\\([^)]+\\)\$/.test(e)}function Vv(e){return e.slice(1).split("/").filter(Wv)}function Bv(e,t,n){let s={},r=e.slice(1),o=r.filter(c=>c!==void 0),i=0;for(let c=0;c<t.length;c+=1){let u=t[c],f=r[c-i];if(u.chained&&u.rest&&i&&(f=r.slice(c-i,c+1).filter(h=>h).join("/"),i=0),f===void 0){u.rest&&(s[u.name]="");continue}if(!u.matcher||n[u.matcher](f)){s[u.name]=f;let h=t[c+1],m=r[c+1];h&&!h.rest&&h.optional&&m&&u.chained&&(i=0),!h&&!m&&Object.keys(s).length===o.length&&(i=0);continue}if(u.optional&&u.chained){i++;continue}return}if(!i)return s}function qi(e){return e.normalize().replace(/[[\\]]/g,"\\\\\$&").replace(/%/g,"%25").replace(/\\//g,"%2[Ff]").replace(/\\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^\${}()|\\\\]/g,"\\\\\$&")}function Yv({nodes:e,server_loads:t,dictionary:n,matchers:s}){let r=new Set(t);return Object.entries(n).map(([c,[u,f,h]])=>{let{pattern:m,params:y}=Dv(c),g={id:c,exec:k=>{let w=m.exec(k);if(w)return Bv(w,y,s)},errors:[1,...h||[]].map(k=>e[k]),layouts:[0,...f||[]].map(i),leaf:o(u)};return g.errors.length=g.layouts.length=Math.max(g.errors.length,g.layouts.length),g});function o(c){let u=c<0;return u&&(c=~c),[u,e[c]]}function i(c){return c===void 0?c:[r.has(c),e[c]]}}function vu(e,t=JSON.parse){try{return t(sessionStorage[e])}catch{}}function Zc(e,t,n=JSON.stringify){let s=n(t);try{sessionStorage[e]=s}catch{}}function Yi(e){if(e instanceof URL)return e;let t=document.baseURI;if(!t){let n=document.getElementsByTagName("base");t=n.length?n[0].href:document.URL}return new URL(e,t)}function \$o(){return{x:pageXOffset,y:pageYOffset}}function Ls(e,t){return e.getAttribute(\`data-sveltekit-\${t}\`)}function mu(e){let t=e.assignedSlot??e.parentNode;return t?.nodeType===11&&(t=t.host),t}function gu(e,t){for(;e&&e!==t;){if(e.nodeName.toUpperCase()==="A"&&e.hasAttribute("href"))return e;e=mu(e)}}function Mi(e,t,n){let s;try{if(s=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI),n&&s.hash.match(/^#[^/]/)){let c=location.hash.split("#")[1]||"/";s.hash=\`#\${c}\${s.hash}\`}}catch{}let r=e instanceof SVGAElement?e.target.baseVal:e.target,o=!s||!!r||Co(s,t,n)||(e.getAttribute("rel")||"").split(/\\s+/).includes("external"),i=s?.origin===Io&&e.hasAttribute("download");return{url:s,external:o,target:r,download:i}}function ko(e){let t=null,n=null,s=null,r=null,o=null,i=null,c=e;for(;c&&c!==document.documentElement;)s===null&&(s=Ls(c,"preload-code")),r===null&&(r=Ls(c,"preload-data")),t===null&&(t=Ls(c,"keepfocus")),n===null&&(n=Ls(c,"noscroll")),o===null&&(o=Ls(c,"reload")),i===null&&(i=Ls(c,"replacestate")),c=mu(c);function u(f){switch(f){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:nu[s??"off"],preload_data:nu[r??"off"],keepfocus:u(t),noscroll:u(n),reload:u(o),replace_state:u(i)}}function au(e){let t=Vi(e),n=!0;function s(){n=!0,t.update(i=>i)}function r(i){n=!1,t.set(i)}function o(i){let c;return t.subscribe(u=>{(c===void 0||n&&u!==c)&&i(c=u)})}return{notify:s,set:r,subscribe:o}}function Gv(){let{set:e,subscribe:t}=Vi(!1),n;async function s(){clearTimeout(n);try{let r=await fetch(\`\${Jv}/_app/version.json\`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!r.ok)return!1;let o=(await r.json()).version!==Qv;return o&&(e(!0),yu.v(),clearTimeout(n)),o}catch{return!1}}return{subscribe:t,check:s}}function Co(e,t,n){return e.origin!==Io||!e.pathname.startsWith(t)?!0:n?e.pathname!==location.pathname:!1}function Xv(e){return e.filter(t=>t!=null)}function Ji(e){return e instanceof _r||e instanceof xr?e.status:500}function Zv(e){return e instanceof xr?e.text:"Internal Error"}function tf(e){Object.assign(Tt,e)}function Qi(e){ps[e]=\$o()}function af(e,t){let n=e+1;for(;ps[n];)delete ps[n],n+=1;for(n=t+1;Ir[n];)delete Ir[n],n+=1}function \$r(e,t=!1){return t?location.replace(e.href):location.href=e.href,new Promise(()=>{})}async function wu(){if("serviceWorker"in navigator){let e=await navigator.serviceWorker.getRegistration(hn||"/");e&&await e.update()}}function iu(){}function Di(){var e;(e=Bt?.fork)==null||e.then(t=>t?.discard()),Bt=null}async function Hi(e,t,n){var s,r,o,i,c;(s=globalThis.__sveltekit_174pvko)!=null&&s.data&&globalThis.__sveltekit_174pvko.data,document.URL!==location.href&&(location.href=location.href),Et=e,await((o=(r=e.hooks).init)==null?void 0:o.call(r)),Ki=Yv(e),ua=document.documentElement,Fi=t,Ui=e.nodes[0],wo=e.nodes[1],Ui(),wo(),qt=(i=history.state)==null?void 0:i[Ms],pn=(c=history.state)==null?void 0:c[Pr],qt||(qt=pn=Date.now(),history.replaceState({...history.state,[Ms]:qt,[Pr]:pn},""));let u=ps[qt];function f(){u&&(history.scrollRestoration="manual",scrollTo(u.x,u.y))}n?(f(),await yf(Fi,n)):(await Us({type:"enter",url:Yi(Et.hash?bf(new URL(location.href)):location.href),replace_state:!0}),f()),gf()}function rf(){bo.length=0,Gi=!1}function Pu(e){_o.some(t=>t?.snapshot)&&(Ir[e]=_o.map(t=>{var n;return(n=t?.snapshot)==null?void 0:n.capture()}))}function Eu(e){var t;(t=Ir[e])==null||t.forEach((n,s)=>{var r,o;(o=(r=_o[s])==null?void 0:r.snapshot)==null||o.restore(n)})}function uu(){Qi(qt),Zc(pu,ps),Pu(pn),Zc(fu,Ir)}async function Iu(e,t,n,s){let r;t.invalidateAll&&Di(),await Us({type:"goto",url:Yi(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:n,nav_token:s,accept:()=>{t.invalidateAll&&(Gi=!0,r=[...cu.keys()]),t.invalidate&&t.invalidate.forEach(mf)}}),t.invalidateAll&&Pn().then(Pn).then(()=>{cu.forEach(({resource:o},i)=>{var c;r!=null&&r.includes(i)&&((c=o.refresh)==null||c.call(o))})})}async function of(e){if(e.id!==Bt?.id){Di();let t={};xo.add(t),Bt={id:e.id,token:t,promise:Cu({...e,preload:t}).then(n=>(xo.delete(t),n.type==="loaded"&&n.state.error&&Di(),n)),fork:null}}return Bt.promise}async function Li(e){var t;let n=(t=await jo(e,!1))==null?void 0:t.route;n&&await Promise.all([...n.layouts,n.leaf].map(s=>s?.[1]()))}async function \$u(e,t,n){var s;Ge=e.state;let r=document.querySelector("style[data-sveltekit]");if(r&&r.remove(),Object.assign(Tt,e.props.page),xu=new Et.root({target:t,props:{...e.props,stores:Vn,components:_o},hydrate:n,sync:!1}),await Promise.resolve(),Eu(pn),n){let o={from:null,to:{params:Ge.params,route:{id:((s=Ge.route)==null?void 0:s.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};br.forEach(i=>i(o))}So=!0}function Po({url:e,params:t,branch:n,status:s,error:r,route:o,form:i}){let c="never";if(hn&&(e.pathname===hn||e.pathname===hn+"/"))c="always";else for(let y of n)y?.slash!==void 0&&(c=y.slash);e.pathname=Rv(e.pathname,c),e.search=e.search;let u={type:"loaded",state:{url:e,params:t,branch:n,error:r,route:o},props:{constructors:Xv(n).map(y=>y.node.component),page:nl(Tt)}};i!==void 0&&(u.props.form=i);let f={},h=!Tt,m=0;for(let y=0;y<Math.max(n.length,Ge.branch.length);y+=1){let g=n[y],k=Ge.branch[y];g?.data!==k?.data&&(h=!0),g&&(f={...f,...g.data},h&&(u.props[\`data_\${m}\`]=f),m+=1)}return(!Ge.url||e.href!==Ge.url.href||Ge.error!==r||i!==void 0&&i!==Tt.form||h)&&(u.props.page={error:r,params:t,route:{id:o?.id??null},state:{},status:s,url:new URL(e),form:i??null,data:h?f:Tt.data}),u}async function Xi({loader:e,parent:t,url:n,params:s,route:r,server_data_node:o}){var i,c;let u=null,f={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},h=await e();return{node:h,loader:e,server:o,universal:(i=h.universal)!=null&&i.load?{type:"data",data:u,uses:f}:null,data:u??o?.data??null,slash:((c=h.universal)==null?void 0:c.trailingSlash)??o?.slash}}function lf(e,t,n){let s=e instanceof Request?e.url:e,r=new URL(s,n);r.origin===n.origin&&(s=r.href.slice(n.origin.length));let o=So?Uv(s,r.href,t):Mv(s,t);return{resolved:r,promise:o}}function cf(e,t,n,s,r,o){if(Gi)return!0;if(!r)return!1;if(r.parent&&e||r.route&&t||r.url&&n)return!0;for(let i of r.search_params)if(s.has(i))return!0;for(let i of r.params)if(o[i]!==Ge.params[i])return!0;for(let i of r.dependencies)if(bo.some(c=>c(new URL(i))))return!0;return!1}function Zi(e,t){return e?.type==="data"?e:e?.type==="skip"?t??null:null}function uf(e,t){if(!e)return new Set(t.searchParams.keys());let n=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(let s of n){let r=e.searchParams.getAll(s),o=t.searchParams.getAll(s);r.every(i=>o.includes(i))&&o.every(i=>r.includes(i))&&n.delete(s)}return n}function df({error:e,url:t,route:n,params:s}){return{type:"loaded",state:{error:e,url:t,route:n,params:s,branch:[]},props:{page:nl(Tt),constructors:[]}}}async function Cu({id:e,invalidating:t,url:n,params:s,route:r,preload:o}){if(Bt?.id===e)return xo.delete(Bt.token),Bt.promise;let{errors:i,layouts:c,leaf:u}=r,f=[...c,u];i.forEach(\$=>\$?.().catch(()=>{})),f.forEach(\$=>\$?.[1]().catch(()=>{}));let h=Ge.url?e!==Eo(Ge.url):!1,m=Ge.route?r.id!==Ge.route.id:!1,y=uf(Ge.url,n),g=!1,k=f.map(async(\$,_)=>{var j;if(!\$)return;let P=Ge.branch[_];return \$[1]===P?.loader&&!cf(g,m,h,y,(j=P.universal)==null?void 0:j.uses,s)?P:(g=!0,Xi({loader:\$[1],url:n,params:s,route:r,parent:async()=>{var O;let A={};for(let W=0;W<_;W+=1)Object.assign(A,(O=await k[W])==null?void 0:O.data);return A},server_data_node:Zi(\$[0]?{type:"skip"}:null,\$[0]?P?.server:void 0)}))});for(let \$ of k)\$.catch(()=>{});let w=[];for(let \$=0;\$<f.length;\$+=1)if(f[\$])try{w.push(await k[\$])}catch(_){if(_ instanceof Sr)return{type:"redirect",location:_.location};if(xo.has(o))return df({error:await jr(_,{params:s,url:n,route:{id:r.id}}),url:n,params:s,route:r});let j=Ji(_),P;if(_ instanceof _r)P=_.body;else{if(await Vn.updated.check())return await wu(),await \$r(n);P=await jr(_,{params:s,url:n,route:{id:r.id}})}let O=await vf(\$,w,i);return O?Po({url:n,params:s,branch:w.slice(0,O.idx).concat(O.node),status:j,error:P,route:r}):await Tu(n,{id:r.id},P,j)}else w.push(void 0);return Po({url:n,params:s,branch:w,status:200,error:null,route:r,form:t?void 0:null})}async function vf(e,t,n){for(;e--;)if(n[e]){let s=e;for(;!t[s];)s-=1;try{return{idx:s+1,node:{node:await n[e](),loader:n[e],data:{},server:null,universal:null}}}catch{continue}}}async function el({status:e,error:t,url:n,route:s}){let r={},o=null;try{let i=await Xi({loader:Ui,url:n,params:r,route:s,parent:()=>Promise.resolve({}),server_data_node:Zi(o)}),c={node:await wo(),loader:wo,universal:null,server:null,data:null};return Po({url:n,params:r,branch:[i,c],status:e,error:t,route:null})}catch(i){if(i instanceof Sr)return Iu(new URL(i.location,location.href),{},0);throw i}}async function ff(e){let t=e.href;if(yo.has(t))return yo.get(t);let n;try{let s=(async()=>{let r=await Et.hooks.reroute({url:new URL(e),fetch:async(o,i)=>lf(o,i,e).promise})??e;if(typeof r=="string"){let o=new URL(e);Et.hash?o.hash=r:o.pathname=r,r=o}return r})();yo.set(t,s),n=await s}catch{yo.delete(t);return}return n}async function jo(e,t){if(e&&!Co(e,hn,Et.hash)){let n=await ff(e);if(!n)return;let s=pf(n);for(let r of Ki){let o=r.exec(s);if(o)return{id:Eo(e),invalidating:t,route:r,params:zv(o),url:e}}}}function pf(e){return Ov(Et.hash?e.hash.replace(/^#/,"").replace(/[?#].+/,""):e.pathname.slice(hn.length))||"/"}function Eo(e){return(Et.hash?e.hash.replace(/^#/,""):e.pathname)+e.search}function ju({url:e,type:t,intent:n,delta:s,event:r}){let o=!1,i=tl(Ge,n,e,t);s!==void 0&&(i.navigation.delta=s),r!==void 0&&(i.navigation.event=r);let c={...i.navigation,cancel:()=>{o=!0,i.reject(new Error("navigation cancelled"))}};return Cr||bu.forEach(u=>u(c)),o?null:i}async function Us({type:e,url:t,popped:n,keepfocus:s,noscroll:r,replace_state:o,state:i={},redirect_count:c=0,nav_token:u={},accept:f=iu,block:h=iu,event:m}){var y;let g=fs;fs=u;let k=await jo(t,!1),w=e==="enter"?tl(Ge,k,t,e):ju({url:t,type:e,delta:n?.delta,intent:k,event:m});if(!w){h(),fs===u&&(fs=g);return}let \$=qt,_=pn;f(),Cr=!0,So&&w.navigation.type!=="enter"&&Vn.navigating.set(Er.current=w.navigation);let j=k&&await Cu(k);if(!j){if(Co(t,hn,Et.hash))return await \$r(t,o);j=await Tu(t,{id:null},await jr(new xr(404,"Not Found",\`Not found: \${t.pathname}\`),{url:t,params:{},route:{id:null}}),404,o)}if(t=k?.url||t,fs!==u)return w.reject(new Error("navigation aborted")),!1;if(j.type==="redirect"){if(c<20){await Us({type:e,url:new URL(j.location,t),popped:n,keepfocus:s,noscroll:r,replace_state:o,state:i,redirect_count:c+1,nav_token:u}),w.fulfil(void 0);return}j=await el({status:500,error:await jr(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}})}else j.props.page.status>=400&&await Vn.updated.check()&&(await wu(),await \$r(t,o));if(rf(),Qi(\$),Pu(_),j.props.page.url.pathname!==t.pathname&&(t.pathname=j.props.page.url.pathname),i=n?n.state:i,!n){let M=o?0:1,I={[Ms]:qt+=M,[Pr]:pn+=M,[hu]:i};(o?history.replaceState:history.pushState).call(history,I,"",t),o||af(qt,pn)}let P=k&&Bt?.id===k.id?Bt.fork:null;Bt=null,j.props.page.state=i;let O;if(So){let M=(await Promise.all(Array.from(sf,T=>T(w.navigation)))).filter(T=>typeof T=="function");if(M.length>0){let T=function(){M.forEach(B=>{br.delete(B)})};M.push(T),M.forEach(B=>{br.add(B)})}Ge=j.state,j.props.page&&(j.props.page.url=t);let I=P&&await P;I?O=I.commit():(xu.\$set(j.props),tf(j.props.page),O=(y=Qc)==null?void 0:y()),Su=!0}else await \$u(j,Fi,!1);let{activeElement:A}=document;await O,await Pn(),await Pn();let W=n?n.scroll:r?\$o():null;if(lu){let M=t.hash&&document.getElementById(Nu(t));if(W)scrollTo(W.x,W.y);else if(M){M.scrollIntoView();let{top:I,left:T}=M.getBoundingClientRect();W={x:pageXOffset+T,y:pageYOffset+I}}else scrollTo(0,0)}let L=document.activeElement!==A&&document.activeElement!==document.body;!s&&!L&&wf(t,W),lu=!0,j.props.page&&Object.assign(Tt,j.props.page),Cr=!1,e==="popstate"&&Eu(pn),w.fulfil(void 0),br.forEach(M=>M(w.navigation)),Vn.navigating.set(Er.current=null)}async function Tu(e,t,n,s,r){return e.origin===Io&&e.pathname===location.pathname&&!_u?await el({status:s,error:n,url:e,route:t}):await \$r(e,r)}function hf(){let e,t={element:void 0,href:void 0},n;ua.addEventListener("mousemove",c=>{let u=c.target;clearTimeout(e),e=setTimeout(()=>{o(u,vs.hover)},20)});function s(c){c.defaultPrevented||o(c.composedPath()[0],vs.tap)}ua.addEventListener("mousedown",s),ua.addEventListener("touchstart",s,{passive:!0});let r=new IntersectionObserver(c=>{for(let u of c)u.isIntersecting&&(Li(new URL(u.target.href)),r.unobserve(u.target))},{threshold:0});async function o(c,u){let f=gu(c,ua),h=f===t.element&&f?.href===t.href&&u>=n;if(!f||h)return;let{url:m,external:y,download:g}=Mi(f,hn,Et.hash);if(y||g)return;let k=ko(f),w=m&&Eo(Ge.url)===Eo(m);if(!(k.reload||w))if(u<=k.preload_data){t={element:f,href:f.href},n=vs.tap;let \$=await jo(m,!1);if(!\$)return;of(\$)}else u<=k.preload_code&&(t={element:f,href:f.href},n=u,Li(m))}function i(){r.disconnect();for(let c of ua.querySelectorAll("a")){let{url:u,external:f,download:h}=Mi(c,hn,Et.hash);if(f||h)continue;let m=ko(c);m.reload||(m.preload_code===vs.viewport&&r.observe(c),m.preload_code===vs.eager&&Li(u))}}br.add(i),i()}function jr(e,t){if(e instanceof _r)return e.body;let n=Ji(e),s=Zv(e);return Et.hooks.handleError({error:e,event:t,status:n,message:s})??{message:s}}function To(e,t={}){return e=new URL(Yi(e)),e.origin!==Io?Promise.reject(new Error("goto: invalid URL")):Iu(e,t,0)}function mf(e){if(typeof e=="function")bo.push(e);else{let{href:t}=new URL(e,location.href);bo.push(n=>n.href===t)}}function gf(){var e;history.scrollRestoration="manual",addEventListener("beforeunload",n=>{let s=!1;if(uu(),!Cr){let r=tl(Ge,void 0,null,"leave"),o={...r.navigation,cancel:()=>{s=!0,r.reject(new Error("navigation cancelled"))}};bu.forEach(i=>i(o))}s?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&uu()}),(e=navigator.connection)!=null&&e.saveData||hf(),ua.addEventListener("click",async n=>{if(n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;let s=gu(n.composedPath()[0],ua);if(!s)return;let{url:r,external:o,target:i,download:c}=Mi(s,hn,Et.hash);if(!r)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;let u=ko(s);if(!(s instanceof SVGAElement)&&r.protocol!==location.protocol&&!(r.protocol==="https:"||r.protocol==="http:")||c)return;let[f,h]=(Et.hash?r.hash.replace(/^#/,""):r.href).split("#"),m=f===zi(location);if(o||u.reload&&(!m||!h)){ju({url:r,type:"link",event:n})?Cr=!0:n.preventDefault();return}if(h!==void 0&&m){let[,y]=Ge.url.href.split("#");if(y===h){if(n.preventDefault(),h===""||h==="top"&&s.ownerDocument.getElementById("top")===null)scrollTo({top:0});else{let g=s.ownerDocument.getElementById(decodeURIComponent(h));g&&(g.scrollIntoView(),g.focus())}return}if(kr=!0,Qi(qt),t(r),!u.replace_state)return;kr=!1}n.preventDefault(),await new Promise(y=>{requestAnimationFrame(()=>{setTimeout(y,0)}),setTimeout(y,100)}),await Us({type:"link",url:r,keepfocus:u.keepfocus,noscroll:u.noscroll,replace_state:u.replace_state??r.href===location.href,event:n})}),ua.addEventListener("submit",n=>{if(n.defaultPrevented)return;let s=HTMLFormElement.prototype.cloneNode.call(n.target),r=n.submitter;if((r?.formTarget||s.target)==="_blank"||(r?.formMethod||s.method)!=="get")return;let o=new URL(r?.hasAttribute("formaction")&&r?.formAction||s.action);if(Co(o,hn,!1))return;let i=n.target,c=ko(i);if(c.reload)return;n.preventDefault(),n.stopPropagation();let u=new FormData(i,r);o.search=new URLSearchParams(u).toString(),Us({type:"form",url:o,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??o.href===location.href,event:n})}),addEventListener("popstate",async n=>{var s;if(!Wi){if((s=n.state)!=null&&s[Ms]){let r=n.state[Ms];if(fs={},r===qt)return;let o=ps[r],i=n.state[hu]??{},c=new URL(n.state[Kv]??location.href),u=n.state[Pr],f=Ge.url?zi(location)===zi(Ge.url):!1;if(u===pn&&(Su||f)){i!==Tt.state&&(Tt.state=i),t(c),ps[qt]=\$o(),o&&scrollTo(o.x,o.y),qt=r;return}let h=r-qt;await Us({type:"popstate",url:c,popped:{state:i,scroll:o,delta:h},accept:()=>{qt=r,pn=u},block:()=>{history.go(-h)},nav_token:fs,event:n})}else if(!kr){let r=new URL(location.href);t(r),Et.hash&&location.reload()}}}),addEventListener("hashchange",()=>{kr&&(kr=!1,history.replaceState({...history.state,[Ms]:++qt,[Pr]:pn},"",location.href))});for(let n of document.querySelectorAll("link"))nf.has(n.rel)&&(n.href=n.href);addEventListener("pageshow",n=>{n.persisted&&Vn.navigating.set(Er.current=null)});function t(n){Ge.url=Tt.url=n,Vn.page.set(nl(Tt)),Vn.page.notify()}}async function yf(e,{status:t=200,error:n,node_ids:s,params:r,route:o,server_route:i,data:c,form:u}){_u=!0;let f=new URL(location.href),h;({params:r={},route:o={id:null}}=await jo(f,!1)||{}),h=Ki.find(({id:g})=>g===o.id);let m,y=!0;try{let g=s.map(async(w,\$)=>{let _=c[\$];return _!=null&&_.uses&&(_.uses=kf(_.uses)),Xi({loader:Et.nodes[w],url:f,params:r,route:o,parent:async()=>{let j={};for(let P=0;P<\$;P+=1)Object.assign(j,(await g[P]).data);return j},server_data_node:Zi(_)})}),k=await Promise.all(g);if(h){let w=h.layouts;for(let \$=0;\$<w.length;\$++)w[\$]||k.splice(\$,0,void 0)}m=Po({url:f,params:r,branch:k,status:t,error:n,form:u,route:h??null})}catch(g){if(g instanceof Sr){await \$r(new URL(g.location,location.href));return}m=await el({status:Ji(g),error:await jr(g,{url:f,params:r,route:o}),url:f,route:o}),e.textContent="",y=!1}m.props.page&&(m.props.page.state={}),await \$u(m,e,y)}function kf(e){return{dependencies:new Set(e?.dependencies??[]),params:new Set(e?.params??[]),parent:!!(e!=null&&e.parent),route:!!(e!=null&&e.route),url:!!(e!=null&&e.url),search_params:new Set(e?.search_params??[])}}function wf(e,t=null){let n=document.querySelector("[autofocus]");if(n)n.focus();else{let s=Nu(e);if(s&&document.getElementById(s)){let{x:o,y:i}=t??\$o();setTimeout(()=>{let c=history.state;Wi=!0,location.replace(\`#\${s}\`),Et.hash&&location.replace(e.hash),history.replaceState(c,"",e.hash),scrollTo(o,i),Wi=!1})}else{let o=document.body,i=o.getAttribute("tabindex");o.tabIndex=-1,o.focus({preventScroll:!0,focusVisible:!1}),i!==null?o.setAttribute("tabindex",i):o.removeAttribute("tabindex")}let r=getSelection();if(r&&r.type!=="None"){let o=[];for(let i=0;i<r.rangeCount;i+=1)o.push(r.getRangeAt(i));setTimeout(()=>{if(r.rangeCount===o.length){for(let i=0;i<r.rangeCount;i+=1){let c=o[i],u=r.getRangeAt(i);if(c.commonAncestorContainer!==u.commonAncestorContainer||c.startContainer!==u.startContainer||c.endContainer!==u.endContainer||c.startOffset!==u.startOffset||c.endOffset!==u.endOffset)return}r.removeAllRanges()}})}}}function tl(e,t,n,s){var r,o;let i,c,u=new Promise((f,h)=>{i=f,c=h});return u.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:((r=e.route)==null?void 0:r.id)??null},url:e.url},to:n&&{params:t?.params??null,route:{id:((o=t?.route)==null?void 0:o.id)??null},url:n},willUnload:!t,type:s,complete:u},fulfil:i,reject:c}}function nl(e){return{data:e.data,error:e.error,form:e.form,params:e.params,route:e.route,state:e.state,status:e.status,url:e.url}}function bf(e){let t=new URL(e);return t.hash=decodeURIComponent(e.hash),t}function Nu(e){let t;if(Et.hash){let[,,n]=e.hash.split("#",3);t=n??""}else t=e.hash.slice(1);return decodeURIComponent(t)}var du,Nv,mt,Wn,As,_r,Sr,xr,Lv,wr,Fv,eu,hn,tu,Jv,Qv,fu,pu,hu,Kv,Ms,Pr,vs,Io,nu,yu,ku,Hv,Tt,Er,Ai,ef,io,lo,co,uo,vo,fo,po,ho,su,mo,ru,go,ou,nf,ps,Ir,Vn,Ki,Ui,wo,ua,Fi,Et,bo,_o,Bt,yo,bu,sf,br,Ge,_u,So,lu,Cr,kr,Su,Gi,xu,qt,pn,fs,xo,cu,Wi,No=De(()=>{"use strict";st();qs();du=e=>{throw TypeError(e)},Nv=(e,t,n)=>t.has(e)||du("Cannot "+n),mt=(e,t,n)=>(Nv(e,t,"read from private field"),n?n.call(e):t.get(e)),Wn=(e,t,n)=>t.has(e)?du("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),As=[];_r=class{constructor(t,n){this.status=t,typeof n=="string"?this.body={message:n}:n?this.body=n:this.body={message:\`Error: \${t}\`}}toString(){return JSON.stringify(this.body)}},Sr=class{constructor(t,n){this.status=t,this.location=n}},xr=class extends Error{constructor(t,n,s){super(s),this.status=t,this.text=n}};new URL("sveltekit-internal://");new TextEncoder;new TextDecoder;Lv=window.fetch;window.fetch=(e,t)=>((e instanceof Request?e.method:t?.method||"GET")!=="GET"&&wr.delete(Bi(e)),Lv(e,t));wr=new Map;Fv=/^(\\[)?(\\.\\.\\.)?(\\w+)(?:=(\\w+))?(\\])?\$/;hn=((eu=globalThis.__sveltekit_174pvko)==null?void 0:eu.base)??"",Jv=((tu=globalThis.__sveltekit_174pvko)==null?void 0:tu.assets)??hn??"",Qv="1769973572889",fu="sveltekit:snapshot",pu="sveltekit:scroll",hu="sveltekit:states",Kv="sveltekit:pageurl",Ms="sveltekit:history",Pr="sveltekit:navigation",vs={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},Io=location.origin;nu={...vs,"":vs.hover};yu={v:()=>{}};ku=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...ku];Hv=new Set([...ku]);[...Hv];ef=sn.toString().includes("\$\$")||/function \\w+\\(\\) \\{\\}/.test(sn.toString());ef?(Tt={data:{},form:null,error:null,params:{},route:{id:null},state:{},status:-1,url:new URL("https://example.com")},Er={current:null},Ai={current:!1}):(Tt=new(su=class{constructor(){Wn(this,io,S({})),Wn(this,lo,S(null)),Wn(this,co,S(null)),Wn(this,uo,S({})),Wn(this,vo,S({id:null})),Wn(this,fo,S({})),Wn(this,po,S(-1)),Wn(this,ho,S(new URL("https://example.com")))}get data(){return a(mt(this,io))}set data(e){l(mt(this,io),e)}get form(){return a(mt(this,lo))}set form(e){l(mt(this,lo),e)}get error(){return a(mt(this,co))}set error(e){l(mt(this,co),e)}get params(){return a(mt(this,uo))}set params(e){l(mt(this,uo),e)}get route(){return a(mt(this,vo))}set route(e){l(mt(this,vo),e)}get state(){return a(mt(this,fo))}set state(e){l(mt(this,fo),e)}get status(){return a(mt(this,po))}set status(e){l(mt(this,po),e)}get url(){return a(mt(this,ho))}set url(e){l(mt(this,ho),e)}},io=new WeakMap,lo=new WeakMap,co=new WeakMap,uo=new WeakMap,vo=new WeakMap,fo=new WeakMap,po=new WeakMap,ho=new WeakMap,su),Er=new(ru=class{constructor(){Wn(this,mo,S(null))}get current(){return a(mt(this,mo))}set current(e){l(mt(this,mo),e)}},mo=new WeakMap,ru),Ai=new(ou=class{constructor(){Wn(this,go,S(!1))}get current(){return a(mt(this,go))}set current(e){l(mt(this,go),e)}},go=new WeakMap,ou),yu.v=()=>Ai.current=!0);nf=new Set(["icon","shortcut icon","apple-touch-icon"]),ps=vu(pu)??{},Ir=vu(fu)??{},Vn={url:au({}),page:au({}),navigating:Vi(null),updated:Gv()};bo=[],_o=[],Bt=null;yo=new Map,bu=new Set,sf=new Set,br=new Set,Ge={branch:[],error:null,url:null},_u=!1,So=!1,lu=!0,Cr=!1,kr=!1,Su=!1,Gi=!1,xo=new Set,cu=new Map;Wi=!1});function Pf(e){let t=0,n=ca(0),s;return()=>{so()&&(a(n),Os(()=>(t===0&&(s=Vt(()=>e(()=>js(n)))),t+=1,()=>{zt(()=>{t-=1,t===0&&(s?.(),s=void 0,js(n))})})))}}function If(e,t,n){new ol(e,t,n)}function Cf(e){return \$f.includes(e)}function jf(e,t,n,s={}){function r(o){if(s.capture||Nr.call(t,o),!o.cancelBubble)return za(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?zt(()=>{t.addEventListener(e,r,s)}):t.addEventListener(e,r,s),r}function on(e,t,n,s,r){var o={capture:s,passive:r},i=jf(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Oi(()=>{t.removeEventListener(e,i,o)})}function gt(e){for(var t=0;t<e.length;t++)Mu.add(e[t]);for(var n of il)n(e)}function Nr(e){var t,n=this,s=n.ownerDocument,r=e.type,o=((t=e.composedPath)==null?void 0:t.call(e))||[],i=o[0]||e.target;Ou=e;var c=0,u=Ou===e&&e.__root;if(u){var f=o.indexOf(u);if(f!==-1&&(n===document||n===window)){e.__root=n;return}var h=o.indexOf(n);if(h===-1)return;f<=h&&(c=f)}if(i=o[c]||e.target,i!==n){Jr(e,"currentTarget",{configurable:!0,get(){return i||s}});var m=xe,y=Pe;Ut(null),_n(null);try{for(var g,k=[];i!==null;){var w=i.assignedSlot||i.parentNode||i.host||null;try{var \$=i["__"+r];\$!=null&&(!i.disabled||e.target===i)&&\$.call(i,e)}catch(_){g?k.push(_):g=_}if(e.cancelBubble||w===n||w===null)break;i=w}if(g){for(let _ of k)queueMicrotask(()=>{throw _});throw g}}finally{e.__root=n,delete e.currentTarget,Ut(m),_n(y)}}}function Tf(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function La(e,t){var n=Pe;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function x(e,t){var n=(t&vc)!==0,s=(t&fc)!==0,r,o=!e.startsWith("<!>");return()=>{if(ve)return La(be,null),be;r===void 0&&(r=Tf(o?e:"<!>"+e),n||(r=fn(r)));var i=s||Ni?document.importNode(r,!0):r.cloneNode(!0);if(n){var c=fn(i),u=i.lastChild;La(c,u)}else La(i,i);return i}}function zr(e=""){if(!ve){var t=_t(e+"");return La(t,t),t}var n=be;return n.nodeType!==vr&&(n.before(n=_t()),ut(n)),La(n,n),n}function Ne(){if(ve)return La(be,null),be;var e=document.createDocumentFragment(),t=document.createComment(""),n=_t();return e.append(t,n),La(t,n),e}function b(e,t){if(ve){var n=Pe;(!(n.f&rs)||n.nodes.end===null)&&(n.nodes.end=be),xn();return}e!==null&&e.before(t)}function N(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ul(e,t){return Fu(e,t)}function Uu(e,t){no(),t.intro=t.intro??!1;let n=t.target,s=ve,r=be;try{for(var o=fn(n);o&&(o.nodeType!==Un||o.data!==xi);)o=Dt(o);if(!o)throw ls;Ft(!0),ut(o);let i=Fu(e,{...t,anchor:o});return Ft(!1),i}catch(i){if(i instanceof Error&&i.message.split(\`
\`).some(c=>c.startsWith("https://svelte.dev/e/")))throw i;return i!==ls&&console.warn("Failed to hydrate: ",i),t.recover===!1&&Hl(),no(),mr(n),Ft(!1),ul(e,t)}finally{Ft(s),ut(r)}}function Fu(e,{target:t,anchor:n,props:s={},events:r,context:o,intro:i=!0}){no();var c=new Set,u=m=>{for(var y=0;y<m.length;y++){var g=m[y];if(!c.has(g)){c.add(g);var k=Cf(g);t.addEventListener(g,Nr,{passive:k});var w=Fs.get(g);w===void 0?(document.addEventListener(g,Nr,{passive:k}),Fs.set(g,1)):Fs.set(g,w+1)}}};u(Ns(Mu)),il.add(u);var f=void 0,h=Ac(()=>{var m=n??t.appendChild(_t());return If(m,{pending:()=>{}},y=>{if(o){Ue({});var g=Je;g.c=o}if(r&&(s.\$\$events=r),ve&&La(y,null),qo=i,f=e(y,s)||{},qo=!0,ve&&(Pe.nodes.end=be,be===null||be.nodeType!==Un||be.data!==fr))throw pr(),ls;o&&Fe()}),()=>{var y;for(var g of c){t.removeEventListener(g,Nr);var k=Fs.get(g);--k===0?(document.removeEventListener(g,Nr),Fs.delete(g)):Fs.set(g,k)}il.delete(u),m!==n&&((y=m.parentNode)==null||y.removeChild(m))}});return ll.set(f,h),f}function Du(e,t){let n=ll.get(e);return n?(ll.delete(e),n(t)):Promise.resolve()}var Sf,qu,xf,Ru,cl,Z,St,Le,mn,Ef,gn,Ro,va,Ws,fa,En,rn,da,qa,ms,hs,pa,Tr,Ds,Rr,Or,Aa,al,Zt,Au,Lu,sl,Oo,zo,rl,ol,\$f,Mu,il,Ou,qo,Fs,ll,Nf,zu,At=De(()=>{"use strict";st();Sf=Object.defineProperty,qu=e=>{throw TypeError(e)},xf=(e,t,n)=>t in e?Sf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ru=(e,t,n)=>xf(e,typeof t!="symbol"?t+"":t,n),cl=(e,t,n)=>t.has(e)||qu("Cannot "+n),Z=(e,t,n)=>(cl(e,t,"read from private field"),n?n.call(e):t.get(e)),St=(e,t,n)=>t.has(e)?qu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Le=(e,t,n,s)=>(cl(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),mn=(e,t,n)=>(cl(e,t,"access private method"),n);Ef=Ht|os|Gr;ol=class{constructor(t,n,s){St(this,Zt),Ru(this,"parent"),Ru(this,"is_pending",!1),St(this,gn),St(this,Ro,ve?be:null),St(this,va),St(this,Ws),St(this,fa),St(this,En,null),St(this,rn,null),St(this,da,null),St(this,qa,null),St(this,ms,null),St(this,hs,0),St(this,pa,0),St(this,Tr,!1),St(this,Ds,!1),St(this,Rr,new Set),St(this,Or,new Set),St(this,Aa,null),St(this,al,Pf(()=>(Le(this,Aa,ca(Z(this,hs))),()=>{Le(this,Aa,null)}))),Le(this,gn,t),Le(this,va,n),Le(this,Ws,s),this.parent=Pe.b,this.is_pending=!!Z(this,va).pending,Le(this,fa,Xt(()=>{if(Pe.b=this,ve){let o=Z(this,Ro);xn(),o.nodeType===Un&&o.data===is?mn(this,Zt,Lu).call(this):(mn(this,Zt,Au).call(this),Z(this,pa)===0&&(this.is_pending=!1))}else{var r=mn(this,Zt,sl).call(this);try{Le(this,En,Wt(()=>s(r)))}catch(o){this.error(o)}Z(this,pa)>0?mn(this,Zt,zo).call(this):this.is_pending=!1}return()=>{var o;(o=Z(this,ms))==null||o.remove()}},Ef)),ve&&Le(this,gn,be)}defer_effect(t){\$i(t,Z(this,Rr),Z(this,Or))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!Z(this,va).pending}update_pending_count(t){mn(this,Zt,rl).call(this,t),Le(this,hs,Z(this,hs)+t),!(!Z(this,Aa)||Z(this,Tr))&&(Le(this,Tr,!0),zt(()=>{Le(this,Tr,!1),Z(this,Aa)&&Na(Z(this,Aa),Z(this,hs))}))}get_effect_pending(){return Z(this,al).call(this),a(Z(this,Aa))}error(t){var n=Z(this,va).onerror;let s=Z(this,va).failed;if(Z(this,Ds)||!n&&!s)throw t;Z(this,En)&&(jt(Z(this,En)),Le(this,En,null)),Z(this,rn)&&(jt(Z(this,rn)),Le(this,rn,null)),Z(this,da)&&(jt(Z(this,da)),Le(this,da,null)),ve&&(ut(Z(this,Ro)),dt(),ut(cs()));var r=!1,o=!1;let i=()=>{if(r){hc();return}r=!0,o&&Zl(),Oa.ensure(),Le(this,hs,0),Z(this,da)!==null&&Dn(Z(this,da),()=>{Le(this,da,null)}),this.is_pending=this.has_pending_snippet(),Le(this,En,mn(this,Zt,Oo).call(this,()=>(Le(this,Ds,!1),Wt(()=>Z(this,Ws).call(this,Z(this,gn)))))),Z(this,pa)>0?mn(this,Zt,zo).call(this):this.is_pending=!1};var c=xe;try{Ut(null),o=!0,n?.(t,i),o=!1}catch(u){as(u,Z(this,fa)&&Z(this,fa).parent)}finally{Ut(c)}s&&zt(()=>{Le(this,da,mn(this,Zt,Oo).call(this,()=>{Oa.ensure(),Le(this,Ds,!0);try{return Wt(()=>{s(Z(this,gn),()=>t,()=>i)})}catch(u){return as(u,Z(this,fa).parent),null}finally{Le(this,Ds,!1)}}))})}};gn=new WeakMap,Ro=new WeakMap,va=new WeakMap,Ws=new WeakMap,fa=new WeakMap,En=new WeakMap,rn=new WeakMap,da=new WeakMap,qa=new WeakMap,ms=new WeakMap,hs=new WeakMap,pa=new WeakMap,Tr=new WeakMap,Ds=new WeakMap,Rr=new WeakMap,Or=new WeakMap,Aa=new WeakMap,al=new WeakMap,Zt=new WeakSet,Au=function(){try{Le(this,En,Wt(()=>Z(this,Ws).call(this,Z(this,gn))))}catch(e){this.error(e)}},Lu=function(){let e=Z(this,va).pending;e&&(Le(this,rn,Wt(()=>e(Z(this,gn)))),zt(()=>{var t=mn(this,Zt,sl).call(this);Le(this,En,mn(this,Zt,Oo).call(this,()=>(Oa.ensure(),Wt(()=>Z(this,Ws).call(this,t))))),Z(this,pa)>0?mn(this,Zt,zo).call(this):(Dn(Z(this,rn),()=>{Le(this,rn,null)}),this.is_pending=!1)}))},sl=function(){var e=Z(this,gn);return this.is_pending&&(Le(this,ms,_t()),Z(this,gn).before(Z(this,ms)),e=Z(this,ms)),e},Oo=function(e){var t=Pe,n=xe,s=Je;_n(Z(this,fa)),Ut(Z(this,fa)),ns(Z(this,fa).ctx);try{return e()}catch(r){return Ei(r),null}finally{_n(t),Ut(n),ns(s)}},zo=function(){let e=Z(this,va).pending;Z(this,En)!==null&&(Le(this,qa,document.createDocumentFragment()),Z(this,qa).append(Z(this,ms)),oo(Z(this,En),Z(this,qa))),Z(this,rn)===null&&Le(this,rn,Wt(()=>e(Z(this,gn))))},rl=function(e){var t;if(!this.has_pending_snippet()){this.parent&&mn(t=this.parent,Zt,rl).call(t,e);return}if(Le(this,pa,Z(this,pa)+e),Z(this,pa)===0){this.is_pending=!1;for(let n of Z(this,Rr))bt(n,Mt),qn(n);for(let n of Z(this,Or))bt(n,Ln),qn(n);Z(this,Rr).clear(),Z(this,Or).clear(),Z(this,rn)&&Dn(Z(this,rn),()=>{Le(this,rn,null)}),Z(this,qa)&&(Z(this,gn).before(Z(this,qa)),Le(this,qa,null))}};\$f=["touchstart","touchmove"];Mu=new Set,il=new Set;Ou=null;qo=!0;Fs=new Map;ll=new WeakMap;Nf="5";typeof window<"u"&&((zu=window.__svelte??(window.__svelte={})).v??(zu.v=new Set)).add(Nf)});var Rf,Wu,Of,zf,Vu,ze,gs,qf,Bn,ha,yn,Vs,Ao,Lo,dl,Yn,qr=De(()=>{"use strict";st();Rf=Object.defineProperty,Wu=e=>{throw TypeError(e)},Of=(e,t,n)=>t in e?Rf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zf=(e,t,n)=>Of(e,typeof t!="symbol"?t+"":t,n),Vu=(e,t,n)=>t.has(e)||Wu("Cannot "+n),ze=(e,t,n)=>(Vu(e,t,"read from private field"),n?n.call(e):t.get(e)),gs=(e,t,n)=>t.has(e)?Wu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),qf=(e,t,n,s)=>(Vu(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Yn=class{constructor(t,n=!0){zf(this,"anchor"),gs(this,Bn,new Map),gs(this,ha,new Map),gs(this,yn,new Map),gs(this,Vs,new Set),gs(this,Ao,!0),gs(this,Lo,()=>{var s=Te;if(ze(this,Bn).has(s)){var r=ze(this,Bn).get(s),o=ze(this,ha).get(r);if(o)gr(o),ze(this,Vs).delete(r);else{var i=ze(this,yn).get(r);i&&(ze(this,ha).set(r,i.effect),ze(this,yn).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),o=i.effect)}for(let[c,u]of ze(this,Bn)){if(ze(this,Bn).delete(c),c===s)break;let f=ze(this,yn).get(u);f&&(jt(f.effect),ze(this,yn).delete(u))}for(let[c,u]of ze(this,ha)){if(c===r||ze(this,Vs).has(c))continue;let f=()=>{if(Array.from(ze(this,Bn).values()).includes(c)){var h=document.createDocumentFragment();oo(u,h),h.append(_t()),ze(this,yn).set(c,{effect:u,fragment:h})}else jt(u);ze(this,Vs).delete(c),ze(this,ha).delete(c)};ze(this,Ao)||!o?(ze(this,Vs).add(c),Dn(u,f,!1)):f()}}}),gs(this,dl,s=>{ze(this,Bn).delete(s);let r=Array.from(ze(this,Bn).values());for(let[o,i]of ze(this,yn))r.includes(o)||(jt(i.effect),ze(this,yn).delete(o))}),this.anchor=t,qf(this,Ao,n)}ensure(t,n){var s=Te,r=ao();if(n&&!ze(this,ha).has(t)&&!ze(this,yn).has(t))if(r){var o=document.createDocumentFragment(),i=_t();o.append(i),ze(this,yn).set(t,{effect:Wt(()=>n(i)),fragment:o})}else ze(this,ha).set(t,Wt(()=>n(this.anchor)));if(ze(this,Bn).set(s,t),r){for(let[c,u]of ze(this,ha))c===t?s.skipped_effects.delete(u):s.skipped_effects.add(u);for(let[c,u]of ze(this,yn))c===t?s.skipped_effects.delete(u.effect):s.skipped_effects.add(u.effect);s.oncommit(ze(this,Lo)),s.ondiscard(ze(this,dl))}else ve&&(this.anchor=be),ze(this,Lo).call(this)}};Bn=new WeakMap,ha=new WeakMap,yn=new WeakMap,Vs=new WeakMap,Ao=new WeakMap,Lo=new WeakMap,dl=new WeakMap});function q(e,t,n=!1){ve&&xn();var s=new Yn(e),r=n?Ht:0;function o(i,c){if(ve){let f=Zr(e)===is;if(i===f){var u=cs();ut(u),s.anchor=u,Ft(!1),s.ensure(i,c),Ft(!0);return}}s.ensure(i,c)}Xt(()=>{var i=!1;t((c,u=!0)=>{i=!0,o(u,c)}),i||o(!1,null)},r)}var ys=De(()=>{"use strict";st();qr()});function Bu(e,t){return e===t||e?.[oa]===t}function ks(e={},t,n,s){return Rs(()=>{var r,o;return Os(()=>{r=o,o=[],Vt(()=>{e!==n(...o)&&(t(e,...o),r&&Bu(n(...r),e)&&t(null,...r))})}),()=>{zt(()=>{o&&Bu(n(...o),e)&&t(null,...o)})}}),e}var vl=De(()=>{"use strict";st()});function Af(e){var t=Mo;try{return Mo=!1,[e(),Mo]}finally{Mo=t}}function He(e,t,n,s){var r,o=!Ra||(n&rc)!==0,i=(n&ic)!==0,c=(n&lc)!==0,u=s,f=!0,h=()=>(f&&(f=!1,u=c?Vt(s):s),u),m;if(i){var y=oa in e||Xr in e;m=((r=Za(e,t))==null?void 0:r.set)??(y&&t in e?O=>e[t]=O:void 0)}var g,k=!1;i?[g,k]=Af(()=>e[t]):g=e[t],g===void 0&&s!==void 0&&(g=h(),m&&(o&&Xl(),m(g)));var w;if(o?w=()=>{var O=e[t];return O===void 0?h():(f=!0,O)}:w=()=>{var O=e[t];return O!==void 0&&(u=void 0),O===void 0?u:O},o&&(n&oc)===0)return w;if(m){var \$=e.\$\$legacy;return function(O,A){return arguments.length>0?((!o||!A||\$||k)&&m(A?w():O),O):w()}}var _=!1,j=(n&sc?ds:hr)(()=>(_=!1,w()));i&&a(j);var P=Pe;return function(O,A){if(arguments.length>0){let W=A?a(j):o&&i?_e(O):O;return l(j,W),_=!0,u!==void 0&&(u=W),O}return ia&&_||P.f&zn?j.v:a(j)}}var Mo,Ar=De(()=>{"use strict";st();Mo=!1});var In=De(()=>{"use strict";st();yc()});function ma(e,t){return t}function Lf(e,t,n){for(var s=[],r=t.length,o,i=t.length,c=0;c<r;c++){let m=t[c];Dn(m,()=>{if(o){if(o.pending.delete(m),o.done.add(m),o.pending.size===0){var y=e.outrogroups;fl(Ns(o.done)),y.delete(o),y.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var u=s.length===0&&n!==null;if(u){var f=n,h=f.parentNode;mr(h),h.append(f),e.items.clear()}fl(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function fl(e,t=!0){for(var n=0;n<e.length;n++)jt(e[n],t)}function Xe(e,t,n,s,r,o=null){var i=e,c=new Map,u=(t&Si)!==0;if(u){var f=e;i=ve?ut(fn(f)):f.appendChild(_t())}ve&&xn();var h=null,m=hr(()=>{var _=n();return wi(_)?_:_==null?[]:Ns(_)}),y,g=!0;function k(){\$.fallback=h,Mf(\$,y,i,t,s),h!==null&&(y.length===0?h.f&Mn?(h.f^=Mn,Lr(h,null,i)):gr(h):Dn(h,()=>{h=null}))}var w=Xt(()=>{y=a(m);var _=y.length;let j=!1;if(ve){var P=Zr(i)===is;P!==(_===0)&&(i=cs(),ut(i),Ft(!1),j=!0)}for(var O=new Set,A=Te,W=ao(),L=0;L<_;L+=1){ve&&be.nodeType===Un&&be.data===fr&&(i=be,j=!0,Ft(!1));var M=y[L],I=s(M,L),T=g?null:c.get(I);T?(T.v&&Na(T.v,M),T.i&&Na(T.i,L),W&&A.skipped_effects.delete(T.e)):(T=Uf(c,g?i:Uo??(Uo=_t()),M,I,L,r,t,n),g||(T.e.f|=Mn),c.set(I,T)),O.add(I)}if(_===0&&o&&!h&&(g?h=Wt(()=>o(i)):(h=Wt(()=>o(Uo??(Uo=_t()))),h.f|=Mn)),ve&&_>0&&ut(cs()),!g)if(W){for(let[B,H]of c)O.has(B)||A.skipped_effects.add(H.e);A.oncommit(k),A.ondiscard(()=>{})}else k();j&&Ft(!0),a(m)}),\$={effect:w,items:c,outrogroups:null,fallback:h};g=!1,ve&&(i=be)}function Mf(e,t,n,s,r){var o,i,c,u,f,h,m,y,g,k=(s&nc)!==0,w=t.length,\$=e.items,_=e.effect.first,j,P=null,O,A=[],W=[],L,M,I,T;if(k)for(T=0;T<w;T+=1)L=t[T],M=r(L,T),I=\$.get(M).e,!(I.f&Mn)&&((i=(o=I.nodes)==null?void 0:o.a)==null||i.measure(),(O??(O=new Set)).add(I));for(T=0;T<w;T+=1){if(L=t[T],M=r(L,T),I=\$.get(M).e,e.outrogroups!==null)for(let ne of e.outrogroups)ne.pending.delete(I),ne.done.delete(I);if(I.f&Mn)if(I.f^=Mn,I===_)Lr(I,null,n);else{var B=P?P.next:_;I===e.effect.last&&(e.effect.last=I.prev),I.prev&&(I.prev.next=I.next),I.next&&(I.next.prev=I.prev),Ma(e,P,I),Ma(e,I,B),Lr(I,B,n),P=I,A=[],W=[],_=P.next;continue}if(I.f&Gt&&(gr(I),k&&((u=(c=I.nodes)==null?void 0:c.a)==null||u.unfix(),(O??(O=new Set)).delete(I))),I!==_){if(j!==void 0&&j.has(I)){if(A.length<W.length){var H=W[0],U;P=H.prev;var te=A[0],R=A[A.length-1];for(U=0;U<A.length;U+=1)Lr(A[U],H,n);for(U=0;U<W.length;U+=1)j.delete(W[U]);Ma(e,te.prev,R.next),Ma(e,P,te),Ma(e,R,H),_=H,P=R,T-=1,A=[],W=[]}else j.delete(I),Lr(I,_,n),Ma(e,I.prev,I.next),Ma(e,I,P===null?e.effect.first:P.next),Ma(e,P,I),P=I;continue}for(A=[],W=[];_!==null&&_!==I;)(j??(j=new Set)).add(_),W.push(_),_=_.next;if(_===null)continue}!(I.f&Mn)&&A.push(I),P=I,_=I.next}if(e.outrogroups!==null){for(let ne of e.outrogroups)ne.pending.size===0&&(fl(Ns(ne.done)),(f=e.outrogroups)==null||f.delete(ne));e.outrogroups.size===0&&(e.outrogroups=null)}if(_!==null||j!==void 0){var Y=[];if(j!==void 0)for(I of j)!(I.f&Gt)&&Y.push(I);for(;_!==null;)!(_.f&Gt)&&_!==e.fallback&&Y.push(_),_=_.next;var X=Y.length;if(X>0){var ue=s&Si&&w===0?n:null;if(k){for(T=0;T<X;T+=1)(m=(h=Y[T].nodes)==null?void 0:h.a)==null||m.measure();for(T=0;T<X;T+=1)(g=(y=Y[T].nodes)==null?void 0:y.a)==null||g.fix()}Lf(e,Y,ue)}}k&&zt(()=>{var ne,le;if(O!==void 0)for(I of O)(le=(ne=I.nodes)==null?void 0:ne.a)==null||le.apply()})}function Uf(e,t,n,s,r,o,i,c){var u=i&ec?i&ac?ca(n):to(n,!1,!1):null,f=i&tc?ca(r):null;return{v:u,i:f,e:Wt(()=>(o(t,u??n,f??r,c),()=>{e.delete(s)}))}}function Lr(e,t,n){if(e.nodes)for(var s=e.nodes.start,r=e.nodes.end,o=t&&!(t.f&Mn)?t.nodes.start:n;s!==null;){var i=Dt(s);if(o.before(s),s===r)return;s=i}}function Ma(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Fo(e,t="info",n=3e3){let s=Ff++;l(ws,[...a(ws),{message:e,type:t,id:s}],!0),setTimeout(()=>{l(ws,a(ws).filter(r=>r.id!==s),!0)},n)}function Df(e,t=3e3){Fo(e,"success",t)}function Wf(e,t=3e3){Fo(e,"error",t)}function Vf(e,t=3e3){Fo(e,"info",t)}function Bf(e){l(ws,a(ws).filter(t=>t.id!==e),!0)}var Uo,ws,Ff,ae,bs=De(()=>{"use strict";st();ws=S(_e([])),Ff=0;ae={get toasts(){return a(ws)},show:Fo,success:Df,error:Wf,info:Vf,dismiss:Bf}});function Yf(e,t,n){var s=e==null?"":""+e;if(t&&(s=s?s+" "+t:t),n){for(var r in n)if(n[r])s=s?s+" "+r:r;else if(s.length)for(var o=r.length,i=0;(i=s.indexOf(r,i))>=0;){var c=i+o;(i===0||Yu.includes(s[i-1]))&&(c===s.length||Yu.includes(s[c]))?s=(i===0?"":s.substring(0,i))+s.substring(c+1):i=c}}return s===""?null:s}function Ju(e,t){return e==null?null:String(e)}function Ie(e,t,n,s,r,o){var i=e.__className;if(ve||i!==n||i===void 0){var c=Yf(n,s,o);(!ve||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=n}else if(o&&r!==o)for(var u in o){var f=!!o[u];(r==null||f!==!!r[u])&&e.classList.toggle(u,f)}return o}var Yu,Bs=De(()=>{"use strict";st();Yu=[...\` 	
\\r\\f\\xA0\\v\\uFEFF\`]});function Do(e=!1){let t=Je,n=t.l.u;if(!n)return;let s=()=>Hc(t.s);if(e){let r=0,o={},i=ds(()=>{let c=!1,u=t.s;for(let f in u)u[f]!==o[f]&&(o[f]=u[f],c=!0);return c&&r++,r});s=()=>a(i)}n.b.length&&ro(()=>{Qu(t,s),Kr(n.b)}),vt(()=>{let r=Vt(()=>n.m.map(Yl));return()=>{for(let o of r)typeof o=="function"&&o()}}),n.a.length&&vt(()=>{Qu(t,s),Kr(n.a)})}function Qu(e,t){if(e.l.s)for(let n of e.l.s)a(n);t()}var pl=De(()=>{"use strict";st()});function Wo(e,t){Ue(t,!1),Do();var n=Qf();Xe(n,5,()=>ae.toasts,s=>s.id,(s,r)=>{var o=Jf(),i=v(o,!0);d(o),D(()=>{Ie(o,1,\`toast \${a(r).type??""}\`,"svelte-1cpok13"),N(i,a(r).message)}),b(s,o)}),d(n),b(e,n),Fe()}var Jf,Qf,hl=De(()=>{"use strict";At();In();st();bs();Bs();pl();Jf=x('<div role="alert"> </div>'),Qf=x('<div class="toast-container svelte-1cpok13"></div>')});var Ku={};Rn(Ku,{component:()=>ep,universal:()=>Xf});function Kf(e,t,...n){var s=new Yn(e);Xt(()=>{let r=t()??null;s.ensure(r,r&&(o=>r(o,...n)))},Ht)}function ep(e,t){var n=Zf(),s=ce(n);Kf(s,()=>t.children);var r=p(s,2);Wo(r,{}),b(e,n)}var Gf,Hf,Xf,Zf,Gu=De(()=>{"use strict";At();st();qr();hl();Gf=!0,Hf=!1,Xf=Object.freeze(Object.defineProperty({__proto__:null,prerender:Gf,ssr:Hf},Symbol.toStringTag,{value:"Module"})),Zf=x("<!> <!>",1)});var Xu={};Rn(Xu,{component:()=>ap});function ap(e,t){Ue(t,!1),Do();var n=np(),s=ce(n),r=v(s,!0);d(s);var o=p(s,2),i=v(o,!0);d(o),D(()=>{var c;N(r,Hu.status),N(i,(c=Hu.error)==null?void 0:c.message)}),b(e,n),Fe()}var tp,Hu,np,Zu=De(()=>{"use strict";At();In();st();pl();No();tp={get error(){return Tt.error},get status(){return Tt.status}};Vn.updated.check;Hu=tp,np=x("<h1> </h1> <p> </p>",1)});function Ve(e){if(ve){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var s=e.value;yt(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var r=e.checked;yt(e,"checked",null),e.checked=r}}};e.__on_r=n,zt(n),Ri()}}function Ua(e,t){var n=td(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function yt(e,t,n,s){var r=td(e);ve&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=n)&&(t==="loading"&&(e[Gl]=n),n==null?e.removeAttribute(t):typeof n!="string"&&op(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function td(e){return e.__attributes??(e.__attributes={[sp]:e.nodeName.includes("-"),[rp]:e.namespaceURI===pc})}function op(e){var t=e.getAttribute("is")||e.nodeName,n=ed.get(t);if(n)return n;ed.set(t,n=[]);for(var s,r=e,o=Element.prototype;o!==r;){s=bi(r);for(var i in s)s[i].set&&n.push(i);r=Qr(r)}return n}function rt(e,t,n=t){var s=new WeakSet;Oc(e,"input",async r=>{var o=r?e.defaultValue:e.value;if(o=ml(e)?gl(o):o,n(o),Te!==null&&s.add(Te),await Pn(),o!==(o=t())){var i=e.selectionStart,c=e.selectionEnd,u=e.value.length;if(e.value=o??"",c!==null){var f=e.value.length;i===c&&c===u&&f>u?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=i,e.selectionEnd=Math.min(c,f))}}}),(ve&&e.defaultValue!==e.value||Vt(t)==null&&e.value)&&(n(ml(e)?gl(e.value):e.value),Te!==null&&s.add(Te)),Os(()=>{var r=t();if(e===document.activeElement){var o=Br??Te;if(s.has(o))return}ml(e)&&r===gl(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function ml(e){var t=e.type;return t==="number"||t==="range"}function gl(e){return e===""?null:+e}var sp,rp,ed,Ys=De(()=>{"use strict";st();sp=Symbol("is custom element"),rp=Symbol("is html");ed=new Map});var nd={};Rn(nd,{component:()=>_p});function ip(e,t){let n=null,s=ve;var r;if(ve){n=be;for(var o=fn(document.head);o!==null&&(o.nodeType!==Un||o.data!==e);)o=Dt(o);if(o===null)Ft(!1);else{var i=Dt(o);o.remove(),ut(i)}}ve||(r=document.head.appendChild(_t()));try{Xt(()=>t(r),Hr)}finally{s&&(Ft(!0),ut(n))}}function _p(e,t){Ue(t,!0);let n=S(""),s=S("enter"),r=S(""),o=S(""),i=S(""),c=S(!1),u=S(""),f=S(_e([])),h=S(_e([])),m=S(!0),y=Ae(()=>a(h).filter(R=>!a(f).includes(R.roomId)).filter(R=>R.queueSize&&R.queueSize>0||R.nowPlaying));vt(()=>{if(typeof localStorage<"u"){let R=localStorage.getItem("karaoke_recent_rooms");if(R)try{l(f,JSON.parse(R),!0)}catch{l(f,[],!0)}}}),vt(()=>{g()});async function g(){try{let R=await(await fetch("/api/rooms/active")).json();l(h,R.rooms||[],!0)}catch{l(h,[],!0)}finally{l(m,!1)}}function k(R){let Y=Date.now()-R,X=Math.floor(Y/6e4);if(X<1)return"just now";if(X<60)return\`\${X}m ago\`;let ue=Math.floor(X/60);return ue<24?\`\${ue}h ago\`:\`\${Math.floor(ue/24)}d ago\`}function w(R){if(typeof localStorage>"u")return;let Y=a(f).filter(ue=>ue!==R);Y.unshift(R);let X=Y.slice(0,5);localStorage.setItem("karaoke_recent_rooms",JSON.stringify(X)),l(f,X,!0)}function \$(R){return R.toLowerCase().trim().replace(/\\s+/g,"-")}function _(R){return/^[a-z0-9][a-z0-9-]{0,28}[a-z0-9]\$|^[a-z0-9]{1,2}\$/.test(R)}async function j(){let R=\$(a(n));if(!R){l(u,"Enter a room code");return}if(!_(R)){l(u,"Room code must be 2-30 characters (letters, numbers, hyphens)");return}if(new Set(["api","player","admin","shikashika","landing"]).has(R)){l(u,\`"\${R}" is reserved\`);return}l(c,!0),l(u,"");try{(await(await fetch(\`/api/room/check?room=\${encodeURIComponent(R)}\`)).json()).kind==="exists"?(w(R),To(\`/\${R}\`)):(l(n,R,!0),l(s,"notFound"))}catch{l(u,"Could not check room. Try again.")}finally{l(c,!1)}}function P(){l(s,"createPin"),l(i,a(n).split("-").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "),!0)}async function O(){if(a(r).length!==6||!/^\\d{6}\$/.test(a(r))){l(u,"PIN must be 6 digits");return}if(a(r)!==a(o)){l(u,"PINs do not match");return}l(c,!0),l(u,"");try{let R=await(await fetch(\`/api/room/create?room=\${encodeURIComponent(a(n))}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomId:a(n),pin:a(r),displayName:a(i).trim()||a(n)})})).json();if(R.kind==="created"){if(w(a(n)),typeof sessionStorage<"u"){let Y=await(await fetch(\`/api/admin/verify?room=\${encodeURIComponent(a(n))}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:a(r)})})).json();Y.kind==="verified"&&sessionStorage.setItem(\`karaoke_admin_token_\${a(n)}\`,Y.token)}ae.success("Room created!"),To(\`/\${a(n)}/admin\`)}else R.kind==="alreadyExists"?(l(u,"Room already exists"),l(s,"enter")):R.kind==="invalidRoomId"?l(u,R.reason,!0):R.kind==="invalidPin"?l(u,R.reason,!0):l(u,R.message||"Failed to create room",!0)}catch{l(u,"Could not create room. Try again.")}finally{l(c,!1)}}function A(){l(s,"enter"),l(r,""),l(o,""),l(u,"")}function W(R){R.key==="Enter"&&!a(c)&&(a(s)==="enter"?j():a(s)==="createPin"&&O())}function L(R){w(R),To(\`/\${R}\`)}var M=bp();ip("1uha8ag",R=>{Rs(()=>{Ti.title="Karaoke - Join a Room"})});var I=p(v(M),2),T=v(I);{var B=R=>{var Y=dp(),X=ce(Y),ue=p(v(X),2);Ve(ue),ue.__keydown=W,d(X);var ne=p(X,2);ne.__click=j;var le=v(ne,!0);d(ne);var re=p(ne,2);{var ke=me=>{var de=lp(),ye=v(de,!0);d(de),D(()=>N(ye,a(u))),b(me,de)};q(re,me=>{a(u)&&me(ke)})}var he=p(re,2);{var Re=me=>{var de=up(),ye=p(v(de),2);Xe(ye,21,()=>a(f),ma,(Qe,Be)=>{var Oe=cp();Oe.__click=()=>L(a(Be));var Ee=v(Oe,!0);d(Oe),D(()=>N(Ee,a(Be))),b(Qe,Oe)}),d(ye),d(de),b(me,de)};q(he,me=>{a(f).length>0&&me(Re)})}D(me=>{ue.disabled=a(c),ne.disabled=me,N(le,a(c)?"Checking...":"Go")},[()=>a(c)||!a(n).trim()]),rt(ue,()=>a(n),me=>l(n,me)),b(R,Y)},H=R=>{var Y=Ne(),X=ce(Y);{var ue=le=>{var re=vp(),ke=v(re),he=p(v(ke)),Re=v(he,!0);d(he),dt(),d(ke);var me=p(ke,2);me.__click=P;var de=p(me,2);de.__click=A,d(re),D(()=>N(Re,a(n))),b(le,re)},ne=le=>{var re=Ne(),ke=ce(re);{var he=Re=>{var me=pp(),de=v(me),ye=p(v(de)),Qe=v(ye,!0);d(ye),dt(),d(de);var Be=p(de,2),Oe=p(v(Be),2);Ve(Oe),d(Be);var Ee=p(Be,2),We=p(v(Ee),2);Ve(We),We.__keydown=W,d(Ee);var xt=p(Ee,2),Ze=p(v(xt),2);Ve(Ze),Ze.__keydown=W,d(xt);var V=p(xt,2);V.__click=O;var ie=v(V,!0);d(V);var \$e=p(V,2);\$e.__click=A;var kt=p(\$e,2);{var Qn=ft=>{var It=fp(),Jt=v(It,!0);d(It),D(()=>N(Jt,a(u))),b(ft,It)};q(kt,ft=>{a(u)&&ft(Qn)})}d(me),D(()=>{N(Qe,a(n)),yt(Oe,"placeholder",a(n)),Oe.disabled=a(c),We.disabled=a(c),Ze.disabled=a(c),V.disabled=a(c)||a(r).length!==6,N(ie,a(c)?"Creating...":"Create Room"),\$e.disabled=a(c)}),rt(Oe,()=>a(i),ft=>l(i,ft)),rt(We,()=>a(r),ft=>l(r,ft)),rt(Ze,()=>a(o),ft=>l(o,ft)),b(Re,me)};q(ke,Re=>{a(s)==="createPin"&&Re(he)},!0)}b(le,re)};q(X,le=>{a(s)==="notFound"?le(ue):le(ne,!1)},!0)}b(R,Y)};q(T,R=>{a(s)==="enter"?R(B):R(H,!1)})}d(I);var U=p(I,2);{var te=R=>{var Y=wp(),X=p(v(Y),2);{var ue=le=>{var re=hp();b(le,re)},ne=le=>{var re=kp();Xe(re,21,()=>a(y),ma,(ke,he)=>{var Re=yp();Re.__click=()=>L(a(he).roomId);var me=v(Re),de=v(me,!0);d(me);var ye=p(me,2),Qe=v(ye);{var Be=Ze=>{var V=mp(),ie=v(V,!0);d(V),D(\$e=>{yt(V,"title",a(he).nowPlaying),N(ie,\$e)},[()=>a(he).nowPlaying.length>30?a(he).nowPlaying.slice(0,30)+"...":a(he).nowPlaying]),b(Ze,V)};q(Qe,Ze=>{a(he).nowPlaying&&Ze(Be)})}var Oe=p(Qe,2);{var Ee=Ze=>{var V=gp(),ie=v(V);d(V),D(()=>N(ie,\`\${a(he).queueSize??""} waiting\`)),b(Ze,V)};q(Oe,Ze=>{a(he).queueSize&&a(he).queueSize>0&&Ze(Ee)})}var We=p(Oe,2),xt=v(We,!0);d(We),d(ye),d(Re),D(Ze=>{N(de,a(he).roomId),N(xt,Ze)},[()=>k(a(he).lastActivity)]),b(ke,Re)}),d(re),b(le,re)};q(X,le=>{a(m)?le(ue):le(ne,!1)})}d(Y),b(R,Y)};q(U,R=>{a(s)==="enter"&&(a(y).length>0||a(m))&&R(te)})}d(M),b(e,M),Fe()}var lp,cp,up,dp,vp,fp,pp,hp,mp,gp,yp,kp,wp,bp,ad=De(()=>{"use strict";At();st();ys();bs();Ys();No();lp=x('<div class="error-msg svelte-1uha8ag"> </div>'),cp=x('<button class="recent-btn svelte-1uha8ag"> </button>'),up=x('<div class="recent svelte-1uha8ag"><div class="recent-label svelte-1uha8ag">Recent rooms</div> <div class="recent-list svelte-1uha8ag"></div></div>'),dp=x('<div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="roomCode">Room code</label> <input type="text" id="roomCode" placeholder="e.g. bobs-party" maxlength="30" autocomplete="off" autocapitalize="off" class="svelte-1uha8ag"/></div> <button class="btn svelte-1uha8ag"> </button> <!> <!>',1),vp=x(\`<div class="not-found svelte-1uha8ag"><p class="not-found-msg svelte-1uha8ag">Room "<strong class="svelte-1uha8ag"> </strong>" doesn't exist yet.</p> <button class="btn svelte-1uha8ag">Create it</button> <button class="btn btn-secondary svelte-1uha8ag">Back</button></div>\`),fp=x('<div class="error-msg svelte-1uha8ag"> </div>'),pp=x('<div class="create-form svelte-1uha8ag"><p class="create-msg svelte-1uha8ag">Set an admin PIN for "<strong class="svelte-1uha8ag"> </strong>"</p> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="displayName">Display name (optional)</label> <input type="text" id="displayName" maxlength="50" class="svelte-1uha8ag"/></div> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="pin">Admin PIN (6 digits)</label> <input type="password" id="pin" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000" class="svelte-1uha8ag"/></div> <div class="input-group svelte-1uha8ag"><label class="input-label svelte-1uha8ag" for="pinConfirm">Confirm PIN</label> <input type="password" id="pinConfirm" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000" class="svelte-1uha8ag"/></div> <button class="btn svelte-1uha8ag"> </button> <button class="btn btn-secondary svelte-1uha8ag">Back</button> <!></div>'),hp=x('<div class="active-loading svelte-1uha8ag">Loading...</div>'),mp=x('<span class="now-playing svelte-1uha8ag"> </span>'),gp=x('<span class="queue-count svelte-1uha8ag"> </span>'),yp=x('<button class="active-room-btn svelte-1uha8ag"><span class="room-name svelte-1uha8ag"> </span> <span class="room-meta svelte-1uha8ag"><!> <!> <span class="last-active svelte-1uha8ag"> </span></span></button>'),kp=x('<div class="active-list svelte-1uha8ag"></div>'),wp=x('<div class="active-rooms svelte-1uha8ag"><div class="active-rooms-header svelte-1uha8ag"><span class="pulse-dot svelte-1uha8ag"></span> <span class="active-label svelte-1uha8ag">Happening Now</span></div> <!></div>'),bp=x('<div class="container landing svelte-1uha8ag"><header class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">Karaoke</h1> <p class="subtitle svelte-1uha8ag">Pick a room, pick a song, sing your heart out</p></header> <div class="card svelte-1uha8ag"><!></div> <!></div>');gt(["keydown","click"])});function Vo(e,t,n){ve&&xn();var s=new Yn(e),r=!us();Xt(()=>{var o=t();r&&o!==null&&typeof o=="object"&&(o={}),s.ensure(o,n)})}var yl=De(()=>{"use strict";st();qr()});function Js(e){if(!e)return null;let t=e.trim(),n=[/(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/)([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/shorts\\/([a-zA-Z0-9_-]{11})/,/music\\.youtube\\.com\\/watch\\?v=([a-zA-Z0-9_-]{11})/,/music\\.youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/m\\.youtube\\.com\\/watch\\?v=([a-zA-Z0-9_-]{11})/,/m\\.youtube\\.com\\/watch\\?.*&v=([a-zA-Z0-9_-]{11})/,/youtube\\.com\\/v\\/([a-zA-Z0-9_-]{11})/];for(let s of n){let r=t.match(s);if(r!=null&&r[1])return r[1]}return null}var _s,kl=De(()=>{"use strict";_s={reactionsEnabled:!0,chatEnabled:!0,booEnabled:!1,energySkipEnabled:!1,energySkipThreshold:20,energySkipDuration:15}});function od(){let e=ga.now();ga.tasks.forEach(t=>{t.c(e)||(ga.tasks.delete(t),t.f())}),ga.tasks.size!==0&&ga.tick(od)}function xp(e){let t;return ga.tasks.size===0&&ga.tick(od),{promise:new Promise(n=>{ga.tasks.add(t={c:e,f:n})}),abort(){ga.tasks.delete(t)}}}function Bo(e,t){za(()=>{e.dispatchEvent(new CustomEvent(t))})}function Pp(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;let t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function sd(e){let t={},n=e.split(";");for(let s of n){let[r,o]=s.split(":");if(!r||o===void 0)break;let i=Pp(r.trim());t[i]=o.trim()}return t}function id(e,t,n){var s=Pe,r=s.nodes,o,i,c,u=null;r.a??(r.a={element:e,measure(){o=this.element.getBoundingClientRect()},apply(){if(c?.abort(),i=this.element.getBoundingClientRect(),o.left!==i.left||o.right!==i.right||o.top!==i.top||o.bottom!==i.bottom){let f=t()(this.element,{from:o,to:i},n?.());c=Qo(this.element,f,void 0,1,()=>{c?.abort(),c=void 0})}},fix(){if(!e.getAnimations().length){var{position:f,width:h,height:m}=getComputedStyle(e);if(f!=="absolute"&&f!=="fixed"){var y=e.style;u={position:y.position,width:y.width,height:y.height,transform:y.transform},y.position="absolute",y.width=h,y.height=m;var g=e.getBoundingClientRect();if(o.left!==g.left||o.top!==g.top){var k=\`translate(\${o.left-g.left}px, \${o.top-g.top}px)\`;y.transform=y.transform?\`\${y.transform} \${k}\`:k}}}},unfix(){if(u){var f=e.style;f.position=u.position,f.width=u.width,f.height=u.height,f.transform=u.transform}}}),r.a.element=e}function Ko(e,t,n,s){var r,o=(e&cc)!==0,i=(e&uc)!==0,c=o&&i,u=(e&dc)!==0,f=c?"both":o?"in":"out",h,m=t.inert,y=t.style.overflow,g,k;function w(){return za(()=>h??(h=n()(t,s?.()??{},{direction:f})))}var \$={is_global:u,in(){var O;if(t.inert=m,!o){k?.abort(),(O=k?.reset)==null||O.call(k);return}i||g==null||g.abort(),Bo(t,"introstart"),g=Qo(t,w(),k,1,()=>{Bo(t,"introend"),g?.abort(),g=h=void 0,t.style.overflow=y})},out(O){if(!i){O?.(),h=void 0;return}t.inert=!0,Bo(t,"outrostart"),k=Qo(t,w(),g,0,()=>{Bo(t,"outroend"),O?.()})},stop:()=>{g?.abort(),k?.abort()}},_=Pe;if(((r=_.nodes).t??(r.t=[])).push(\$),o&&qo){var j=u;if(!j){for(var P=_.parent;P&&P.f&Ht;)for(;(P=P.parent)&&!(P.f&Sn););j=!P||(P.f&rs)!==0}j&&Rs(()=>{Vt(()=>\$.in())})}}function Qo(e,t,n,s,r){var o=s===1;if(Bl(t)){var i,c=!1;return zt(()=>{if(!c){var \$=t({direction:o?"in":"out"});i=Qo(e,\$,n,s,r)}}),{abort:()=>{c=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(n?.deactivate(),!(t!=null&&t.duration))return r(),{abort:An,deactivate:An,reset:An,t:()=>s};let{delay:u=0,css:f,tick:h,easing:m=Ep}=t;var y=[];if(o&&n===void 0&&(h&&h(0,1),f)){var g=sd(f(0,1));y.push(g,g)}var k=()=>1-s,w=e.animate(y,{duration:u,fill:"forwards"});return w.onfinish=()=>{w.cancel();var \$=n?.t()??1-s;n?.abort();var _=s-\$,j=t.duration*Math.abs(_),P=[];if(j>0){var O=!1;if(f)for(var A=Math.ceil(j/16.666666666666668),W=0;W<=A;W+=1){var L=\$+_*m(W/A),M=sd(f(L,1-L));P.push(M),O||(O=M.overflow==="hidden")}O&&(e.style.overflow="hidden"),k=()=>{var I=w.currentTime;return \$+_*m(I/j)},h&&xp(()=>{if(w.playState!=="running")return!1;var I=k();return h(I,1-I),!0})}w=e.animate(P,{duration:j,fill:"forwards"}),w.onfinish=()=>{k=()=>s,h?.(s,1-s),r()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=An)},deactivate:()=>{r=An},reset:()=>{s===0&&h?.(1,0)},t:()=>k()}}function ld(e,t){Ue(t,!0);let n=He(t,"canSkip",3,!1);var s=\$p(),r=p(v(s),2),o=v(r,!0);d(r);var i=p(r,2),c=v(i,!0);d(i);var u=p(i,2);{var f=h=>{var m=Ip();m.__click=function(...y){var g;(g=t.onSkip)==null||g.apply(this,y)},b(h,m)};q(u,h=>{n()&&t.onSkip&&h(f)})}d(s),D(()=>{N(o,t.entry.title),N(c,t.entry.name)}),b(e,s),Fe()}function cd(e,t){Ue(t,!0);let n=He(t,"myVote",3,0),s=He(t,"isMine",3,!1),r=He(t,"readonly",3,!1);function o(A){if(r()||s()||!t.onVote)return;let W=n()===A?0:A;t.onVote(W)}let i=Ae(()=>t.entry.votes>0?"positive":t.entry.votes<0?"negative":"");var c=Np();let u;var f=v(c);let h;var m=v(f,!0);d(f);var y=p(f,2),g=v(y),k=v(g,!0);d(g);var w=p(g,2),\$=v(w),_=p(\$);{var j=A=>{var W=Cp();b(A,W)};q(_,A=>{s()&&A(j)})}d(w),d(y);var P=p(y,2);{var O=A=>{var W=Tp(),L=v(W);let M;L.__click=()=>o(1);var I=p(L,2),T=v(I,!0);d(I);var B=p(I,2);let H;B.__click=()=>o(-1);var U=p(B,2);{var te=R=>{var Y=jp();Y.__click=function(...X){var ue;(ue=t.onRemove)==null||ue.apply(this,X)},b(R,Y)};q(U,R=>{s()&&t.onRemove&&R(te)})}d(W),D(()=>{M=Ie(L,1,"vote-btn upvote svelte-bbkcgc",null,M,{active:n()===1}),L.disabled=s(),Ie(I,1,\`vote-count \${a(i)??""}\`,"svelte-bbkcgc"),N(T,t.entry.votes),H=Ie(B,1,"vote-btn downvote svelte-bbkcgc",null,H,{active:n()===-1}),B.disabled=s()}),b(A,W)};q(P,A=>{r()||A(O)})}d(c),D(()=>{u=Ie(c,1,"queue-item svelte-bbkcgc",null,u,{"is-mine":s()}),h=Ie(f,1,"position svelte-bbkcgc",null,h,{"is-mine":s()}),N(m,t.position),N(k,t.entry.title),N(\$,\`\${t.entry.name??""} \`)}),b(e,c),Fe()}function Op(e){let t=e-1;return t*t*t+1}function rd(e){let t=typeof e=="string"&&e.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*\$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function wl(e,{delay:t=0,duration:n=400,easing:s=Rp}={}){let r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:o=>\`opacity: \${o*r}\`}}function ud(e,{delay:t=0,duration:n=400,easing:s=Op,x:r=0,y:o=0,opacity:i=0}={}){let c=getComputedStyle(e),u=+c.opacity,f=c.transform==="none"?"":c.transform,h=u*(1-i),[m,y]=rd(r),[g,k]=rd(o);return{delay:t,duration:n,easing:s,css:(w,\$)=>\`
			transform: \${f} translate(\${(1-w)*m}\${y}, \${(1-w)*g}\${k});
			opacity: \${u-h*\$}\`}}function it(){if(typeof window>"u")return"default";let e=window.location.pathname.split("/").filter(Boolean);return e.length>0&&!zp.has(e[0])?e[0]:"default"}async function Yt(e,t={}){let{method:n="GET",headers:s={},body:r,skipRoom:o=!1}=t,i=\`\${Fa}\${e}\`;if(!o){let c=it(),u=e.includes("?")?"&":"?";i=\`\${i}\${u}room=\${encodeURIComponent(c)}\`}try{return await(await fetch(i,{method:n,headers:r?{"Content-Type":"application/json",...s}:s,body:r?JSON.stringify(r):void 0})).json()}catch{return{kind:"error",message:"Network error"}}}async function Go(){try{let e=it(),t=await fetch(\`\${Fa}/state?room=\${encodeURIComponent(e)}\`);return t.ok?await t.json():null}catch{return null}}async function Ho(){try{let e=it(),t=await fetch(\`\${Fa}/room/config?room=\${encodeURIComponent(e)}\`);return t.ok?await t.json():null}catch{return null}}async function Xo(e){let t=it();try{return await(await fetch(\`\${Fa}/admin/verify?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:e})})).json()}catch{return{kind:"error",message:"Network error"}}}function Ur(){if(typeof sessionStorage>"u")return null;let e=it();return sessionStorage.getItem(\`karaoke_admin_token_\${e}\`)}function Zo(e){if(typeof sessionStorage>"u")return;let t=it();sessionStorage.setItem(\`karaoke_admin_token_\${t}\`,e)}function ei(){if(typeof sessionStorage>"u")return;let e=it();sessionStorage.removeItem(\`karaoke_admin_token_\${e}\`)}function Ks(){let e=Ur();return e?{Authorization:\`Bearer \${e}\`}:{"X-Admin":"true"}}async function gd(e){let t={...e,page:window.location.pathname,userAgent:navigator.userAgent,roomId:it()!=="default"?it():void 0};return Yt("/feedback",{method:"POST",body:t,skipRoom:!0})}function yd(e){let t=it(),n=window.location.pathname,s=new URLSearchParams({room:t,return:n});window.location.href=\`/auth/google?\${s.toString()}\`}async function kd(){try{return await(await fetch("/auth/session",{credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function bl(e){let t=it();try{return await(await fetch("/auth/anonymous",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({roomId:t,displayName:e})})).json()}catch{return{kind:"error",message:"Network error"}}}async function wd(){try{return await(await fetch("/auth/logout",{method:"POST",credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function bd(){try{let e=it();return await(await fetch(\`\${Fa}/stack?room=\${encodeURIComponent(e)}\`,{credentials:"include"})).json()}catch{return{kind:"error",message:"Network error"}}}async function _d(e,t){try{let n=it();return await(await fetch(\`\${Fa}/stack/add?room=\${encodeURIComponent(n)}\`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({videoId:e,title:t})})).json()}catch{return{kind:"error",message:"Network error"}}}async function Sd(e){try{let t=it();return await(await fetch(\`\${Fa}/stack/remove?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({songId:e})})).json()}catch{return{kind:"error",message:"Network error"}}}async function xd(e){try{let t=it();return await(await fetch(\`\${Fa}/stack/reorder?room=\${encodeURIComponent(t)}\`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({songIds:e})})).json()}catch{return{kind:"error",message:"Network error"}}}function Pd(e,t){Ue(t,!0);let n=He(t,"maxDuration",3,420),s=S(""),r=S(_e([])),o=S(!1),i=S(null),c=S(null);async function u(){if(!a(s).trim()||a(o))return;l(o,!0),l(c,null),l(r,[],!0),l(i,null);let P=await Mr(a(s).trim());if(l(o,!1),P.kind==="error"){l(c,P.message,!0);return}if(P.results.length===0){l(c,"No results found. Try a different search.");return}l(r,P.results,!0)}function f(P){P.key==="Enter"&&u()}function h(P){P.durationSeconds>n()||(l(i,P.id,!0),t.onSelect(P))}function m(P){return P.durationSeconds>n()}var y=Wp(),g=v(y),k=v(g);Ve(k),k.__keydown=f;var w=p(k,2);w.__click=u,d(g);var \$=p(g,2);{var _=P=>{var O=Lp();b(P,O)},j=P=>{var O=Ne(),A=ce(O);{var W=M=>{var I=Mp(),T=v(I,!0);d(I),D(()=>N(T,a(c))),b(M,I)},L=M=>{var I=Ne(),T=ce(I);{var B=H=>{var U=Dp();Xe(U,23,()=>a(r),te=>te.id,(te,R,Y)=>{var X=Fp();let ue;X.__click=()=>h(a(R));var ne=v(X),le=v(ne),re=p(le,2);let ke;var he=v(re,!0);d(re),d(ne);var Re=p(ne,2),me=v(Re),de=v(me,!0);d(me);var ye=p(me,2),Qe=v(ye,!0);d(ye);var Be=p(ye,2);{var Oe=Ee=>{var We=Up();b(Ee,We)};q(Be,Ee=>{m(a(R))&&Ee(Oe)})}d(Re),d(X),D((Ee,We,xt)=>{ue=Ie(X,1,"search-result svelte-1002zyw",null,ue,Ee),X.disabled=We,yt(le,"src",a(R).thumbnail),ke=Ie(re,1,"result-duration svelte-1002zyw",null,ke,xt),N(he,a(R).duration),N(de,a(R).title),N(Qe,a(R).channel)},[()=>({selected:a(i)===a(R).id,"too-long":m(a(R))}),()=>m(a(R)),()=>({"too-long-badge":m(a(R))})]),Ko(1,X,()=>wl,()=>({duration:200,delay:a(Y)*50})),b(te,X)}),d(U),b(H,U)};q(T,H=>{a(r).length>0&&H(B)},!0)}b(M,I)};q(A,M=>{a(c)?M(W):M(L,!1)},!0)}b(P,O)};q(\$,P=>{a(o)?P(_):P(j,!1)})}d(y),D(()=>w.disabled=a(o)),rt(k,()=>a(s),P=>l(s,P)),b(e,y),Fe()}function Ed(e,t){Ue(t,!0);let n=He(t,"mode",3,"closed"),s=He(t,"name",3,""),r=S(""),o=S(""),i=S(!1);vt(()=>{l(r,""),l(o,"")});function c(g){let k=g.target;l(r,k.value.replace(/\\D/g,"").slice(0,6),!0)}async function u(){var g;if(!/^\\d{6}\$/.test(a(r))){l(o,"PIN must be 6 digits");return}l(i,!0),l(o,"");let k=await qp(s(),a(r));switch(l(i,!1),k.kind){case"claimed":(g=t.onSuccess)==null||g.call(t);break;case"alreadyClaimed":l(o,"This name is already claimed");break;case"invalidPin":l(o,k.reason,!0);break;case"error":l(o,k.message,!0);break}}async function f(){var g;if(!/^\\d{6}\$/.test(a(r))){l(o,"PIN must be 6 digits");return}l(i,!0),l(o,"");let k=await Ap(s(),a(r));switch(l(i,!1),k.kind){case"verified":(g=t.onSuccess)==null||g.call(t);break;case"nameNotFound":l(o,"Name not found");break;case"invalidPin":l(o,"Invalid PIN");break;case"error":l(o,k.message,!0);break}}var h=Ne(),m=ce(h);{var y=g=>{var k=Qp(),w=v(k),\$=v(w);{var _=P=>{var O=Bp(),A=p(ce(O),4),W=v(A),L=p(v(W)),M=v(L);d(L),dt(),d(W),dt(4),d(A);var I=p(A,4);Ve(I),I.__input=c;var T=p(I,2);T.__click=u;var B=p(T,2);{var H=te=>{var R=Vp(),Y=v(R,!0);d(R),D(()=>N(Y,a(o))),b(te,R)};q(B,te=>{a(o)&&te(H)})}var U=p(B,4);U.__click=function(...te){var R;(R=t.onClose)==null||R.apply(this,te)},D(()=>{N(M,\`"\${s()??""}"\`),Ua(I,a(r)),T.disabled=a(i)}),b(P,O)},j=P=>{var O=Ne(),A=ce(O);{var W=L=>{var M=Jp(),I=p(ce(M),2),T=v(I),B=v(T);d(T),dt(),d(I);var H=p(I,2);Ve(H),H.__input=c;var U=p(H,2);U.__click=f;var te=p(U,2);{var R=ue=>{var ne=Yp(),le=v(ne,!0);d(ne),D(()=>N(le,a(o))),b(ue,ne)};q(te,ue=>{a(o)&&ue(R)})}var Y=p(te,2),X=p(v(Y));X.__click=function(...ue){var ne;(ne=t.onChangeName)==null||ne.apply(this,ue)},d(Y),D(()=>{N(B,\`"\${s()??""}"\`),Ua(H,a(r)),U.disabled=a(i)}),b(L,M)};q(A,L=>{n()==="verify"&&L(W)},!0)}b(P,O)};q(\$,P=>{n()==="claim"?P(_):P(j,!1)})}d(w),d(k),b(g,k)};q(m,g=>{n()!=="closed"&&g(y)})}b(e,h),Fe()}function Yo(...e){Kp&&console.log("[WS]",...e)}function Jo(...e){console.error("[WS]",...e)}function Hs(){let e=null,t=!1,n=0,s=null,r=null,o="user",i=3e4,c=1e3,u=null,f=null,h=null,m=null,y=null,g=null,k=null,w=null,\$=null,_=null,j=null,P=0,O=0;function A(){return Math.min(c*Math.pow(2,n),i)+Math.random()*1e3}function W(){M(),L(),r=setInterval(()=>{e&&t&&L()},3e4)}function L(){e&&t&&(O=Date.now(),e.send(JSON.stringify({kind:"ping",clientTime:O})))}function M(){r&&(clearInterval(r),r=null)}function I(U){switch(U.kind){case"state":u?.(U.state,U.playback,U.extensionConnected);break;case"extensionStatus":f?.(U.connected);break;case"pong":if(U.serverTime&&U.clientTime){let te=Date.now()-U.clientTime;P=U.serverTime-U.clientTime-te/2,Yo("Clock sync: offset",P,"ms, RTT",te,"ms")}break;case"sync":h?.(U.playback,P);break;case"reaction":m?.(U.reaction);break;case"chat":y?.(U.message);break;case"chatPinned":g?.(U.message);break;case"chatUnpinned":k?.(U.messageId);break;case"energy":w?.(U.state);break;case"energySkip":\$?.();break;case"removed":_?.(U.entryId);break;case"configUpdated":j?.(U.config);break;case"error":Jo("Server error:",U.message);break}}function T(U){if(o=U,typeof window>"u")return;let te=location.protocol==="https:"?"wss:":"ws:",R=it(),Y=\`\${te}//\${location.host}/?upgrade=websocket&room=\${encodeURIComponent(R)}&clientType=\${encodeURIComponent(U)}\`;try{e=new WebSocket(Y),e.onopen=()=>{Yo("Connected"),t=!0,n=0,e.send(JSON.stringify({kind:"subscribe",clientType:U})),W()},e.onmessage=X=>{try{let ue=JSON.parse(X.data);I(ue)}catch(ue){Jo("Failed to parse message:",ue)}},e.onclose=()=>{Yo("Disconnected"),t=!1,e=null,M(),n++;let X=A();Yo(\`Reconnecting in \${Math.round(X/1e3)}s (attempt \${n})\`),s=setTimeout(()=>T(o),X)},e.onerror=X=>{Jo("Error:",X)}}catch(X){Jo("Failed to connect:",X)}}function B(){s&&(clearTimeout(s),s=null),M(),e&&(e.close(),e=null),t=!1}function H(U){e&&t&&e.send(JSON.stringify(U))}return{connect:T,disconnect:B,send:H,onState(U){u=U},onExtensionStatus(U){f=U},onSync(U){h=U},onReaction(U){m=U},onChat(U){y=U},onChatPinned(U){g=U},onChatUnpinned(U){k=U},onEnergy(U){w=U},onEnergySkip(U){\$=U},onRemoved(U){_=U},onConfigUpdated(U){j=U},requestSync(){H({kind:"syncRequest"})},getServerTimeOffset(){return P},isConnected(){return t}}}var Sp,ga,Ep,Ip,\$p,Cp,jp,Tp,Np,Rp,Fa,zp,Qs,dd,vd,fd,Mr,qp,Ap,pd,ti,ni,ai,Gs,hd,md,Lp,Mp,Up,Fp,Dp,Wp,Vp,Bp,Yp,Jp,Qp,Kp,si=De(()=>{"use strict";At();st();ys();Ar();Bs();bs();Ys();Sp=()=>performance.now(),ga={tick:e=>requestAnimationFrame(e),now:()=>Sp(),tasks:new Set};Ep=e=>e;Ip=x('<button class="skip-own-btn svelte-gs8b8u">Skip My Song</button>'),\$p=x('<div class="now-playing-card svelte-gs8b8u"><div class="now-playing-label svelte-gs8b8u">Now Playing</div> <div class="now-playing-title svelte-gs8b8u"> </div> <div class="now-playing-singer svelte-gs8b8u"> </div> <!></div>');gt(["click"]);Cp=x('<span class="you-badge svelte-bbkcgc">YOU</span>'),jp=x('<button class="remove-btn svelte-bbkcgc" aria-label="Remove">x</button>'),Tp=x('<div class="queue-actions svelte-bbkcgc"><button aria-label="Upvote">+</button> <span> </span> <button aria-label="Downvote">-</button> <!></div>'),Np=x('<li><span> </span> <div class="queue-info svelte-bbkcgc"><div class="queue-song svelte-bbkcgc"> </div> <div class="queue-singer svelte-bbkcgc"> <!></div></div> <!></li>');gt(["click"]);Rp=e=>e;Fa="/api",zp=new Set(["player","admin","api","shikashika"]);Qs=e=>Yt("/join",{method:"POST",body:e}),dd=(e,t,n)=>Yt("/vote",{method:"POST",headers:{"X-Voter-Id":n},body:{entryId:e,direction:t}}),vd=(e,t)=>Yt("/remove",{method:"POST",headers:{"X-User-Name":t},body:{entryId:e}}),fd=e=>Yt("/skip",{method:"POST",headers:{"X-User-Name":e}}),Mr=e=>Yt(\`/search?q=\${encodeURIComponent(e)}\`);qp=(e,t)=>Yt("/claim",{method:"POST",body:{name:e,pin:t}}),Ap=(e,t)=>Yt("/verify",{method:"POST",body:{name:e,pin:t}}),pd=(e=10)=>Yt(\`/songs/popular?limit=\${e}\`);ti=()=>Yt("/skip",{method:"POST",headers:Ks()}),ni=e=>Yt("/remove",{method:"POST",headers:Ks(),body:{entryId:e}}),ai=e=>Yt("/add",{method:"POST",headers:Ks(),body:e}),Gs=(e,t)=>Yt("/reorder",{method:"POST",headers:Ks(),body:{entryId:e,newPosition:t}}),hd=e=>Yt("/room/config",{method:"POST",headers:Ks(),body:{mode:e}}),md=e=>Yt("/room/config",{method:"POST",headers:Ks(),body:{social:e}});Lp=x('<div class="searching-indicator svelte-1002zyw"><div class="spinner"></div> Searching...</div>'),Mp=x('<div class="no-results svelte-1002zyw"> </div>'),Up=x('<div class="too-long-msg svelte-1002zyw">Too long (max 7 min)</div>'),Fp=x('<button><div class="result-thumb-wrapper svelte-1002zyw"><img class="result-thumb svelte-1002zyw" alt="" loading="lazy"/> <span> </span></div> <div class="result-info svelte-1002zyw"><div class="result-title svelte-1002zyw"> </div> <div class="result-channel svelte-1002zyw"> </div> <!></div></button>'),Dp=x('<div class="search-results svelte-1002zyw"></div>'),Wp=x('<div class="search-container svelte-1002zyw"><div class="search-row svelte-1002zyw"><input type="text" placeholder="Song title or artist..." autocomplete="off" class="svelte-1002zyw"/> <button class="btn btn-cyan search-btn svelte-1002zyw">Search</button></div> <!></div>');gt(["keydown","click"]);Vp=x('<div class="modal-error svelte-1ppz18g"> </div>'),Bp=x(\`<h2 class="svelte-1ppz18g">You made karaoke history!</h2> <p class="svelte-1ppz18g">Your performance is saved. Set a PIN to:</p> <ul class="svelte-1ppz18g"><li class="svelte-1ppz18g">Keep <span class="highlight svelte-1ppz18g"> </span> as your stage name</li> <li class="svelte-1ppz18g">Build your songbook across devices</li> <li class="svelte-1ppz18g">See your stats and history anytime</li></ul> <p class="svelte-1ppz18g">Pick a 6-digit PIN you'll remember:</p> <input type="text" class="modal-input svelte-1ppz18g" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="------" autocomplete="off"/> <button class="btn svelte-1ppz18g">Lock in my name</button> <!> <p class="small svelte-1ppz18g">Skip for now? Anyone can use this name until you claim it.</p> <button class="skip-link svelte-1ppz18g">I'll set it up later</button>\`,1),Yp=x('<div class="modal-error svelte-1ppz18g"> </div>'),Jp=x('<h2 class="svelte-1ppz18g">Welcome back!</h2> <p class="svelte-1ppz18g"><span class="highlight svelte-1ppz18g"> </span> has a PIN. Enter it to continue.</p> <input type="text" class="modal-input svelte-1ppz18g" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="------" autocomplete="off"/> <button class="btn svelte-1ppz18g">Continue</button> <!> <p class="hint svelte-1ppz18g">Not you? <button class="link-btn svelte-1ppz18g">Use different name</button></p>',1),Qp=x('<div class="modal-overlay svelte-1ppz18g"><div class="modal svelte-1ppz18g"><!></div></div>');gt(["input","click"]);S(_e({queue:[],nowPlaying:null,currentEpoch:0}));S(_e(typeof localStorage<"u"?localStorage.getItem("karaoke_name")??"":""));_e(typeof localStorage<"u"?localStorage.getItem("karaoke_voter_id")??crypto.randomUUID():crypto.randomUUID());S(_e(typeof localStorage<"u"?JSON.parse(localStorage.getItem("karaoke_votes")??"{}"):{}));S(_e(typeof localStorage<"u"?JSON.parse(localStorage.getItem("karaoke_verified")??"{}"):{}));Kp=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")});function Gp(e){let t=e-1;return t*t*t+1}function Hp(e,{from:t,to:n},s={}){var{delay:r=0,duration:o=W=>Math.sqrt(W)*120,easing:i=Gp}=s,c=getComputedStyle(e),u=c.transform==="none"?"":c.transform,[f,h]=c.transformOrigin.split(" ").map(parseFloat);f/=e.clientWidth,h/=e.clientHeight;var m=Xp(e),y=e.clientWidth/n.width/m,g=e.clientHeight/n.height/m,k=t.left+t.width*f,w=t.top+t.height*h,\$=n.left+n.width*f,_=n.top+n.height*h,j=(k-\$)*y,P=(w-_)*g,O=t.width/n.width,A=t.height/n.height;return{delay:r,duration:typeof o=="function"?o(Math.sqrt(j*j+P*P)):o,easing:i,css:(W,L)=>{var M=L*j,I=L*P,T=W+L*O,B=W+L*A;return\`transform: \${u} translate(\${M}px, \${I}px) scale(\${T}, \${B});\`}}}function Xp(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,n=1;t!==null;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}function ah(e,t){Ue(t,!0);let n=He(t,"myName",3,""),s=He(t,"myVotes",19,()=>({})),r=He(t,"readonly",3,!1);function o(k){return k.name.toLowerCase()===n().toLowerCase()}function i(k){let w=s()[k];return w===1?1:w===-1?-1:0}var c=nh(),u=v(c),f=p(v(u),2),h=v(f);d(f),d(u);var m=p(u,2);{var y=k=>{var w=Zp();b(k,w)},g=k=>{var w=th();Xe(w,31,()=>t.entries,\$=>\$.id,(\$,_,j)=>{var P=eh(),O=v(P);{let A=Ae(()=>a(j)+1),W=Ae(()=>i(a(_).id)),L=Ae(()=>o(a(_)));cd(O,{get entry(){return a(_)},get position(){return a(A)},get myVote(){return a(W)},get isMine(){return a(L)},get readonly(){return r()},onVote:M=>{var I;return(I=t.onVote)==null?void 0:I.call(t,a(_).id,M)},onRemove:()=>{var M;return(M=t.onRemove)==null?void 0:M.call(t,a(_).id)}})}d(P),id(P,()=>Hp,()=>({duration:300})),Ko(1,P,()=>ud,()=>({y:20,duration:300})),Ko(2,P,()=>wl),b(\$,P)}),d(w),b(k,w)};q(m,k=>{t.entries.length===0?k(y):k(g,!1)})}d(c),D(()=>N(h,\`\${t.entries.length??""} in queue\`)),b(e,c),Fe()}function Id(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function Fr(){El&&navigator.vibrate([50,30,50])}function ri(){El&&navigator.vibrate(10)}function oi(){El&&navigator.vibrate([100,50,100])}function oh(e,t){Ue(t,!0);let n=S(_e([])),s=S(!0),r=S(!1);sn(async()=>{let m=await pd(8);l(s,!1),l(r,!0),m.kind==="songs"&&l(n,m.songs,!0)});function o(m){return\`https://i.ytimg.com/vi/\${m}/mqdefault.jpg\`}function i(m){t.onSelect(m.videoId,m.title)}var c=Ne(),u=ce(c);{var f=m=>{var y=rh(),g=p(v(y),2);Xe(g,21,()=>a(n),k=>k.videoId,(k,w)=>{var \$=sh();\$.__click=()=>i(a(w));var _=v(\$),j=v(_),P=p(j,2),O=v(P);d(P),d(_);var A=p(_,2),W=v(A),L=v(W,!0);d(W),d(A),d(\$),D(M=>{yt(j,"src",M),N(O,\`\${a(w).playCount??""}x\`),N(L,a(w).title)},[()=>o(a(w).videoId)]),b(k,\$)}),d(g),d(y),b(m,y)},h=m=>{var y=Ne(),g=ce(y);{var k=w=>{};q(g,w=>{a(s)&&w(k)},!0)}b(m,y)};q(u,m=>{a(r)&&a(n).length>0?m(f):m(h,!1)})}b(e,c),Fe()}function Cd(e){return!!(a(Sl)&&e.userId===a(Sl)||a(_l)&&e.name.toLowerCase()===a(_l).toLowerCase())}function ih(e,t){l(_l,e,!0),l(Sl,t??null,!0)}function lh(e){let t=a(\$d).find(n=>n.id===e);t&&Cd(t)&&ae.info("Your song was removed from the queue")}function ch(){l(Pl,!0),a(xl)&&Cd(a(xl))&&ae.info("The room energy was low \\u2014 song skipped")}function uh(){return a(Pl)?(l(Pl,!1),!0):!1}function dh(e){l(\$d,[...e.queue],!0),l(xl,e.nowPlaying,!0)}function hh(e,t){Ue(t,!0);let n=S(""),s=S(""),r=S("suggestion"),o=S(!1),i=S(""),c=[{value:"bug",label:"Bug",icon:"X"},{value:"suggestion",label:"Suggestion",icon:"+"},{value:"question",label:"Question",icon:"?"},{value:"other",label:"Other",icon:"#"}];function u(){l(n,""),l(s,""),l(r,"suggestion"),l(i,"")}function f(){u(),t.onClose()}async function h(){if(!a(n).trim())return;l(o,!0),l(i,"");let w=await gd({feedback:a(n).trim(),title:a(s).trim()||void 0,category:a(r)});l(o,!1),w.kind==="created"?(Fr(),ae.success(\`Thanks! Created issue #\${w.issueNumber}\`),f()):w.kind==="rateLimited"?(oi(),l(i,"Too many submissions. Please wait a minute.")):(oi(),l(i,w.message,!0))}function m(w){w.key==="Escape"&&f()}var y=Ne();on("keydown",Ts,m);var g=ce(y);{var k=w=>{var \$=ph();\$.__click=f;var _=v(\$);_.__click=T=>T.stopPropagation(),_.__keydown=()=>{};var j=v(_);j.__click=f;var P=p(j,4);Xe(P,21,()=>c,ma,(T,B)=>{var H=vh();let U;H.__click=()=>l(r,a(B).value,!0);var te=v(H),R=v(te,!0);d(te);var Y=p(te,2),X=v(Y,!0);d(Y),d(H),D(()=>{U=Ie(H,1,"category-btn svelte-4vowdw",null,U,{selected:a(r)===a(B).value}),N(R,a(B).icon),N(X,a(B).label)}),b(T,H)}),d(P);var O=p(P,2);Rc(O);var A=p(O,2);Ve(A);var W=p(A,2);{var L=T=>{var B=fh(),H=v(B,!0);d(B),D(()=>N(H,a(i))),b(T,B)};q(W,T=>{a(i)&&T(L)})}var M=p(W,2);M.__click=h;var I=v(M,!0);d(M),d(_),d(\$),D(T=>{M.disabled=T,N(I,a(o)?"Sending...":"Send Feedback")},[()=>!a(n).trim()||a(o)]),rt(O,()=>a(n),T=>l(n,T)),rt(A,()=>a(s),T=>l(s,T)),b(w,\$)};q(g,w=>{t.isOpen&&w(k)})}b(e,y),Fe()}function yh(e){let t=S(!1),n=S(!1);function s(){l(t,!a(t))}function r(){l(t,!1)}function o(){l(t,!1),l(n,!0)}function i(){l(n,!1)}function c(g){g.key==="Escape"&&a(t)&&r()}var u=gh();on("keydown",Ts,c);var f=ce(u);f.__click=s;var h=p(f,2);{var m=g=>{var k=mh();k.__click=r,k.__keydown=j=>j.key==="Escape"&&r();var w=v(k);w.__click=j=>j.stopPropagation(),w.__keydown=()=>{};var \$=v(w);\$.__click=r;var _=p(\$,26);_.__click=o,d(w),d(k),b(g,k)};q(h,g=>{a(t)&&g(m)})}var y=p(h,2);hh(y,{get isOpen(){return a(n)},onClose:i}),b(e,u)}function jh(e,t){Ue(t,!0);let n=S(null),s=S(null),r=S(!1),o=S(!0),i=S(!1),c=S(""),u=S(!1);vt(()=>{f()});async function f(){var P;l(o,!0);let O=await kd();O.kind==="authenticated"?(l(n,O.session,!0),l(s,O.user,!0),l(r,!1)):O.kind==="anonymous"?(l(n,O.session,!0),l(s,null),l(r,!0)):(l(n,null),l(s,null),l(r,!1)),l(o,!1),(P=t.onSessionChange)==null||P.call(t,a(n),a(s))}function h(){yd()}async function m(){var P;if(!a(c).trim()){l(u,!0);return}l(o,!0);let O=await bl(a(c).trim());O.kind==="created"&&(l(n,O.session,!0),l(r,!0),l(u,!1),l(c,""),(P=t.onSessionChange)==null||P.call(t,a(n),null)),l(o,!1)}async function y(){var P;await wd(),l(n,null),l(s,null),l(r,!1),l(i,!1),(P=t.onSessionChange)==null||P.call(t,null,null)}function g(){l(i,!a(i))}function k(){l(i,!1)}var w=Ch();on("click",Ts,k);var \$=v(w);{var _=P=>{var O=kh();b(P,O)},j=P=>{var O=Ne(),A=ce(O);{var W=M=>{var I=Ph(),T=ce(I);T.__click=le=>{le.stopPropagation(),g()};var B=v(T);{var H=le=>{var re=wh();D(()=>yt(re,"src",a(s).picture)),b(le,re)},U=le=>{var re=bh(),ke=v(re,!0);d(re),D(he=>N(ke,he),[()=>a(n).displayName.charAt(0).toUpperCase()]),b(le,re)};q(B,le=>{var re;(re=a(s))!=null&&re.picture?le(H):le(U,!1)})}var te=p(B,2),R=v(te,!0);d(te);var Y=p(te,2),X=v(Y,!0);d(Y),d(T);var ue=p(T,2);{var ne=le=>{var re=xh();re.__click=Oe=>Oe.stopPropagation(),re.__keydown=()=>{};var ke=v(re),he=v(ke),Re=v(he,!0);d(he);var me=p(he,2);{var de=Oe=>{var Ee=_h(),We=v(Ee,!0);d(Ee),D(()=>N(We,a(s).email)),b(Oe,Ee)};q(me,Oe=>{var Ee;(Ee=a(s))!=null&&Ee.email&&Oe(de)})}d(ke);var ye=p(ke,2);{var Qe=Oe=>{var Ee=Sh();Ee.__click=h,b(Oe,Ee)};q(ye,Oe=>{a(r)&&Oe(Qe)})}var Be=p(ye,2);Be.__click=y,d(re),D(()=>N(Re,a(r)?"Guest":"Google")),b(le,re)};q(ue,le=>{a(i)&&le(ne)})}D(()=>{N(R,a(n).displayName),N(X,a(i)?"\\u25B2":"\\u25BC")}),b(M,I)},L=M=>{var I=\$h(),T=v(I);{var B=U=>{var te=Eh(),R=v(te);Ve(R),R.__keydown=X=>X.key==="Enter"&&m();var Y=p(R,2);Y.__click=m,d(te),rt(R,()=>a(c),X=>l(c,X)),b(U,te)},H=U=>{var te=Ih(),R=ce(te);R.__click=h;var Y=p(R,2);Y.__click=()=>l(u,!0),b(U,te)};q(T,U=>{a(u)?U(B):U(H,!1)})}d(I),b(M,I)};q(A,M=>{a(n)?M(W):M(L,!1)},!0)}b(P,O)};q(\$,P=>{a(o)?P(_):P(j,!1)})}d(w),b(e,w),Fe()}function Dh(e,t){Ue(t,!0);let n=S(_e([])),s=S(null),r=S(!0),o=S(null),i=S(null),c=S(null);vt(()=>{u()});async function u(){var I;l(r,!0),l(o,null);let T=await bd();T.kind==="stack"?(l(n,T.songs,!0),l(s,T.inQueue,!0),(I=t.onStackChange)==null||I.call(t,a(n),a(s))):T.kind==="unauthenticated"?(l(n,[],!0),l(s,null)):l(o,T.message,!0),l(r,!1)}async function f(I){var T;(await Sd(I)).kind==="removed"&&(l(n,a(n).filter(B=>B.id!==I),!0),(T=t.onStackChange)==null||T.call(t,a(n),a(s)))}function h(I){l(i,I,!0)}function m(I,T){I.preventDefault(),l(c,T,!0)}function y(){if(a(i)!==null&&a(c)!==null&&a(i)!==a(c)){let I=[...a(n)],[T]=I.splice(a(i),1);I.splice(a(c),0,T),l(n,I,!0),xd(I.map(B=>B.id)).then(B=>{var H;B.kind==="reordered"&&((H=t.onStackChange)==null||H.call(t,a(n),a(s)))})}l(i,null),l(c,null)}function g(){l(c,null)}function k(){u()}function w(I){var T;l(n,I,!0),(T=t.onStackChange)==null||T.call(t,a(n),a(s))}function \$(I){var T;l(s,I,!0),(T=t.onStackChange)==null||T.call(t,a(n),a(s))}var _={refresh:k,updateStack:w,updateInQueue:\$},j=Fh(),P=v(j),O=p(v(P));{var A=I=>{var T=Th(),B=v(T);d(T),D(()=>N(B,\`(\${a(n).length??""})\`)),b(I,T)};q(O,I=>{a(n).length>0&&I(A)})}d(P);var W=p(P,2);{var L=I=>{var T=Nh();b(I,T)},M=I=>{var T=Ne(),B=ce(T);{var H=te=>{var R=Rh(),Y=v(R,!0);d(R),D(()=>N(Y,a(o))),b(te,R)},U=te=>{var R=Uh(),Y=ce(R);{var X=re=>{var ke=Oh(),he=p(v(ke),2),Re=v(he),me=v(Re,!0);d(Re);var de=p(Re,2),ye=v(de);d(de),d(he),d(ke),D(()=>{N(me,a(s).title),N(ye,\`\${a(s).votes>0?"+":""}\${a(s).votes??""} votes\`)}),b(re,ke)};q(Y,re=>{a(s)&&re(X)})}var ue=p(Y,2);{var ne=re=>{var ke=Ah(),he=v(ke);{var Re=de=>{var ye=zh();b(de,ye)},me=de=>{var ye=qh();b(de,ye)};q(he,de=>{a(s)?de(Re):de(me,!1)})}d(ke),b(re,ke)},le=re=>{var ke=Mh(),he=ce(ke);Xe(he,21,()=>a(n),ma,(Re,me,de)=>{var ye=Lh();let Qe;var Be=p(v(ye),2),Oe=v(Be);Oe.textContent=\`#\${de+1}\`;var Ee=p(Oe,2),We=v(Ee,!0);d(Ee),d(Be);var xt=p(Be,2);xt.__click=()=>f(a(me).id),d(ye),D(()=>{Qe=Ie(ye,1,"stack-item svelte-owkba6",null,Qe,{dragging:a(i)===de,"drag-over":a(c)===de}),N(We,a(me).title)}),on("dragstart",ye,()=>h(de)),on("dragover",ye,Ze=>m(Ze,de)),on("dragleave",ye,g),on("dragend",ye,y),b(Re,ye)}),d(he),dt(2),b(re,ke)};q(ue,re=>{a(n).length===0?re(ne):re(le,!1)})}b(te,R)};q(B,te=>{a(o)?te(H):te(U,!1)},!0)}b(I,T)};q(W,I=>{a(r)?I(L):I(M,!1)})}return d(j),b(e,j),Fe(_)}function Yh(e,t){Ue(t,!0);let n=He(t,"enabled",3,!0),s=He(t,"booEnabled",3,!1),r=["fire","heart","clap","laugh","boo"],o={fire:"\\u{1F525}",heart:"\\u2764\\uFE0F",clap:"\\u{1F44F}",laugh:"\\u{1F602}",boo:"\\u{1F624}"},i=S(null),c=S(_e([])),u=S("");function f(w){var \$;if(!n()||w==="boo"&&!s())return;let _=Date.now();if(l(c,a(c).filter(j=>_-j<5e3),!0),a(c).length>=10){l(u,"Easy there!"),setTimeout(()=>{l(u,"")},800);return}l(c,[...a(c),_],!0),l(i,w,!0),setTimeout(()=>{a(i)===w&&l(i,null)},300),ri(),(\$=t.onReact)==null||\$.call(t,w)}var h=Bh();let m;var y=v(h);Xe(y,21,()=>r,ma,(w,\$)=>{var _=Ne(),j=ce(_);{var P=O=>{var A=Wh();let W;A.__click=()=>f(a(\$));var L=v(A),M=v(L,!0);d(L),d(A),D(()=>{W=Ie(A,1,"reaction-btn svelte-sl8bo3",null,W,{cooldown:a(i)===a(\$)}),A.disabled=!n(),N(M,o[a(\$)])}),b(O,A)};q(j,O=>{(a(\$)!=="boo"||s())&&O(P)})}b(w,_)}),d(y);var g=p(y,2);{var k=w=>{var \$=Vh(),_=v(\$,!0);d(\$),D(()=>N(_,a(u))),b(w,\$)};q(g,w=>{a(u)&&w(k)})}d(h),D(()=>m=Ie(h,1,"reaction-panel svelte-sl8bo3",null,m,{disabled:!n()})),b(e,h),Fe()}function Xh(e,t){Ue(t,!0);let n=He(t,"enabled",3,!0),s=He(t,"messages",19,()=>[]),r=S(!1),o=S(""),i=S(null),c=S(""),u=S(_e([]));vt(()=>{!a(r)||!a(i)||Pn().then(()=>{a(i)&&(a(i).scrollTop=a(i).scrollHeight)})});function f(){l(r,!a(r)),ri()}function h(){var A;if(!n())return;let W=a(o).trim().slice(0,200);if(!W)return;let L=Date.now();if(l(u,a(u).filter(M=>L-M<1e4),!0),a(u).length>=5){l(c,"Slow down a bit"),setTimeout(()=>{l(c,"")},1200);return}l(u,[...a(u),L],!0),(A=t.onSend)==null||A.call(t,W),l(o,"")}function m(A){A.key==="Enter"&&(A.preventDefault(),h())}var y=Hh();let g;var k=v(y);k.__click=f;var w=p(v(k),2),\$=v(w,!0);d(w);var _=p(w,2),j=v(_,!0);d(_),d(k);var P=p(k,2);{var O=A=>{var W=Gh(),L=v(W),M=v(L);{var I=Y=>{var X=Jh();b(Y,X)},T=Y=>{var X=Ne(),ue=ce(X);Xe(ue,17,s,ne=>ne.id,(ne,le)=>{var re=Qh(),ke=v(re),he=v(ke),Re=v(he,!0);d(he);var me=p(he,2);me.__click=()=>{var Qe;return(Qe=t.onPin)==null?void 0:Qe.call(t,a(le).id)},d(ke);var de=p(ke,2),ye=v(de,!0);d(de),d(re),D(()=>{N(Re,a(le).displayName),N(ye,a(le).text)}),b(ne,re)}),b(Y,X)};q(M,Y=>{s().length===0?Y(I):Y(T,!1)})}d(L),ks(L,Y=>l(i,Y),()=>a(i));var B=p(L,2),H=v(B);Ve(H),H.__keydown=m;var U=p(H,2);U.__click=h,d(B);var te=p(B,2);{var R=Y=>{var X=Kh(),ue=v(X,!0);d(X),D(()=>N(ue,a(c))),b(Y,X)};q(te,Y=>{a(c)&&Y(R)})}d(W),D(Y=>{yt(H,"placeholder",n()?"Say something...":"Chat disabled"),H.disabled=!n(),U.disabled=Y},[()=>!n()||!a(o).trim()]),rt(H,()=>a(o),Y=>l(o,Y)),b(A,W)};q(P,A=>{a(r)&&A(O)})}d(y),D(()=>{g=Ie(y,1,"chat-panel svelte-1csz7wk",null,g,{expanded:a(r),disabled:!n()}),N(\$,s().length),N(j,a(r)?"\\u25BC":"\\u25B2")}),b(e,y),Fe()}function ii(e,t){Ue(t,!0);let n=S(_e({queue:[],nowPlaying:null,currentEpoch:0})),s=S(""),r=S(""),o=S(_e({})),i=S(_e({})),c=S(null),u=S(null),f=S(null),h=S(0),m=S(null),y=S(_e([])),g=S(null),k=S(null),w=S(null),\$=S(!1),_=S(null),j=S("closed"),P=S(""),O=S(null),A=S(!1),W=S(0),L=S("idle"),M=S(""),I=420,T=Hs(),B=null,H=null,U=null,te=Ae(()=>a(n).queue.find(E=>E.name.toLowerCase()===a(s).toLowerCase())),R=Ae(()=>{var E;return((E=a(n).nowPlaying)==null?void 0:E.name.toLowerCase())===a(s).toLowerCase()}),Y=Ae(()=>a(te)?a(n).queue.findIndex(E=>E.id===a(te).id)+1:null),X=Ae(it),ue=Ae(()=>!!a(c)),ne=Ae(()=>{var E;return((E=a(m))==null?void 0:E.mode)??"karaoke"}),le=Ae(()=>{var E;return((E=a(m))==null?void 0:E.social)??_s}),re=Ae(()=>a(le).reactionsEnabled),ke=Ae(()=>a(le).booEnabled),he=Ae(()=>a(le).chatEnabled),Re=Ae(()=>a(k)&&(a(ne)==="jukebox"?a(ue)||a(s).trim().length>0:a(s).trim().length>0));sn(async()=>{var E;if(l(s,localStorage.getItem("karaoke_name")??"",!0),l(r,localStorage.getItem("karaoke_voter_id")??crypto.randomUUID(),!0),l(o,Id(localStorage.getItem("karaoke_votes"),{}),!0),l(i,Id(localStorage.getItem("karaoke_verified"),{}),!0),localStorage.setItem("karaoke_voter_id",a(r)),T.onState(me),T.onRemoved(C=>Ss.handleRemoved(C)),T.onEnergySkip(()=>Ss.handleEnergySkip()),T.onChat(C=>{l(y,[...a(y),C].slice(-100),!0)}),T.onConfigUpdated(C=>{var F;let G=(F=a(m))==null?void 0:F.mode;l(m,C,!0),G&&C.mode!==G&&ae.info(\`Room switched to \${C.mode==="jukebox"?"Jukebox":"Karaoke"} mode\`)}),T.connect("user"),Ss.setIdentity(a(s),(E=a(c))==null?void 0:E.userId),typeof window<"u"&&!window.YT){let C=document.createElement("script");C.src="https://www.youtube.com/iframe_api",document.head.appendChild(C)}l(m,await Ho(),!0)}),zs(()=>{T.disconnect()});function me(E){var C,F;let G=a(s).toLowerCase(),ee=E.queue.find(se=>se.name.toLowerCase()===G),Q=ee?E.queue.findIndex(se=>se.id===ee.id)+1:null,pe=B?.name.toLowerCase()===G,oe=((C=E.nowPlaying)==null?void 0:C.name.toLowerCase())===G;if(pe&&!oe&&a(s)&&!Ss.consumeEnergySkipFlag()){let se=U?.votes??0,Se=se>0?\`+\${se}\`:se===0?"0":\`\${se}\`;a(i)[G]===!0?ae.success(\`You got \${Se} votes! Add another?\`):(ae.success(\`Nice! You got \${Se} votes\`),setTimeout(()=>{l(P,a(s),!0),l(j,"claim")},1500)),l(W,se,!0),l(A,!0),setTimeout(()=>l(A,!1),4e3)}H!==null&&Q!==null&&H!==Q&&(Q<H?ae.success(\`You moved up! Now #\${Q}\`):Q>H&&ae.info(\`Slipped to #\${Q}\`)),Q!==null&&(Q===2&&(H===null||H>2)?ae.info("2 songs until you're up!"):Q===1&&(H===null||H>1)&&ae.success("You're next! Get ready! \\u{1F3A4}")),!pe&&oe&&(ae.success("You're up! Time to shine! \\u2728"),Fr()),B=E.nowPlaying,H=Q,U=ee??null,l(n,E,!0),Ss.setIdentity(a(s),(F=a(c))==null?void 0:F.userId),Ss.trackState(E)}function de(E){let C=E.target;l(s,C.value,!0),localStorage.setItem("karaoke_name",a(s))}function ye(E){l(g,E,!0);let C=\`https://www.youtube.com/watch?v=\${E.id}\`;Be(C,E.title)}function Qe(E,C){l(g,{id:E,title:C,channel:"Popular in this room",duration:"",durationSeconds:0,thumbnail:\`https://i.ytimg.com/vi/\${E}/mqdefault.jpg\`,source:"youtube",playable:!0},!0);let F=\`https://www.youtube.com/watch?v=\${E}\`;Be(F,C)}async function Be(E,C){l(L,"checking"),l(M,"Checking video...");let F=Js(E);if(!F){l(L,"invalid"),l(M,"Invalid YouTube URL"),l(k,null),l(w,null);return}typeof window<"u"&&window.YT?await Oe(F,E,C):(l(L,"valid"),l(M,"Ready to add!"),l(k,E,!0),l(w,C??"Unknown Song",!0))}function Oe(E,C,F){return new Promise(G=>{let ee=document.getElementById("validationPlayer");if(!ee){l(L,"valid"),l(k,C,!0),l(w,F??"Unknown Song",!0),G();return}ee.innerHTML='<div id="ytPlayer"></div>',new window.YT.Player("ytPlayer",{height:"1",width:"1",videoId:E,playerVars:{autoplay:0,controls:0},events:{onReady:Q=>{let pe=Q.target.getDuration(),oe=Q.target.getVideoData();if(pe===0){l(L,"invalid"),l(M,"Livestreams not allowed"),l(k,null),G();return}if(pe>I){let se=Math.floor(pe/60),Se=Math.round(pe%60);l(L,"invalid"),l(M,\`Too long (\${se}:\${Se.toString().padStart(2,"0")}) - max 7 minutes\`),l(k,null),G();return}l(k,C,!0),l(w,F??oe.title??"Unknown Song",!0),l(L,"valid"),l(M,"Ready to add!"),G()},onError:()=>{l(L,"invalid"),l(M,"Video not found or unavailable"),l(k,null),G()}}}),setTimeout(()=>{a(L)==="checking"&&(l(L,"invalid"),l(M,"Could not load video"),l(k,null),G())},1e4)})}async function Ee(){var E,C;if(!a(k)||!a(w))return;let F=Js(a(k));if(!F){l(_,"Invalid video URL");return}if(l(\$,!0),l(_,null),a(ne)==="jukebox"){if(!a(ue)){if(!a(s).trim()){l(_,"Enter your name to continue"),l(\$,!1);return}let pe=await bl(a(s).trim());if(pe.kind!=="created"){l(_,pe.kind==="error"?pe.message:"Could not create session",!0),l(\$,!1);return}Qn(pe.session,null),l(h,a(h)+1)}let Q=await _d(F,a(w));switch(l(\$,!1),Q.kind){case"addedToQueue":ae.success(\`Added to queue at #\${Q.queuePosition}!\`),Fr(),We(),(E=a(f))==null||E.refresh();break;case"added":ae.success(\`Added to your stack (#\${Q.stackPosition} waiting)\`),Fr(),We(),(C=a(f))==null||C.refresh();break;case"stackFull":l(_,\`Stack is full (max \${Q.maxSize} songs)\`);break;case"unauthenticated":l(_,"Please sign in to add songs");break;case"error":oi(),l(_,Q.message,!0);break}return}if(!a(s).trim()){l(_,"Enter your name"),l(\$,!1);return}let G=a(i)[a(s).toLowerCase()]===!0,ee=await Qs({name:a(s).trim(),videoId:F,title:a(w),verified:G});switch(l(\$,!1),ee.kind){case"joined":ae.success(\`You're #\${ee.position} in the queue!\`),Fr(),We();break;case"requiresPin":l(O,{name:a(s).trim(),url:a(k),title:a(w)},!0),l(P,a(s).trim(),!0),l(j,"verify");break;case"alreadyInQueue":l(_,\`\${ee.name} is already in the queue\`);break;case"invalidVideo":l(_,ee.reason,!0);break;case"error":oi(),l(_,ee.message,!0);break}}function We(){l(g,null),l(k,null),l(w,null),l(L,"idle"),l(M,""),l(_,null)}async function xt(E,C){let F=a(o)[E]??0,G=C-F;if(C===0){let{[E]:Q,...pe}=a(o);l(o,pe,!0),ri()}else l(o,{...a(o),[E]:C},!0),ri();localStorage.setItem("karaoke_votes",JSON.stringify(a(o))),l(n,{...a(n),queue:a(n).queue.map(Q=>Q.id===E?{...Q,votes:Q.votes+G}:Q)},!0);let ee=await dd(E,C,a(r));if(ee.kind!=="voted"){if(F===0){let{[E]:pe,...oe}=a(o);l(o,oe,!0)}else l(o,{...a(o),[E]:F},!0);localStorage.setItem("karaoke_votes",JSON.stringify(a(o)));let Q=ee.kind==="error"?ee.message:"Vote failed";ae.error(Q)}}async function Ze(E){if(!confirm("Remove your song from the queue?"))return;let C=await vd(E,a(s));if(C.kind!=="removed"){let F=C.kind==="error"?C.message:C.kind==="entryNotFound"?"Song not found":C.kind==="unauthorized"?"Not authorized":"Failed to remove";ae.error(F)}}async function V(){if(!confirm("Skip your song?"))return;let E=await fd(a(s));if(E.kind==="skipped")ae.success("Song skipped");else{let C=E.kind==="error"?E.message:E.kind==="nothingPlaying"?"Nothing is playing":E.kind==="unauthorized"?"Not authorized":"Failed to skip";ae.error(C)}}function ie(){l(i,{...a(i),[a(P).toLowerCase()]:!0},!0),localStorage.setItem("karaoke_verified",JSON.stringify(a(i))),a(j)==="verify"&&a(O)?(l(k,a(O).url,!0),l(w,a(O).title,!0),l(s,a(O).name,!0),l(O,null),l(j,"closed"),Ee()):(ae.success("Your name is locked in!"),l(j,"closed"))}function \$e(){l(j,"closed"),l(O,null)}function kt(){var E;l(j,"closed"),l(O,null),l(s,""),(E=document.getElementById("nameInput"))==null||E.focus()}function Qn(E,C){l(c,E,!0),l(u,C,!0),E&&l(s,E.displayName,!0),Ss.setIdentity(a(s),E?.userId)}function ft(E){T.send({kind:"reaction",emoji:E})}function It(E){T.send({kind:"chat",text:E})}function Jt(E){T.send({kind:"pinChat",messageId:E})}var Cn=dm(),kn=ce(Cn),jn=v(kn),wn=v(jn),Tn=p(v(wn),2);Vo(Tn,()=>a(h),E=>{jh(E,{onSessionChange:Qn})}),d(wn);var en=p(wn,4),ka=v(en);{var Kn=E=>{var C=Zh();let F;var G=v(C,!0);d(C),D(()=>{F=Ie(C,1,"mode-badge svelte-1y2kg8x",null,F,{jukebox:a(ne)==="jukebox",karaoke:a(ne)==="karaoke"}),N(G,a(ne)==="jukebox"?"\\u{1F3B5} Jukebox":"\\u{1F3A4} Karaoke")}),b(E,C)};q(ka,E=>{a(m)&&E(Kn)})}var wa=p(ka,2);d(en),d(jn);var Pt=p(jn,2);{var Nt=E=>{ld(E,{get entry(){return a(n).nowPlaying},get canSkip(){return a(R)},onSkip:V})};q(Pt,E=>{a(n).nowPlaying&&E(Nt)})}var cn=p(Pt,2);{var Wa=E=>{var C=em();b(E,C)},Va=E=>{var C=Ne(),F=ce(C);{var G=ee=>{var Q=tm();b(ee,Q)};q(F,ee=>{a(Y)===2&&ee(G)},!0)}b(E,C)};q(cn,E=>{a(Y)===1&&!a(R)?E(Wa):E(Va,!1)})}var Gn=p(cn,2);{var Hn=E=>{var C=nm(),F=v(C),G=p(v(F),2),ee=v(G);d(G),d(F);var Q=p(F,2),pe=v(Q,!0);d(Q);var oe=p(Q,2);oe.__click=()=>Ze(a(te).id),d(C),D(se=>{N(ee,\`#\${se??""} in queue\`),N(pe,a(te).title)},[()=>a(n).queue.findIndex(se=>se.id===a(te).id)+1]),b(E,C)};q(Gn,E=>{a(te)&&E(Hn)})}var ba=p(Gn,2);{var Ba=E=>{var C=am(),F=p(v(C),2),G=v(F,!0);d(F);var ee=p(F,2);ee.__click=V,d(C),D(()=>{var Q;return N(G,(Q=a(n).nowPlaying)==null?void 0:Q.title)}),b(E,C)};q(ba,E=>{a(R)&&E(Ba)})}var _a=p(ba,2),xs=v(_a);{var Sa=E=>{var C=sm(),F=v(C),G=v(F,!0);d(F);var ee=p(F,2);Ve(ee),ee.__input=de,d(C),D(()=>{N(G,a(ne)==="jukebox"?"Your name (needed for stack)":"Your name"),Ua(ee,a(s))}),b(E,C)};q(xs,E=>{(a(ne)==="karaoke"||a(ne)==="jukebox"&&!a(ue))&&E(Sa)})}var Xn=p(xs,2),xa=p(v(Xn),2);Pd(xa,{maxDuration:I,onSelect:ye});var Ya=p(xa,2);{var Ps=E=>{oh(E,{onSelect:Qe})};q(Ya,E=>{a(g)||E(Ps)})}var Pa=p(Ya,2);{var Ea=E=>{var C=rm(),F=v(C),G=v(F,!0);d(F);var ee=p(F,2),Q=v(ee);d(ee),d(C),D(()=>{N(G,a(g).title),N(Q,\`\${a(g).channel??""} \\xB7 \${a(g).duration??""}\`)}),b(E,C)};q(Pa,E=>{a(g)&&E(Ea)})}var Es=p(Pa,2);{var Zn=E=>{var C=im(),F=v(C);{var G=Q=>{var pe=om();b(Q,pe)};q(F,Q=>{a(L)==="checking"&&Q(G)})}var ee=p(F);d(C),D(()=>{Ie(C,1,\`validation-status \${a(L)??""}\`,"svelte-1y2kg8x"),N(ee,\` \${a(M)??""}\`)}),b(E,C)};q(Es,E=>{a(L)!=="idle"&&E(Zn)})}d(Xn);var ea=p(Xn,2);ea.__click=Ee;var Xs=v(ea,!0);d(ea);var Zs=p(ea,2);{var Is=E=>{var C=lm(),F=v(C,!0);d(C),D(()=>N(F,a(_))),b(E,C)};q(Zs,E=>{a(_)&&E(Is)})}d(_a);var z=p(_a,2);Xh(z,{get enabled(){return a(he)},get messages(){return a(y)},onSend:It,onPin:Jt});var J=p(z,2);ah(J,{get entries(){return a(n).queue},get myName(){return a(s)},get myVotes(){return a(o)},onVote:xt,onRemove:Ze});var ge=p(J,2);{var we=E=>{var C=cm(),F=v(C);ks(Dh(F,{}),G=>l(f,G,!0),()=>a(f)),d(C),b(E,C)};q(ge,E=>{a(ue)&&E(we)})}d(kn);var et=p(kn,4);Yh(et,{get enabled(){return a(re)},get booEnabled(){return a(ke)},onReact:ft});var K=p(et,2);Ed(K,{get mode(){return a(j)},get name(){return a(P)},onSuccess:ie,onClose:\$e,onChangeName:kt});var fe=p(K,2);{var qe=E=>{var C=um();C.__click=()=>l(A,!1);var F=v(C),G=p(v(F),2),ee=v(G);d(G),dt(4),d(F),d(C),D(()=>N(ee,\`\${a(W)>0?"+":""}\${a(W)??""}\`)),b(E,C)};q(fe,E=>{a(A)&&E(qe)})}var Ce=p(fe,2);yh(Ce),D(()=>{yt(wa,"href",\`/\${a(X)??""}/player\`),ea.disabled=!a(Re)||a(\$),N(Xs,a(ne)==="jukebox"?"Add to Stack":"Add to Queue")}),b(e,Cn),Fe()}var Zp,eh,th,nh,El,sh,rh,_l,Sl,\$d,xl,Pl,Ss,vh,fh,ph,mh,gh,kh,wh,bh,_h,Sh,xh,Ph,Eh,Ih,\$h,Ch,Th,Nh,Rh,Oh,zh,qh,Ah,Lh,Mh,Uh,Fh,Wh,Vh,Bh,Jh,Qh,Kh,Gh,Hh,Zh,em,tm,nm,am,sm,rm,om,im,lm,cm,um,dm,Il=De(()=>{"use strict";At();qs();st();ys();yl();Ys();Bs();vl();kl();In();bs();si();Ar();Zp=x('<div class="empty-state svelte-a7cxk7"><div class="empty-icon svelte-a7cxk7">\\u{1F3A4}</div> <h3 class="svelte-a7cxk7">The stage is silent...</h3> <p class="svelte-a7cxk7">Be the hero this party needs!</p> <div class="arrow svelte-a7cxk7">\\u2193</div></div>'),eh=x('<div class="svelte-a7cxk7"><!></div>'),th=x('<ul class="queue-list svelte-a7cxk7"></ul>'),nh=x('<div class="queue-section svelte-a7cxk7"><div class="section-header svelte-a7cxk7"><span class="section-title svelte-a7cxk7">Up Next</span> <span class="queue-count svelte-a7cxk7"> </span></div> <!></div>');El=typeof navigator<"u"&&typeof navigator.vibrate=="function";sh=x('<button class="popular-item svelte-m2a9xz"><div class="popular-thumb-wrapper svelte-m2a9xz"><img class="popular-thumb svelte-m2a9xz" alt="" loading="lazy"/> <span class="play-count svelte-m2a9xz"> </span></div> <div class="popular-info svelte-m2a9xz"><div class="popular-song-title svelte-m2a9xz"> </div></div></button>'),rh=x('<div class="popular-section svelte-m2a9xz"><h3 class="popular-title svelte-m2a9xz">Popular in this room</h3> <div class="popular-grid svelte-m2a9xz"></div></div>');gt(["click"]);_l=S(""),Sl=S(null),\$d=S(_e([])),xl=S(null),Pl=S(!1);Ss={setIdentity:ih,handleRemoved:lh,handleEnergySkip:ch,consumeEnergySkipFlag:uh,trackState:dh},vh=x('<button><span class="cat-icon svelte-4vowdw"> </span> <span class="cat-label"> </span></button>'),fh=x('<div class="error-msg svelte-4vowdw"> </div>'),ph=x(\`<div class="overlay svelte-4vowdw" role="presentation"><div class="modal svelte-4vowdw" role="dialog" aria-modal="true" tabindex="-1"><button class="close-btn svelte-4vowdw" aria-label="Close">x</button> <h2 class="svelte-4vowdw">Send Feedback</h2> <div class="category-row svelte-4vowdw"></div> <textarea placeholder="What's on your mind?" maxlength="2000" rows="5" class="svelte-4vowdw"></textarea> <input type="text" placeholder="Brief title (optional)" maxlength="100" class="svelte-4vowdw"/> <!> <button class="btn svelte-4vowdw"> </button></div></div>\`);gt(["click","keydown"]);mh=x(\`<div class="overlay svelte-8t29c9" role="presentation"><div class="modal svelte-8t29c9" role="dialog" aria-modal="true" tabindex="-1"><button class="close-btn svelte-8t29c9" aria-label="Close">\\xD7</button> <h2 class="svelte-8t29c9">How It Works</h2> <div class="steps svelte-8t29c9"><div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">1</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Enter your name</strong> <p class="svelte-8t29c9">This is how you'll appear on the big screen</p></div></div> <div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">2</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Search for a song</strong> <p class="svelte-8t29c9">Find your karaoke jam (max 7 minutes)</p></div></div> <div class="step svelte-8t29c9"><span class="step-num svelte-8t29c9">3</span> <div class="step-content svelte-8t29c9"><strong class="svelte-8t29c9">Join the queue</strong> <p class="svelte-8t29c9">You'll see your position and when you're up</p></div></div></div> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Fair Queue System</h3> <p class="info svelte-8t29c9">First-timers and people who've been waiting longer get priority.
        After you sing, you move to the back \\u2014 so everyone gets a turn!</p> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Voting</h3> <p class="info svelte-8t29c9">Upvote songs you want to hear sooner. Downvote to push them back.
        Votes only affect order within the same priority tier.</p> <div class="divider svelte-8t29c9"></div> <h3 class="svelte-8t29c9">Claim Your Name</h3> <p class="info svelte-8t29c9">After your first song, you can lock your name with a 6-digit PIN.
        This prevents others from using your stage name.</p> <div class="divider svelte-8t29c9"></div> <button class="feedback-link svelte-8t29c9">Send Feedback</button></div></div>\`),gh=x('<button class="help-btn svelte-8t29c9" aria-label="Help">?</button> <!> <!>',1);gt(["click","keydown"]);kh=x('<div class="loading-skeleton svelte-r761lh"></div>'),wh=x('<img alt="" class="avatar svelte-r761lh"/>'),bh=x('<div class="avatar-placeholder svelte-r761lh"> </div>'),_h=x('<span class="email svelte-r761lh"> </span>'),Sh=x('<button class="menu-item svelte-r761lh"><svg viewBox="0 0 24 24" class="google-icon svelte-r761lh"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" class="svelte-r761lh"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" class="svelte-r761lh"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" class="svelte-r761lh"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" class="svelte-r761lh"></path></svg> Sign in with Google</button>'),xh=x('<div class="dropdown-menu svelte-r761lh"><div class="menu-header svelte-r761lh"><span class="provider-badge svelte-r761lh"> </span> <!></div> <!> <button class="menu-item logout svelte-r761lh">Sign Out</button></div>'),Ph=x('<button class="user-button svelte-r761lh"><!> <span class="display-name svelte-r761lh"> </span> <span class="dropdown-arrow svelte-r761lh"> </span></button> <!>',1),Eh=x('<div class="name-input-container svelte-r761lh"><input type="text" placeholder="Your name" maxlength="30" class="name-input svelte-r761lh"/> <button class="go-btn svelte-r761lh">Go</button></div>'),Ih=x('<button class="login-btn google svelte-r761lh"><svg viewBox="0 0 24 24" class="google-icon svelte-r761lh"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" class="svelte-r761lh"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" class="svelte-r761lh"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" class="svelte-r761lh"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" class="svelte-r761lh"></path></svg> Sign in</button> <button class="login-btn guest svelte-r761lh">Continue as Guest</button>',1),\$h=x('<div class="login-options svelte-r761lh"><!></div>'),Ch=x('<div class="login-container svelte-r761lh"><!></div>');gt(["click","keydown"]);Th=x('<span class="count svelte-owkba6"> </span>'),Nh=x('<div class="loading svelte-owkba6">Loading...</div>'),Rh=x('<div class="error svelte-owkba6"> </div>'),Oh=x('<div class="in-queue-card svelte-owkba6"><div class="status-badge svelte-owkba6">In Queue</div> <div class="song-info svelte-owkba6"><span class="title svelte-owkba6"> </span> <span class="votes svelte-owkba6"> </span></div></div>'),zh=x(\`<p class="svelte-owkba6">Add more songs - they'll play after your current one!</p>\`),qh=x('<p class="svelte-owkba6">Search and add songs to build your queue</p>'),Ah=x('<div class="empty-state svelte-owkba6"><!></div>'),Lh=x('<div draggable="true" role="listitem"><span class="drag-handle svelte-owkba6">\\u22EE\\u22EE</span> <div class="song-details svelte-owkba6"><span class="position svelte-owkba6"></span> <span class="title svelte-owkba6"> </span></div> <button class="remove-btn svelte-owkba6" aria-label="Remove from stack">\\xD7</button></div>'),Mh=x('<div class="stack-list svelte-owkba6"></div> <p class="stack-hint svelte-owkba6">Drag to reorder. Your next song will join the main queue when your current song finishes.</p>',1),Uh=x("<!> <!>",1),Fh=x('<div class="my-stack svelte-owkba6"><h3 class="section-title svelte-owkba6">My Queue <!></h3> <!></div>');gt(["click"]);Wh=x('<button><span class="emoji svelte-sl8bo3"> </span></button>'),Vh=x('<div class="rate-limit svelte-sl8bo3"> </div>'),Bh=x('<div><div class="reaction-row svelte-sl8bo3"></div> <!></div>');gt(["click"]);Jh=x('<div class="chat-empty svelte-1csz7wk">No messages yet</div>'),Qh=x('<div class="chat-message svelte-1csz7wk"><div class="chat-meta svelte-1csz7wk"><span class="chat-name svelte-1csz7wk"> </span> <button class="pin-btn svelte-1csz7wk" title="Pin message">Pin</button></div> <div class="chat-text svelte-1csz7wk"> </div></div>'),Kh=x('<div class="chat-rate-limit svelte-1csz7wk"> </div>'),Gh=x('<div class="chat-body svelte-1csz7wk"><div class="chat-messages svelte-1csz7wk"><!></div> <div class="chat-input-row svelte-1csz7wk"><input type="text" class="chat-input svelte-1csz7wk"/> <button class="chat-send svelte-1csz7wk">Send</button></div> <!></div>'),Hh=x('<div><button class="chat-header svelte-1csz7wk"><span class="chat-title svelte-1csz7wk">Chat</span> <span class="chat-count svelte-1csz7wk"> </span> <span class="chat-toggle svelte-1csz7wk"> </span></button> <!></div>');gt(["click","keydown"]);Zh=x("<span> </span>"),em=x(\`<div class="on-deck-banner on-deck-next svelte-1y2kg8x"><div class="deck-icon svelte-1y2kg8x">\\u{1F399}\\uFE0F</div> <div class="deck-text svelte-1y2kg8x"><strong class="svelte-1y2kg8x">You're up next!</strong><br/> Get ready to take the mic!</div></div>\`),tm=x('<div class="on-deck-banner on-deck-soon svelte-1y2kg8x"><div class="deck-icon svelte-1y2kg8x">\\u{1F440}</div> <div class="deck-text svelte-1y2kg8x"><strong class="svelte-1y2kg8x">On deck</strong><br/> One song until your turn</div></div>'),nm=x('<div class="my-song-card svelte-1y2kg8x"><div class="my-song-header svelte-1y2kg8x"><span class="my-song-label svelte-1y2kg8x">Your song</span> <span class="my-song-position svelte-1y2kg8x"> </span></div> <div class="my-song-title svelte-1y2kg8x"> </div> <button class="btn btn-change svelte-1y2kg8x">Change Song</button></div>'),am=x(\`<div class="my-turn-card svelte-1y2kg8x"><div class="my-turn-label svelte-1y2kg8x">You're up!</div> <div class="my-turn-song svelte-1y2kg8x"> </div> <button class="btn btn-warning">Skip My Song</button></div>\`),sm=x('<div class="input-group svelte-1y2kg8x"><label class="input-label svelte-1y2kg8x" for="nameInput"> </label> <input type="text" id="nameInput" placeholder="Enter your name" maxlength="30" autocomplete="off"/></div>'),rm=x('<div class="selected-song svelte-1y2kg8x"><div class="selected-song-title svelte-1y2kg8x"> </div> <div class="selected-song-meta svelte-1y2kg8x"> </div></div>'),om=x('<div class="validation-spinner svelte-1y2kg8x"></div>'),im=x("<div><!> </div>"),lm=x('<div class="error-msg svelte-1y2kg8x"> </div>'),cm=x('<div class="my-stack-section svelte-1y2kg8x"><!></div>'),um=x('<div class="recap-overlay svelte-1y2kg8x"><div class="recap-content svelte-1y2kg8x"><div class="recap-applause svelte-1y2kg8x">\\u{1F44F} APPLAUSE! \\u{1F44F}</div> <div class="recap-votes svelte-1y2kg8x"> </div> <div class="recap-label svelte-1y2kg8x">VOTES RECEIVED</div> <div class="recap-dismiss svelte-1y2kg8x">tap to dismiss</div></div></div>'),dm=x('<div class="container svelte-1y2kg8x"><header class="svelte-1y2kg8x"><div class="header-top svelte-1y2kg8x"><h1 class="svelte-1y2kg8x">Karaoke</h1> <!></div> <p class="subtitle svelte-1y2kg8x">Pick a song, join the queue, sing your heart out</p> <div class="header-actions svelte-1y2kg8x"><!> <a target="_blank" rel="noopener" class="player-link svelte-1y2kg8x">Open Player</a></div></header> <!> <!> <!> <!> <div class="join-card svelte-1y2kg8x"><!> <div class="input-group svelte-1y2kg8x"><span class="input-label svelte-1y2kg8x">Add a song</span> <!> <!> <!> <!></div> <button class="btn"> </button> <!></div> <!> <!> <!></div> <div id="validationPlayer" style="display: none;"></div> <!> <!> <!> <!>',1);gt(["click","input"])});var jd={};Rn(jd,{component:()=>pm,universal:()=>fm});function pm(e){ii(e,{})}var vm,fm,Td=De(()=>{"use strict";At();In();Il();vm=!1,fm=Object.freeze(Object.defineProperty({__proto__:null,prerender:vm},Symbol.toStringTag,{value:"Module"}))});function li(e,t){Ue(t,!0);let n=S(!1),s=S(!1),r=S(""),o=S(""),i=S(!1),c=S(""),u=S(_e({queue:[],nowPlaying:null,currentEpoch:0})),f=S(null),h=S(!1),m=S(_e({..._s})),y=S(!1),g=S(""),k=S(""),w=S(""),\$=S(""),_=S(_e([])),j=S(!1),P=S(null),O=S(!1),A=S("singer"),W=S(""),L=S(null),M=S(_e([])),I=S(!1),T=Hs(),B=null;sn(()=>{l(c,it(),!0),Ur()?(l(n,!0),l(s,!0),U()):H()}),zs(()=>{T.disconnect(),B&&clearInterval(B)}),vt(()=>{a(f)&&l(m,{..._s,...a(f).social??{}},!0)});async function H(){try{(await(await fetch(\`/api/room/check?room=\${encodeURIComponent(a(c))}\`)).json()).kind==="notFound"?(l(n,!0),U()):l(n,!1)}catch{l(n,!1)}l(s,!0)}async function U(){T.onState(V=>{l(u,V,!0),B&&(clearInterval(B),B=null)}),T.onConfigUpdated(V=>{l(f,V,!0),l(m,{..._s,...V.social??{}},!0)}),T.connect("admin"),B=setInterval(async()=>{let V=await Go();V&&l(u,V,!0)},2e3),l(f,await Ho(),!0)}async function te(){if(a(r).length!==6){l(o,"PIN must be 6 digits");return}l(i,!0),l(o,"");let V=await Xo(a(r));l(i,!1),V.kind==="verified"?(Zo(V.token),l(n,!0),ae.success("Logged in as admin"),U()):V.kind==="invalidPin"?(l(o,"Incorrect PIN"),l(r,"")):V.kind==="roomNotFound"?l(o,"Room not found"):l(o,V.message||"Authentication failed",!0)}function R(){ei(),l(n,!1),T.disconnect(),B&&(clearInterval(B),B=null),l(r,""),l(u,{queue:[],nowPlaying:null,currentEpoch:0},!0)}function Y(V){V.key==="Enter"&&!a(i)&&te()}async function X(){let V=await ti();if(V.kind==="skipped")ae.success("Skipped!");else{let ie=V.kind==="error"?V.message:V.kind==="nothingPlaying"?"Nothing is playing":V.kind==="unauthorized"?"Session expired - please log in again":"Failed to skip";V.kind==="unauthorized"&&R(),ae.error(ie)}}async function ue(){if(!a(\$).trim()||a(j))return;l(j,!0),l(_,[],!0),l(P,null);let V=await Mr(a(\$).trim());if(l(j,!1),V.kind==="error"){ae.error(V.message);return}l(_,V.results,!0)}function ne(V){l(P,V.id,!0),l(k,\`https://www.youtube.com/watch?v=\${V.id}\`),l(w,V.title,!0)}async function le(){if(!a(g).trim()||!a(k).trim()){ae.error("Name and URL required");return}let V=Js(a(k).trim());if(!V){ae.error("Invalid YouTube URL");return}let ie=await ai({name:a(g).trim(),videoId:V,title:a(w).trim()||"Added by admin"});if(ie.kind==="joined")ae.success("Added to front of queue!"),l(g,""),l(k,""),l(w,""),l(\$,""),l(_,[],!0),l(P,null);else{let \$e=ie.kind==="error"?ie.message:ie.kind==="invalidVideo"?ie.reason:"Failed to add";ae.error(\$e)}}async function re(){if(!a(g).trim()||!a(k).trim()){ae.error("Name and URL required");return}let V=Js(a(k).trim());if(!V){ae.error("Invalid YouTube URL");return}let ie=await Qs({name:a(g).trim(),videoId:V,title:a(w).trim()||"Added by admin",verified:!0});if(ie.kind==="joined")ae.success("Added to queue!"),l(g,""),l(k,""),l(w,""),l(\$,""),l(_,[],!0),l(P,null);else{let \$e=ie.kind==="error"?ie.message:ie.kind==="invalidVideo"?ie.reason:"Failed to add";ae.error(\$e)}}async function ke(V){if(!confirm("Remove this entry?"))return;let ie=await ni(V);if(ie.kind!=="removed"){let \$e=ie.kind==="error"?ie.message:ie.kind==="entryNotFound"?"Entry not found":ie.kind==="unauthorized"?"Session expired - please log in again":"Failed to remove";ie.kind==="unauthorized"&&R(),ae.error(\$e)}}async function he(V){let ie=a(u).queue.findIndex(kt=>kt.id===V);if(ie<=0)return;let \$e=await Gs(V,ie-1);if(\$e.kind!=="reordered"){let kt=\$e.kind==="error"?\$e.message:"Failed to move";ae.error(kt)}}async function Re(V){let ie=a(u).queue.findIndex(kt=>kt.id===V);if(ie===-1||ie>=a(u).queue.length-1)return;let \$e=await Gs(V,ie+1);if(\$e.kind!=="reordered"){let kt=\$e.kind==="error"?\$e.message:"Failed to move";ae.error(kt)}}async function me(){if(!a(f)||a(h))return;let V=a(f).mode==="jukebox"?"karaoke":"jukebox";if(!confirm(V==="jukebox"?"Switch to Jukebox Mode? Queue will re-sort by votes only.":"Switch to Karaoke Mode? Queue will re-sort by epochs."))return;l(h,!0);let ie=await hd(V);if(l(h,!1),ie.kind==="updated")l(f,ie.config,!0),ae.success(\`Switched to \${V==="jukebox"?"Jukebox":"Karaoke"} Mode\`);else if(ie.kind==="unauthorized")ae.error("Session expired - please log in again"),R();else{let \$e=ie.kind==="error"?ie.message:"Failed to change mode";ae.error(\$e)}}async function de(V){if(!a(f)||a(y))return;let ie=a(m);l(m,{...a(m),...V},!0),l(y,!0);let \$e=await md(V);if(l(y,!1),\$e.kind==="updated")l(f,\$e.config,!0),l(m,{..._s,...\$e.config.social??{}},!0);else if(\$e.kind==="unauthorized")ae.error("Session expired - please log in again"),R(),l(m,ie,!0);else{let kt=\$e.kind==="error"?\$e.message:"Failed to update social settings";ae.error(kt),l(m,ie,!0)}}function ye(){l(O,!a(O))}function Qe(V){l(A,V,!0),V==="popular"&&!a(I)&&Oe()}async function Be(){if(a(W).trim())try{let V=await fetch(\`/api/history/\${encodeURIComponent(a(W).trim())}?room=\${encodeURIComponent(a(c))}\`),ie=await V.json();V.ok?l(L,ie,!0):l(L,{error:ie.error??"Not found"},!0)}catch{l(L,{error:"Lookup failed"},!0)}}async function Oe(){try{let V=await fetch(\`/api/songs/popular?limit=20&room=\${encodeURIComponent(a(c))}\`),ie=await V.json();V.ok&&ie.songs&&(l(M,ie.songs,!0),l(I,!0))}catch{l(M,[],!0)}}var Ee=Ne(),We=ce(Ee);{var xt=V=>{var ie=hm();b(V,ie)},Ze=V=>{var ie=Ne(),\$e=ce(ie);{var kt=ft=>{var It=ym(),Jt=v(It),Cn=p(v(Jt),2);{var kn=Pt=>{var Nt=mm(),cn=v(Nt);d(Nt),D(()=>N(cn,\`Room: \${a(c)??""}\`)),b(Pt,Nt)};q(Cn,Pt=>{a(c)!=="default"&&Pt(kn)})}d(Jt);var jn=p(Jt,2),wn=v(jn),Tn=p(v(wn),2);Ve(Tn),Tn.__keydown=Y,d(wn);var en=p(wn,2);en.__click=te;var ka=v(en,!0);d(en);var Kn=p(en,2);{var wa=Pt=>{var Nt=gm(),cn=v(Nt,!0);d(Nt),D(()=>N(cn,a(o))),b(Pt,Nt)};q(Kn,Pt=>{a(o)&&Pt(wa)})}d(jn),d(It),D(()=>{Tn.disabled=a(i),en.disabled=a(i)||a(r).length!==6,N(ka,a(i)?"Verifying...":"Login")}),rt(Tn,()=>a(r),Pt=>l(r,Pt)),b(ft,It)},Qn=ft=>{var It=Fm(),Jt=v(It),Cn=p(v(Jt),2),kn=v(Cn);{var jn=K=>{var fe=zr();D(()=>N(fe,\`Room: \${a(c)??""}\`)),b(K,fe)},wn=K=>{var fe=zr("Manage the karaoke queue");b(K,fe)};q(kn,K=>{a(c)!=="default"?K(jn):K(wn,!1)})}d(Cn);var Tn=p(Cn,2);Tn.__click=R,d(Jt);var en=p(Jt,2);{var ka=K=>{var fe=km(),qe=ce(fe),Ce=v(qe),E=p(v(Ce),2);let C;var F=v(E,!0);d(E),d(Ce);var G=p(Ce,2);G.__click=me;var ee=v(G,!0);d(G),d(qe);var Q=p(qe,2),pe=p(v(Q),2),oe=v(pe),se=p(v(oe),2);let Se;se.__click=()=>de({reactionsEnabled:!a(m).reactionsEnabled});var je=v(se,!0);d(se),d(oe);var Me=p(oe,2),Ye=p(v(Me),2);let Ke;Ye.__click=()=>de({booEnabled:!a(m).booEnabled});var wt=v(Ye,!0);d(Ye),d(Me);var pt=p(Me,2),tt=p(v(pt),2);let nt;tt.__click=()=>de({chatEnabled:!a(m).chatEnabled});var ht=v(tt,!0);d(tt),d(pt);var lt=p(pt,2),at=p(v(lt),2);let ct;at.__click=()=>de({energySkipEnabled:!a(m).energySkipEnabled});var tn=v(at,!0);d(at),d(lt);var Lt=p(lt,2),Rt=p(v(Lt),2);Ve(Rt),Rt.__change=er=>de({energySkipThreshold:Number(er.target.value)});var Ia=p(Rt,2),\$a=v(Ia,!0);d(Ia),d(Lt);var ta=p(Lt,2),na=p(v(ta),2);Ve(na),na.__change=er=>de({energySkipDuration:Number(er.target.value)});var aa=p(na,2),\$s=v(aa);d(aa),d(ta),d(pe),d(Q),D(()=>{C=Ie(E,1,"mode-badge svelte-ghvl9i",null,C,{jukebox:a(f).mode==="jukebox",karaoke:a(f).mode==="karaoke"}),N(F,a(f).mode==="jukebox"?"\\u{1F3B5} Jukebox":"\\u{1F3A4} Karaoke"),G.disabled=a(h),N(ee,a(h)?"Switching...":\`Switch to \${a(f).mode==="jukebox"?"Karaoke":"Jukebox"}\`),Se=Ie(se,1,"toggle-btn svelte-ghvl9i",null,Se,{active:a(m).reactionsEnabled}),se.disabled=a(y),N(je,a(m).reactionsEnabled?"On":"Off"),Ke=Ie(Ye,1,"toggle-btn svelte-ghvl9i",null,Ke,{active:a(m).booEnabled}),Ye.disabled=a(y)||!a(m).reactionsEnabled,N(wt,a(m).booEnabled?"On":"Off"),nt=Ie(tt,1,"toggle-btn svelte-ghvl9i",null,nt,{active:a(m).chatEnabled}),tt.disabled=a(y),N(ht,a(m).chatEnabled?"On":"Off"),ct=Ie(at,1,"toggle-btn svelte-ghvl9i",null,ct,{active:a(m).energySkipEnabled}),at.disabled=a(y),N(tn,a(m).energySkipEnabled?"On":"Off"),Ua(Rt,a(m).energySkipThreshold),Rt.disabled=a(y)||!a(m).energySkipEnabled,N(\$a,a(m).energySkipThreshold),Ua(na,a(m).energySkipDuration),na.disabled=a(y)||!a(m).energySkipEnabled,N(\$s,\`\${a(m).energySkipDuration??""}s\`)}),b(K,fe)};q(en,K=>{a(f)&&K(ka)})}var Kn=p(en,2),wa=v(Kn);{var Pt=K=>{var fe=wm(),qe=ce(fe),Ce=p(v(qe),2),E=v(Ce);d(Ce),d(qe);var C=p(qe,2),F=v(C),G=v(F,!0);d(F);var ee=p(F,2),Q=v(ee,!0);d(ee),d(C);var pe=p(C,2),oe=v(pe);oe.__click=X,d(pe),D(()=>{N(E,\`Epoch: \${a(u).currentEpoch??""}\`),N(G,a(u).nowPlaying.title),N(Q,a(u).nowPlaying.name)}),b(K,fe)},Nt=K=>{var fe=bm();b(K,fe)};q(wa,K=>{a(u).nowPlaying?K(Pt):K(Nt,!1)})}d(Kn);var cn=p(Kn,2),Wa=p(v(cn),2),Va=v(Wa);Ve(Va);var Gn=p(Va,2),Hn=v(Gn);Ve(Hn);var ba=p(Hn,2);ba.__click=ue,d(Gn);var Ba=p(Gn,2);{var _a=K=>{var fe=_m();b(K,fe)},xs=K=>{var fe=Ne(),qe=ce(fe);{var Ce=E=>{var C=xm();Xe(C,21,()=>a(_),F=>F.id,(F,G)=>{var ee=Sm();let Q;ee.__click=()=>ne(a(G));var pe=v(ee),oe=p(pe,2),se=v(oe),Se=v(se,!0);d(se);var je=p(se,2),Me=v(je);d(je),d(oe),d(ee),D(()=>{Q=Ie(ee,1,"search-result svelte-ghvl9i",null,Q,{selected:a(P)===a(G).id}),yt(pe,"src",a(G).thumbnail),N(Se,a(G).title),N(Me,\`\${a(G).channel??""} \\xB7 \${a(G).duration??""}\`)}),b(F,ee)}),d(C),b(E,C)};q(qe,E=>{a(_).length>0&&E(Ce)},!0)}b(K,fe)};q(Ba,K=>{a(j)?K(_a):K(xs,!1)})}var Sa=p(Ba,2);Ve(Sa);var Xn=p(Sa,2);Ve(Xn);var xa=p(Xn,2),Ya=v(xa);Ya.__click=re;var Ps=p(Ya,2);Ps.__click=le,d(xa),d(Wa),d(cn);var Pa=p(cn,2),Ea=v(Pa),Es=p(v(Ea),2),Zn=v(Es);d(Es),d(Ea);var ea=p(Ea,2);{var Xs=K=>{var fe=Pm();b(K,fe)},Zs=K=>{var fe=Cm();Xe(fe,23,()=>a(u).queue,qe=>qe.id,(qe,Ce,E)=>{var C=\$m(),F=v(C),G=v(F,!0);d(F);var ee=p(F,2),Q=v(ee),pe=v(Q,!0);d(Q);var oe=p(Q,2),se=v(oe),Se=v(se,!0);d(se);var je=p(se,2),Me=v(je);d(je);var Ye=p(je,2),Ke=v(Ye);d(Ye),d(oe),d(ee);var wt=p(ee,2),pt=v(wt);{var tt=at=>{var ct=Em();ct.__click=()=>he(a(Ce).id),b(at,ct)};q(pt,at=>{a(E)>0&&at(tt)})}var nt=p(pt,2);{var ht=at=>{var ct=Im();ct.__click=()=>Re(a(Ce).id),b(at,ct)};q(nt,at=>{a(E)<a(u).queue.length-1&&at(ht)})}var lt=p(nt,2);lt.__click=()=>ke(a(Ce).id),d(wt),d(C),D(()=>{N(G,a(E)+1),N(pe,a(Ce).title),N(Se,a(Ce).name),N(Me,\`Epoch: \${a(Ce).epoch??""}\`),N(Ke,\`Votes: \${a(Ce).votes??""}\`)}),b(qe,C)}),d(fe),b(K,fe)};q(ea,K=>{a(u).queue.length===0?K(Xs):K(Zs,!1)})}d(Pa);var Is=p(Pa,2),z=v(Is);z.__click=ye;var J=p(v(z),2);let ge;d(z);var we=p(z,2);{var et=K=>{var fe=Um(),qe=v(fe),Ce=v(qe);let E;Ce.__click=()=>Qe("singer");var C=p(Ce,2);let F;C.__click=()=>Qe("popular"),d(qe);var G=p(qe,2);{var ee=pe=>{var oe=qm(),se=ce(oe),Se=v(se);Ve(Se);var je=p(Se,2);je.__click=Be,d(se);var Me=p(se,2);{var Ye=Ke=>{var wt=Ne(),pt=ce(wt);{var tt=ht=>{var lt=jm(),at=v(lt,!0);d(lt),D(()=>N(at,a(L).error)),b(ht,lt)},nt=ht=>{var lt=Ne(),at=ce(lt);{var ct=Lt=>{var Rt=Tm();b(Lt,Rt)},tn=Lt=>{var Rt=zm(),Ia=ce(Rt),\$a=v(Ia),ta=v(\$a),na=v(ta,!0);d(ta),dt(),d(\$a);var aa=p(\$a,2),\$s=v(aa),er=v(\$s,!0);d(\$s),dt(),d(aa);var ui=p(aa,2),zl=v(ui),Qd=v(zl,!0);d(zl),dt(),d(ui);var Kd=p(ui,2);{var Gd=sa=>{var Nn=Nm();b(sa,Nn)};q(Kd,sa=>{a(L).claimed&&sa(Gd)})}d(Ia);var ql=p(Ia,2);Xe(ql,17,()=>a(L).performances.slice(0,10),ma,(sa,Nn)=>{var tr=Rm(),di=v(tr),Zd=v(di,!0);d(di);var Al=p(di,2),ev=v(Al);d(Al),d(tr),D(tv=>{N(Zd,a(Nn).title),N(ev,\`\${a(Nn).votes>0?"+":""}\${a(Nn).votes??""} votes \\xB7 \${tv??""}\`)},[()=>new Date(a(Nn).performedAt).toLocaleDateString()]),b(sa,tr)});var Hd=p(ql,2);{var Xd=sa=>{var Nn=Om(),tr=v(Nn);d(Nn),D(()=>N(tr,\`...and \${a(L).performances.length-10} more\`)),b(sa,Nn)};q(Hd,sa=>{a(L).performances.length>10&&sa(Xd)})}D(()=>{N(na,a(L).totalSongs),N(er,a(L).completedSongs),N(Qd,a(L).totalVotes)}),b(Lt,Rt)};q(at,Lt=>{var Rt;((Rt=a(L).performances)==null?void 0:Rt.length)===0?Lt(ct):Lt(tn,!1)},!0)}b(ht,lt)};q(pt,ht=>{a(L).error?ht(tt):ht(nt,!1)})}b(Ke,wt)};q(Me,Ke=>{a(L)&&Ke(Ye)})}on("keypress",Se,Ke=>Ke.key==="Enter"&&Be()),rt(Se,()=>a(W),Ke=>l(W,Ke)),b(pe,oe)},Q=pe=>{var oe=Ne(),se=ce(oe);{var Se=Me=>{var Ye=Am();b(Me,Ye)},je=Me=>{var Ye=Ne(),Ke=ce(Ye);{var wt=tt=>{var nt=Lm();b(tt,nt)},pt=tt=>{var nt=Ne(),ht=ce(nt);Xe(ht,19,()=>a(M),lt=>lt.videoId,(lt,at,ct)=>{var tn=Mm(),Lt=v(tn);let Rt;var Ia=v(Lt,!0);d(Lt);var \$a=p(Lt,2),ta=v(\$a),na=v(ta,!0);d(ta);var aa=p(ta,2),\$s=v(aa);d(aa),d(\$a),d(tn),D(()=>{Rt=Ie(Lt,1,"popular-rank svelte-ghvl9i",null,Rt,{top:a(ct)<3}),N(Ia,a(ct)+1),N(na,a(at).title),N(\$s,\`\${a(at).timesPlayed??""} plays \\xB7 \${a(at).totalVotes??""} votes\`)}),b(lt,tn)}),b(tt,nt)};q(Ke,tt=>{a(M).length===0?tt(wt):tt(pt,!1)},!0)}b(Me,Ye)};q(se,Me=>{a(I)?Me(je,!1):Me(Se)})}b(pe,oe)};q(G,pe=>{a(A)==="singer"?pe(ee):pe(Q,!1)})}d(fe),D(()=>{E=Ie(Ce,1,"history-tab svelte-ghvl9i",null,E,{active:a(A)==="singer"}),F=Ie(C,1,"history-tab svelte-ghvl9i",null,F,{active:a(A)==="popular"})}),b(K,fe)};q(we,K=>{a(O)&&K(et)})}d(Is),d(It),D(()=>{ba.disabled=a(j),N(Zn,\`\${a(u).queue.length??""} entries\`),ge=Ie(J,1,"history-toggle svelte-ghvl9i",null,ge,{expanded:a(O)})}),rt(Va,()=>a(g),K=>l(g,K)),on("keypress",Hn,K=>K.key==="Enter"&&ue()),rt(Hn,()=>a(\$),K=>l(\$,K)),rt(Sa,()=>a(k),K=>l(k,K)),rt(Xn,()=>a(w),K=>l(w,K)),b(ft,It)};q(\$e,ft=>{a(n)?ft(Qn,!1):ft(kt)},!0)}b(V,ie)};q(We,V=>{a(s)?V(Ze,!1):V(xt)})}b(e,Ee),Fe()}var hm,mm,gm,ym,km,wm,bm,_m,Sm,xm,Pm,Em,Im,\$m,Cm,jm,Tm,Nm,Rm,Om,zm,qm,Am,Lm,Mm,Um,Fm,\$l=De(()=>{"use strict";At();qs();st();ys();bs();Ys();Bs();kl();In();si();hm=x('<div class="container admin-container svelte-ghvl9i"><div class="loading svelte-ghvl9i">Loading...</div></div>'),mm=x('<p class="subtitle svelte-ghvl9i"> </p>'),gm=x('<div class="error-msg svelte-ghvl9i"> </div>'),ym=x('<div class="container admin-container svelte-ghvl9i"><header class="svelte-ghvl9i"><h1 class="svelte-ghvl9i">Admin Login</h1> <!></header> <div class="login-card svelte-ghvl9i"><div class="input-group svelte-ghvl9i"><label class="input-label svelte-ghvl9i" for="pinInput">Enter admin PIN</label> <input type="password" id="pinInput" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="000000"/></div> <button class="btn"> </button> <!></div></div>'),km=x('<div class="mode-card svelte-ghvl9i"><div class="mode-info svelte-ghvl9i"><span class="mode-label svelte-ghvl9i">Queue Mode</span> <span> </span></div> <button class="btn btn-mode svelte-ghvl9i"> </button></div> <div class="social-card svelte-ghvl9i"><div class="social-header svelte-ghvl9i"><span class="section-title svelte-ghvl9i">Social Features</span> <span class="social-subtitle svelte-ghvl9i">Audience reactions and chat</span></div> <div class="social-controls svelte-ghvl9i"><div class="toggle-row svelte-ghvl9i"><span class="toggle-label svelte-ghvl9i">Reactions</span> <button> </button></div> <div class="toggle-row svelte-ghvl9i"><span class="toggle-label svelte-ghvl9i">Boo emoji</span> <button> </button></div> <div class="toggle-row svelte-ghvl9i"><span class="toggle-label svelte-ghvl9i">Chat</span> <button> </button></div> <div class="toggle-row svelte-ghvl9i"><span class="toggle-label svelte-ghvl9i">Energy skip</span> <button> </button></div> <div class="slider-row svelte-ghvl9i"><div class="slider-label svelte-ghvl9i">Threshold <span class="slider-hint svelte-ghvl9i">(10-40)</span></div> <input type="range" min="10" max="40" class="svelte-ghvl9i"/> <span class="slider-value svelte-ghvl9i"> </span></div> <div class="slider-row svelte-ghvl9i"><div class="slider-label svelte-ghvl9i">Duration <span class="slider-hint svelte-ghvl9i">(5-30s)</span></div> <input type="range" min="5" max="30" class="svelte-ghvl9i"/> <span class="slider-value svelte-ghvl9i"> </span></div></div></div>',1),wm=x('<div class="now-playing-header svelte-ghvl9i"><span class="now-playing-label svelte-ghvl9i">Now Playing</span> <span class="epoch-badge svelte-ghvl9i"> </span></div> <div class="now-playing-info svelte-ghvl9i"><div class="now-playing-title svelte-ghvl9i"> </div> <div class="now-playing-singer svelte-ghvl9i"> </div></div> <div class="now-playing-controls svelte-ghvl9i"><button class="btn btn-warning">Skip Song</button></div>',1),bm=x('<div class="now-playing-empty svelte-ghvl9i">Nothing playing</div>'),_m=x('<div class="searching svelte-ghvl9i">Searching...</div>'),Sm=x('<button><img class="result-thumb svelte-ghvl9i" alt=""/> <div class="result-info svelte-ghvl9i"><div class="result-title svelte-ghvl9i"> </div> <div class="result-meta svelte-ghvl9i"> </div></div></button>'),xm=x('<div class="search-results svelte-ghvl9i"></div>'),Pm=x('<div class="empty-state svelte-ghvl9i">Queue is empty</div>'),Em=x('<button class="action-btn svelte-ghvl9i" title="Move up">^</button>'),Im=x('<button class="action-btn svelte-ghvl9i" title="Move down">v</button>'),\$m=x('<li class="queue-item svelte-ghvl9i"><span class="position svelte-ghvl9i"> </span> <div class="queue-info svelte-ghvl9i"><div class="queue-song svelte-ghvl9i"> </div> <div class="queue-meta svelte-ghvl9i"><span> </span> <span> </span> <span> </span></div></div> <div class="queue-actions svelte-ghvl9i"><!> <!> <button class="action-btn danger svelte-ghvl9i" title="Remove">x</button></div></li>'),Cm=x('<ul class="queue-list svelte-ghvl9i"></ul>'),jm=x('<div class="searching svelte-ghvl9i"> </div>'),Tm=x('<div class="searching svelte-ghvl9i">No history for this singer</div>'),Nm=x('<span class="claimed-badge svelte-ghvl9i">claimed</span>'),Rm=x('<div class="history-item svelte-ghvl9i"><span class="history-item-title svelte-ghvl9i"> </span> <span class="history-item-meta svelte-ghvl9i"> </span></div>'),Om=x('<div class="searching svelte-ghvl9i"> </div>'),zm=x('<div class="stats-row svelte-ghvl9i"><span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> songs</span> <span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> completed</span> <span class="stat-badge svelte-ghvl9i"><strong class="svelte-ghvl9i"> </strong> total votes</span> <!></div> <!> <!>',1),qm=x('<div class="lookup-row svelte-ghvl9i"><input type="text" placeholder="Singer name..."/> <button class="btn btn-cyan lookup-btn svelte-ghvl9i">Lookup</button></div> <!>',1),Am=x('<div class="searching svelte-ghvl9i">Loading popular songs...</div>'),Lm=x('<div class="searching svelte-ghvl9i">No songs recorded yet</div>'),Mm=x('<div class="popular-item svelte-ghvl9i"><span> </span> <div class="popular-info svelte-ghvl9i"><div class="popular-title svelte-ghvl9i"> </div> <div class="popular-stats svelte-ghvl9i"> </div></div></div>'),Um=x('<div class="history-content svelte-ghvl9i"><div class="history-tabs svelte-ghvl9i"><button>Singer Lookup</button> <button>Popular Songs</button></div> <!></div>'),Fm=x('<div class="container admin-container svelte-ghvl9i"><header class="svelte-ghvl9i"><h1 class="svelte-ghvl9i">Admin Control</h1> <p class="subtitle svelte-ghvl9i"><!></p> <button class="logout-btn svelte-ghvl9i">Logout</button></header> <!> <div class="now-playing-card svelte-ghvl9i"><!></div> <div class="add-card svelte-ghvl9i"><div class="add-header svelte-ghvl9i">Add Entry</div> <div class="add-form svelte-ghvl9i"><input type="text" placeholder="Singer name" maxlength="30"/> <div class="search-row svelte-ghvl9i"><input type="text" placeholder="Search for a song..."/> <button class="btn btn-cyan search-btn svelte-ghvl9i">Search</button></div> <!> <input type="text" placeholder="YouTube URL (or select from search)"/> <input type="text" placeholder="Song title" maxlength="100"/> <div class="add-buttons svelte-ghvl9i"><button class="btn btn-cyan svelte-ghvl9i">Add to Queue</button> <button class="btn btn-warning svelte-ghvl9i">Add to Front</button></div></div></div> <div class="queue-section svelte-ghvl9i"><div class="section-header svelte-ghvl9i"><span class="section-title svelte-ghvl9i">Queue</span> <span class="queue-count svelte-ghvl9i"> </span></div> <!></div> <div class="history-section svelte-ghvl9i"><button class="history-header svelte-ghvl9i"><span class="section-title svelte-ghvl9i">History & Stats</span> <span>\\u25BC</span></button> <!></div></div>');gt(["keydown","click","change"])});var Nd={};Rn(Nd,{component:()=>Vm,universal:()=>Wm});function Vm(e){li(e,{})}var Dm,Wm,Rd=De(()=>{"use strict";At();In();\$l();Dm=!1,Wm=Object.freeze(Object.defineProperty({__proto__:null,prerender:Dm},Symbol.toStringTag,{value:"Module"}))});function Cl(e,t,n,s){var r=e.__style;if(ve||r!==t){var o=Ju(t);(!ve||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}return s}function Ym(e,t){Ue(t,!0);let n=He(t,"energyState",3,null),s=S(!1),r=S(null),o=null,i=Ae(()=>{var _;return((_=n())==null?void 0:_.level)??50}),c=Ae(()=>{var _;return((_=n())==null?void 0:_.trend)??"stable"}),u=Ae(()=>a(i)<=30);vt(()=>{if(a(r)===null){l(r,a(i),!0);return}a(i)!==a(r)&&(l(s,!0),o&&clearTimeout(o),o=setTimeout(()=>{l(s,!1)},400),l(r,a(i),!0))});function f(_){return _<=30?"#ff6b6b":_<=60?"#feca57":"#1dd1a1"}function h(_){return _<=30?"#ff9f9f":_<=60?"#ffe29a":"#69e6c1"}function m(_){return _<=30?"rgba(255, 107, 107, 0.7)":_<=60?"rgba(254, 202, 87, 0.6)":"rgba(29, 209, 161, 0.7)"}let y=Ae(()=>\`--energy-color:\${f(a(i))};--energy-color-light:\${h(a(i))};--energy-glow:\${m(a(i))};\`);var g=Bm();let k;var w=v(g),\$=p(w,2);d(g),D(()=>{k=Ie(g,1,"energy-meter svelte-nwuyz9",null,k,{pulse:a(s),low:a(u)}),Cl(g,a(y)),Cl(w,\`height: \${a(i)}%;\`),yt(\$,"data-trend",a(c))}),b(e,g),Fe()}function Km(e,t){let n=He(t,"items",19,()=>[]),s={fire:"\\u{1F525}",heart:"\\u2764\\uFE0F",clap:"\\u{1F44F}",laugh:"\\u{1F602}",boo:"\\u{1F624}"},r={fire:"#ff6b6b",heart:"#ff6b9d",clap:"#ffd166",laugh:"#4ecdc4",boo:"#a29bfe"},o=["30%","50%","70%"];var i=Qm();Xe(i,21,n,c=>c.id,(c,u)=>{var f=Jm(),h=v(f),m=v(h,!0);d(h);var y=p(h,2),g=v(y,!0);d(y),d(f),D(()=>{Cl(f,\`--lane-left:\${o[a(u).lane]??"50%"}; --glow-color:\${r[a(u).emoji]};\`),N(m,s[a(u).emoji]),N(g,a(u).displayName)}),b(c,f)}),d(i),b(e,i)}function Hm(e,t){Ue(t,!0);let n=He(t,"message",3,null),s=8e3,r=S(!1),o=S(null),i=null;vt(()=>{if(!n()){l(r,!1),l(o,null),i&&(clearTimeout(i),i=null);return}l(o,n()),l(r,!0),i&&clearTimeout(i),i=setTimeout(()=>{l(r,!1)},s)});var c=Ne(),u=ce(c);{var f=h=>{var m=Ne(),y=ce(m);Vo(y,()=>a(o).id,g=>{var k=Gm(),w=p(v(k),2),\$=v(w),_=v(\$,!0);d(\$);var j=p(\$,2),P=v(j,!0);d(j),d(w),dt(2),d(k),D(()=>{N(_,a(o).displayName),N(P,a(o).text)}),b(g,k)}),b(h,m)};q(u,h=>{a(o)&&a(r)&&h(f)})}b(e,c),Fe()}function ci(e,t){Ue(t,!0);let n=7e3,s=200,r=1e4,o=S(_e({queue:[],nowPlaying:null,currentEpoch:0})),i=S(!1),c=S(""),u=null,f=S(!1),h=null,m=!1,y=S("idle_screen"),g=null,k=S(0),w=null,\$=null,_=null,j=Hs(),P=null,O=null,A=null,W=S(null),L=S(_e([])),M=S(null),I=0,T=S(!0),B=S(!1),H=S(""),U=S(!1),te=S(!1),R=S(""),Y=S(""),X=S(_e([])),ue=S(!1),ne=S(null),le=S(""),re=Ae(()=>a(o).queue.slice(0,5)),ke=Ae(()=>typeof window>"u"?"":(()=>{let z=window.location.origin,J=a(c)==="default"?"":a(c),ge=J?\`/\${J}\`:"",we=\`\${z}\${ge}\`;return\`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=\${encodeURIComponent(we)}&bgcolor=0a0a0f&color=ffffff\`})());sn(()=>{if(l(c,it(),!0),Ur()&&l(B,!0),j.onState((z,J)=>{l(i,!0),ye(z),J&&de(J,j.getServerTimeOffset()),_&&(clearInterval(_),_=null)}),j.onSync((z,J)=>{de(z,J)}),j.onReaction(z=>{let J=I%3;I+=1;let ge={id:z.id,emoji:z.emoji,displayName:z.displayName,lane:J};l(L,[...a(L),ge],!0),setTimeout(()=>{l(L,a(L).filter(we=>we.id!==z.id),!0)},3e3)}),j.onEnergy(z=>{l(W,z,!0)}),j.onChatPinned(z=>{l(M,z,!0)}),j.onChatUnpinned(z=>{var J;((J=a(M))==null?void 0:J.id)===z&&l(M,null)}),j.onEnergySkip(()=>{ae.info("Energy dipped - skipping")}),j.connect("player"),setTimeout(()=>{a(i)||he()},2e3),typeof window<"u")if(window.onYouTubeIframeAPIReady=Qe,window.YT)window.YT.Player&&Qe();else{let z=document.createElement("script");z.src="https://www.youtube.com/iframe_api",document.head.appendChild(z)}Re(),typeof document<"u"&&document.addEventListener("visibilitychange",me)}),zs(()=>{j.disconnect(),_&&clearInterval(_),g&&clearTimeout(g),w&&clearInterval(w),O&&clearInterval(O),typeof document<"u"&&document.removeEventListener("visibilitychange",me)});function he(){_=setInterval(async()=>{if(!a(i)){let z=await Go();z&&ye(z)}},2e3)}function Re(){O&&clearInterval(O),O=setInterval(()=>{a(i)&&a(y)==="playing_song"&&A!=null&&A.playing&&j.requestSync()},r)}function me(){document.visibilityState==="visible"&&a(i)&&j.requestSync()}function de(z,J){if(A=z,!z.playing||!z.videoId||!u||!a(f)||h!==z.videoId)return;let ge=(Date.now()+J-z.startedAt)/1e3,we=z.position+ge,et=u.getCurrentTime()-we,K=Math.abs(et*1e3);if(K>s){console.log(\`[Sync] Drift detected: \${et.toFixed(2)}s (\${K.toFixed(0)}ms), seeking to \${we.toFixed(2)}s\`),u.seekTo(we,!0);let fe=u.getPlayerState();fe!==YT.PlayerState.PLAYING&&fe!==YT.PlayerState.BUFFERING&&u.playVideo()}}function ye(z){let J=P;if(P=z.nowPlaying,l(o,z,!0),!a(o).nowPlaying&&a(o).queue.length>0&&!m){xt();return}if(a(o).nowPlaying){let ge=J?.id??null;a(o).nowPlaying.id!==ge&&Be(a(o).nowPlaying)}else!a(o).nowPlaying&&a(o).queue.length===0&&a(y)!=="idle_screen"&&(We(),l(y,"idle_screen"),u?.pauseVideo())}function Qe(){window.YT&&(u=new window.YT.Player("yt-player",{width:"100%",height:"100%",playerVars:{autoplay:0,controls:1,modestbranding:1,rel:0,fs:1,playsinline:1},events:{onReady:()=>{l(f,!0),a(o).nowPlaying?Be(a(o).nowPlaying):a(o).queue.length>0?xt():l(y,"idle_screen")},onStateChange:z=>{z.data===YT.PlayerState.PLAYING&&(\$=null,a(y)==="needs_interaction"&&l(y,"playing_song")),z.data===YT.PlayerState.ENDED&&a(y)==="playing_song"&&Ee()},onError:z=>{console.error("YouTube player error:",z.data),a(y)==="playing_song"&&Ee()}}}))}function Be(z){!z||!a(f)||!z.videoId||(We(),h=z.videoId,\$=z,l(y,"playing_song"),u?.loadVideoById(z.videoId),setTimeout(()=>{if(u&&\$){let J=u.getPlayerState();(J===-1||J===5)&&l(y,"needs_interaction")}},1e3))}function Oe(){\$&&u?(u.playVideo(),l(y,"playing_song"),\$=null):a(o).nowPlaying&&Be(a(o).nowPlaying)}function Ee(){We(),l(y,"pause_screen"),u?.pauseVideo(),l(k,Math.ceil(n/1e3),!0),w=setInterval(()=>{Cc(k,-1),a(k)<=0&&(We(),xt())},1e3),g=setTimeout(()=>{xt()},n+500)}function We(){g&&(clearTimeout(g),g=null),w&&(clearInterval(w),w=null)}async function xt(){var z;if(!m){m=!0,We();try{let J=((z=a(o).nowPlaying)==null?void 0:z.id)??null,ge=a(c)?\`?room=\${encodeURIComponent(a(c))}\`:"";await fetch(\`/api/next\${ge}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentId:J})})}catch(J){console.error("Failed to advance:",J),l(y,"idle_screen")}finally{m=!1}}}function Ze(){return a(i)?{class:"connected",text:"Live"}:_?{class:"polling",text:"Polling"}:{class:"disconnected",text:"Connecting..."}}let V=Ae(Ze);function ie(){l(T,!a(T))}function \$e(){l(U,!0),l(H,""),l(R,"")}function kt(){l(U,!1),l(H,""),l(R,"")}async function Qn(){if(a(H).length!==6){l(R,"PIN must be 6 digits");return}l(te,!0),l(R,"");let z=await Xo(a(H));l(te,!1),z.kind==="verified"?(Zo(z.token),l(B,!0),l(U,!1),l(H,""),ae.success("Admin mode enabled")):z.kind==="invalidPin"?(l(R,"Incorrect PIN"),l(H,"")):z.kind==="roomNotFound"?l(R,"Room not found"):l(R,z.message||"Authentication failed",!0)}function ft(z){z.key==="Enter"&&!a(te)?Qn():z.key==="Escape"&&kt()}function It(){ei(),l(B,!1),ae.success("Admin mode disabled")}async function Jt(){if(!a(Y).trim()||a(ue))return;l(ue,!0),l(X,[],!0),l(ne,null);let z=await Mr(a(Y).trim());if(l(ue,!1),z.kind==="error"){ae.error(z.message);return}l(X,z.results,!0)}function Cn(z){l(ne,z,!0)}function kn(){l(Y,""),l(X,[],!0),l(ne,null),l(le,"")}async function jn(){if(!a(ne)){ae.error("Select a song first");return}if(!a(le).trim()){ae.error("Enter singer name");return}let z=await Qs({name:a(le).trim(),videoId:a(ne).id,title:a(ne).title,verified:!0});if(z.kind==="joined")ae.success("Added to queue!"),kn();else{let J=z.kind==="error"?z.message:z.kind==="invalidVideo"?z.reason:"Failed to add";ae.error(J)}}async function wn(){if(!a(ne)){ae.error("Select a song first");return}if(!a(le).trim()){ae.error("Enter singer name");return}let z=await ai({name:a(le).trim(),videoId:a(ne).id,title:a(ne).title});if(z.kind==="joined")ae.success("Added to front!"),kn();else{let J=z.kind==="error"?z.message:z.kind==="invalidVideo"?z.reason:"Failed to add";ae.error(J)}}async function Tn(){let z=await ti();if(z.kind==="skipped")ae.success("Skipped!");else{let J=z.kind==="error"?z.message:z.kind==="nothingPlaying"?"Nothing is playing":z.kind==="unauthorized"?"Session expired":"Failed to skip";z.kind==="unauthorized"&&It(),ae.error(J)}}async function en(z){let J=await ni(z);if(J.kind!=="removed"){let ge=J.kind==="error"?J.message:J.kind==="entryNotFound"?"Entry not found":J.kind==="unauthorized"?"Session expired":"Failed to remove";J.kind==="unauthorized"&&It(),ae.error(ge)}}async function ka(z){let J=a(o).queue.findIndex(we=>we.id===z);if(J<=0)return;let ge=await Gs(z,J-1);if(ge.kind!=="reordered"){let we=ge.kind==="error"?ge.message:"Failed to move";ae.error(we)}}async function Kn(z){let J=a(o).queue.findIndex(we=>we.id===z);if(J===-1||J>=a(o).queue.length-1)return;let ge=await Gs(z,J+1);if(ge.kind!=="reordered"){let we=ge.kind==="error"?ge.message:"Failed to move";ae.error(we)}}var wa=Sg(),Pt=ce(wa),Nt=v(Pt),cn=v(Nt,!0);d(Nt);var Wa=p(Nt,2);{var Va=z=>{Ym(z,{get energyState(){return a(W)}})};q(Wa,z=>{a(W)&&z(Va)})}var Gn=p(Wa,2);Km(Gn,{get items(){return a(L)}});var Hn=p(Gn,2);Hm(Hn,{get message(){return a(M)}});var ba=p(Hn,2);let Ba;var _a=p(ba,2);{var xs=z=>{var J=ng(),ge=v(J),we=v(ge);{var et=C=>{var F=Xm(),G=p(ce(F),2),ee=v(G,!0);d(G);var Q=p(G,2),pe=v(Q,!0);d(Q);var oe=p(Q,2),se=v(oe,!0);d(oe),D(()=>{var Se,je;N(ee,(Se=a(o).queue[0])==null?void 0:Se.name),N(pe,(je=a(o).queue[0])==null?void 0:je.title),N(se,a(k))}),b(C,F)},K=C=>{var F=Zm();b(C,F)};q(we,C=>{a(o).queue.length>0?C(et):C(K,!1)})}d(ge);var fe=p(ge,2);{var qe=C=>{var F=tg(),G=p(v(F),2);Xe(G,19,()=>a(o).queue.slice(1,4),ee=>ee.id,(ee,Q,pe)=>{var oe=eg(),se=v(oe),Se=v(se,!0);d(se);var je=p(se,2),Me=v(je,!0);d(je);var Ye=p(je,2),Ke=v(Ye,!0);d(Ye),d(oe),D(()=>{N(Se,a(pe)+2),N(Me,a(Q).name),N(Ke,a(Q).title)}),b(ee,oe)}),d(F),b(C,F)};q(fe,C=>{a(o).queue.length>1&&C(qe)})}var Ce=p(fe,2),E=v(Ce);dt(2),d(Ce),d(J),D(()=>yt(E,"src",a(ke))),b(z,J)};q(_a,z=>{a(y)==="pause_screen"&&z(xs)})}var Sa=p(_a,2);{var Xn=z=>{var J=sg();J.__click=Oe;var ge=v(J),we=p(v(ge),4);{var et=K=>{var fe=ag(),qe=ce(fe),Ce=v(qe,!0);d(qe);var E=p(qe,2),C=v(E,!0);d(E),D(()=>{N(Ce,a(o).nowPlaying.title),N(C,a(o).nowPlaying.name)}),b(K,fe)};q(we,K=>{a(o).nowPlaying&&K(et)})}d(ge),d(J),b(z,J)};q(Sa,z=>{a(y)==="needs_interaction"&&z(Xn)})}var xa=p(Sa,2);{var Ya=z=>{var J=rg(),ge=v(J),we=p(v(ge),2),et=v(we,!0);d(we);var K=p(we,2);dt(2),d(ge),dt(2),d(J),D(()=>{N(et,a(c)||"default"),yt(K,"src",a(ke))}),b(z,J)};q(xa,z=>{a(y)==="idle_screen"&&z(Ya)})}var Ps=p(xa,2);{var Pa=z=>{var J=fg();let ge;var we=v(J);{var et=C=>{var F=ig(),G=p(v(F),2),ee=v(G,!0);d(G);var Q=p(G,2),pe=v(Q,!0);d(Q);var oe=p(Q,2);{var se=Se=>{var je=og();je.__click=Tn,b(Se,je)};q(oe,Se=>{a(B)&&Se(se)})}d(F),D(()=>{N(ee,a(o).nowPlaying.title),N(pe,a(o).nowPlaying.name)}),b(C,F)};q(we,C=>{a(o).nowPlaying&&C(et)})}var K=p(we,2),fe=p(v(K),2),qe=v(fe);{var Ce=C=>{var F=lg();b(C,F)},E=C=>{var F=Ne(),G=ce(F);Xe(G,19,()=>a(re).slice(0,3),ee=>ee.id,(ee,Q,pe)=>{var oe=vg(),se=v(oe),Se=v(se,!0);d(se);var je=p(se,2),Me=v(je,!0);d(je);var Ye=p(je,2);{var Ke=wt=>{var pt=dg(),tt=v(pt);{var nt=ct=>{var tn=cg();tn.__click=()=>ka(a(Q).id),b(ct,tn)};q(tt,ct=>{a(pe)>0&&ct(nt)})}var ht=p(tt,2);{var lt=ct=>{var tn=ug();tn.__click=()=>Kn(a(Q).id),b(ct,tn)};q(ht,ct=>{a(pe)<a(re).length-1&&ct(lt)})}var at=p(ht,2);at.__click=()=>en(a(Q).id),d(pt),b(wt,pt)};q(Ye,wt=>{a(B)&&wt(Ke)})}d(oe),D(()=>{N(Se,a(Q).title),N(Me,a(Q).name)}),b(ee,oe)}),b(C,F)};q(qe,C=>{a(re).length===0?C(Ce):C(E,!1)})}d(fe),d(K),d(J),D(()=>ge=Ie(J,1,"info-bar svelte-1wtekok",null,ge,{"with-controls":a(T)})),b(z,J)};q(Ps,z=>{a(y)==="playing_song"&&z(Pa)})}var Ea=p(Ps,2);{var Es=z=>{var J=wg(),ge=v(J),we=v(ge),et=v(we),K=v(et);Ve(K);var fe=p(K,2);fe.__click=Jt;var qe=v(fe,!0);d(fe),d(et);var Ce=p(et,2);{var E=oe=>{var se=hg();Xe(se,21,()=>a(X).slice(0,5),Se=>Se.id,(Se,je)=>{var Me=pg();let Ye;Me.__click=()=>Cn(a(je));var Ke=v(Me),wt=p(Ke,2),pt=v(wt),tt=v(pt,!0);d(pt);var nt=p(pt,2),ht=v(nt,!0);d(nt),d(wt),d(Me),D(()=>{var lt;Ye=Ie(Me,1,"search-result-item svelte-1wtekok",null,Ye,{selected:((lt=a(ne))==null?void 0:lt.id)===a(je).id}),yt(Ke,"src",a(je).thumbnail),N(tt,a(je).title),N(ht,a(je).channel)}),b(Se,Me)}),d(se),b(oe,se)};q(Ce,oe=>{a(X).length>0&&oe(E)})}var C=p(Ce,2);{var F=oe=>{var se=gg(),Se=v(se),je=v(Se,!0);d(Se);var Me=p(Se,2);Ve(Me);var Ye=p(Me,2),Ke=v(Ye);Ke.__click=jn;var wt=p(Ke,2);{var pt=nt=>{var ht=mg();ht.__click=wn,b(nt,ht)};q(wt,nt=>{a(B)&&nt(pt)})}var tt=p(wt,2);tt.__click=kn,d(Ye),d(se),D(()=>N(je,a(ne).title)),rt(Me,()=>a(le),nt=>l(le,nt)),b(oe,se)};q(C,oe=>{a(ne)&&oe(F)})}d(we);var G=p(we,2),ee=v(G);{var Q=oe=>{var se=yg();se.__click=It,b(oe,se)},pe=oe=>{var se=kg();se.__click=\$e,b(oe,se)};q(ee,oe=>{a(B)?oe(Q):oe(pe,!1)})}d(G),d(ge),d(J),D(()=>{fe.disabled=a(ue),N(qe,a(ue)?"...":"Search")}),on("keypress",K,oe=>oe.key==="Enter"&&Jt()),rt(K,()=>a(Y),oe=>l(Y,oe)),b(z,J)};q(Ea,z=>{a(T)&&z(Es)})}var Zn=p(Ea,2);Zn.__click=ie;var ea=v(Zn,!0);d(Zn);var Xs=p(Zn,2);{var Zs=z=>{var J=_g();J.__click=kt;var ge=v(J);ge.__click=C=>C.stopPropagation();var we=p(v(ge),2);Ve(we),we.__keydown=ft;var et=p(we,2),K=v(et);K.__click=Qn;var fe=v(K,!0);d(K);var qe=p(K,2);qe.__click=kt,d(et);var Ce=p(et,2);{var E=C=>{var F=bg(),G=v(F,!0);d(F),D(()=>N(G,a(R))),b(C,F)};q(Ce,C=>{a(R)&&C(E)})}d(ge),d(J),D(()=>{we.disabled=a(te),K.disabled=a(te)||a(H).length!==6,N(fe,a(te)?"Verifying...":"Login")}),rt(we,()=>a(H),C=>l(H,C)),b(z,J)};q(Xs,z=>{a(U)&&z(Zs)})}d(Pt);var Is=p(Pt,2);Wo(Is,{}),D(()=>{Ie(Nt,1,\`connection-status \${a(V).class??""}\`,"svelte-1wtekok"),N(cn,a(V).text),Ba=Ie(ba,1,"video-wrapper svelte-1wtekok",null,Ba,{hidden:a(y)!=="playing_song"}),yt(Zn,"title",a(T)?"Hide controls":"Show controls"),N(ea,a(T)?"\\u25BC":"\\u25B2")}),b(e,wa),Fe()}var Bm,Jm,Qm,Gm,Xm,Zm,eg,tg,ng,ag,sg,rg,og,ig,lg,cg,ug,dg,vg,fg,pg,hg,mg,gg,yg,kg,wg,bg,_g,Sg,jl=De(()=>{"use strict";At();qs();st();ys();bs();Ys();Bs();hl();si();Ar();yl();Bm=x('<div><div class="energy-fill svelte-nwuyz9"></div> <div class="energy-trend svelte-nwuyz9"></div></div>');Jm=x('<div class="reaction-float svelte-1v0wjpx"><div class="reaction-emoji svelte-1v0wjpx"> </div> <div class="reaction-name svelte-1v0wjpx"> </div></div>'),Qm=x('<div class="reaction-overlay svelte-1v0wjpx"></div>');Gm=x('<div class="pinned-message svelte-ij4xhl"><div class="pinned-header svelte-ij4xhl">Pinned</div> <div class="pinned-content svelte-ij4xhl"><span class="pinned-name svelte-ij4xhl"> </span> <span class="pinned-text svelte-ij4xhl"> </span></div> <div class="pinned-timer svelte-ij4xhl"></div></div>');Xm=x('<div class="up-next-label svelte-1wtekok">UP NEXT</div> <div class="next-singer svelte-1wtekok"> </div> <div class="next-song svelte-1wtekok"> </div> <div class="countdown svelte-1wtekok"> </div>',1),Zm=x('<div class="waiting-message svelte-1wtekok">Queue empty</div>'),eg=x('<div class="queue-item svelte-1wtekok"><span class="queue-position svelte-1wtekok"> </span> <span class="queue-name svelte-1wtekok"> </span> <span class="queue-song svelte-1wtekok"> </span></div>'),tg=x('<div class="queue-preview svelte-1wtekok"><div class="queue-label svelte-1wtekok">Coming up</div> <!></div>'),ng=x('<div class="overlay pause-overlay svelte-1wtekok"><div class="pause-content svelte-1wtekok"><!></div> <!> <div class="qr-section svelte-1wtekok"><img alt="Join queue" class="qr-code svelte-1wtekok"/> <div class="qr-hint svelte-1wtekok">Scan to add songs</div></div></div>'),ag=x('<div class="start-song svelte-1wtekok"> </div> <div class="start-singer svelte-1wtekok"> </div>',1),sg=x('<button class="overlay start-overlay svelte-1wtekok"><div class="start-content svelte-1wtekok"><div class="start-icon svelte-1wtekok">\\u25B6</div> <div class="start-title svelte-1wtekok">Click to Start</div> <!></div></button>'),rg=x('<div class="overlay idle-overlay svelte-1wtekok"><div class="idle-content svelte-1wtekok"><div class="idle-title svelte-1wtekok">Karaoke Night</div> <div class="idle-subtitle svelte-1wtekok"> </div> <img alt="Join queue" class="qr-code qr-large svelte-1wtekok"/> <div class="idle-cta svelte-1wtekok">Scan to add your song</div></div> <div class="idle-decoration svelte-1wtekok"><div class="note note-1 svelte-1wtekok">\\u266A</div> <div class="note note-2 svelte-1wtekok">\\u266B</div> <div class="note note-3 svelte-1wtekok">\\u266A</div></div></div>'),og=x('<button class="skip-btn svelte-1wtekok" title="Skip">\\u23ED</button>'),ig=x('<div class="now-playing svelte-1wtekok"><span class="now-label svelte-1wtekok">Now Playing</span> <span class="now-title svelte-1wtekok"> </span> <span class="now-singer svelte-1wtekok"> </span> <!></div>'),lg=x('<span class="empty-queue svelte-1wtekok">Queue empty</span>'),cg=x('<button class="action-btn svelte-1wtekok" title="Move up">\\u2191</button>'),ug=x('<button class="action-btn svelte-1wtekok" title="Move down">\\u2193</button>'),dg=x('<div class="up-next-actions svelte-1wtekok"><!> <!> <button class="action-btn danger svelte-1wtekok" title="Remove">\\xD7</button></div>'),vg=x('<div class="up-next-item svelte-1wtekok"><div class="up-next-song svelte-1wtekok"> </div> <div class="up-next-singer svelte-1wtekok"> </div> <!></div>'),fg=x('<div><!> <div class="up-next-bar svelte-1wtekok"><span class="up-next-bar-label svelte-1wtekok">Up Next</span> <div class="up-next-list svelte-1wtekok"><!></div></div></div>'),pg=x('<button><img class="result-thumb svelte-1wtekok" alt=""/> <div class="result-info svelte-1wtekok"><div class="result-title svelte-1wtekok"> </div> <div class="result-meta svelte-1wtekok"> </div></div></button>'),hg=x('<div class="search-results-dropdown svelte-1wtekok"></div>'),mg=x('<button class="btn btn-warning svelte-1wtekok">Front</button>'),gg=x('<div class="selected-song svelte-1wtekok"><span class="selected-title svelte-1wtekok"> </span> <input type="text" class="singer-input svelte-1wtekok" placeholder="Singer name" maxlength="30"/> <div class="add-actions svelte-1wtekok"><button class="btn btn-cyan svelte-1wtekok">Add</button> <!> <button class="btn btn-muted svelte-1wtekok">\\xD7</button></div></div>'),yg=x('<button class="admin-btn unlocked svelte-1wtekok" title="Logout">\\u{1F513}</button>'),kg=x('<button class="admin-btn locked svelte-1wtekok" title="Admin Login">\\u{1F512}</button>'),wg=x('<div class="controls-panel svelte-1wtekok"><div class="controls-row svelte-1wtekok"><div class="search-section svelte-1wtekok"><div class="search-input-row svelte-1wtekok"><input type="text" class="search-input svelte-1wtekok" placeholder="Search for a song..."/> <button class="btn btn-cyan search-btn svelte-1wtekok"> </button></div> <!> <!></div> <div class="admin-section svelte-1wtekok"><!></div></div></div>'),bg=x('<div class="auth-error svelte-1wtekok"> </div>'),_g=x('<div class="modal-overlay svelte-1wtekok"><div class="modal-content svelte-1wtekok"><h3 class="svelte-1wtekok">Admin Login</h3> <input type="password" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="Enter PIN" class="svelte-1wtekok"/> <div class="modal-actions svelte-1wtekok"><button class="btn svelte-1wtekok"> </button> <button class="btn btn-muted svelte-1wtekok">Cancel</button></div> <!></div></div>'),Sg=x('<div class="player-container svelte-1wtekok"><div> </div> <!> <!> <!> <div><div id="yt-player" class="svelte-1wtekok"></div></div> <!> <!> <!> <!> <!> <button class="toggle-controls-btn svelte-1wtekok"> </button> <!></div> <!>',1);gt(["click","keydown"])});var Od={};Rn(Od,{component:()=>Eg,universal:()=>Pg});function Eg(e){ci(e,{})}var xg,Pg,zd=De(()=>{"use strict";At();In();jl();xg=!1,Pg=Object.freeze(Object.defineProperty({__proto__:null,prerender:xg},Symbol.toStringTag,{value:"Module"}))});var qd={};Rn(qd,{component:()=>Ig});function Ig(e){li(e,{})}var Ad=De(()=>{"use strict";At();In();\$l()});var Ld={};Rn(Ld,{component:()=>\$g});function \$g(e){ii(e,{})}var Md=De(()=>{"use strict";At();In();Il()});var Ud={};Rn(Ud,{component:()=>Cg});function Cg(e){ci(e,{})}var Fd=De(()=>{"use strict";At();In();jl()});No();var Ol={};Rn(Ol,{decode:()=>Wg,decoders:()=>Jd,dictionary:()=>Ug,encoders:()=>Fg,hash:()=>Dg,hooks:()=>Rl,matchers:()=>Rg,nodes:()=>Lg,root:()=>Ag,server_loads:()=>Mg});st();At();qs();ys();qr();vl();Ar();var Jn=(e,t=Jn,n=t.f||(t.f=["../nodes/0._N7zetNG.js","../chunks/Dtg0PO58.js","../chunks/CixgdvZH.js","../chunks/BQWTqZqW.js","../chunks/29kenKre.js","../chunks/eOZ64kXt.js","../chunks/DzfPg1b6.js","../chunks/MxDObDyQ.js","../assets/Toast.ZHkq0Nfk.css","../chunks/DjELaiA7.js","../assets/0.YFu_edt7.css","../nodes/1.BPHV5SEL.js","../chunks/Bt4l_pAl.js","../chunks/Rbk1kwoR.js","../nodes/2.D6blkGgX.js","../chunks/BnsflM-U.js","../chunks/B_LHSIF8.js","../assets/2.tpnNDXOo.css","../nodes/3.DHp82PPe.js","../chunks/B62Pezpt.js","../chunks/qGDxfGvU.js","../chunks/BiNz4oyM.js","../chunks/CUMxTelL.js","../chunks/BwWoosY2.js","../chunks/BlOW9Ytc.js","../assets/ws.D8F-giNX.css","../assets/GuestView.dqFIa8Yx.css","../nodes/4.wnnOnvrt.js","../chunks/Ci-nT9vL.js","../assets/AdminView.Ecptezvr.css","../nodes/5.gA6AmFx2.js","../chunks/AnvKVI4b.js","../assets/PlayerView.-DeeRdS9.css","../nodes/6.Z_K6jpGP.js","../nodes/7.BcQzyRL6.js","../nodes/8.DRW2q10s.js"]))=>e.map(s=>n[s]),Bd=e=>{throw TypeError(e)},Yd=(e,t,n)=>t.has(e)||Bd("Cannot "+n),ln=(e,t,n)=>(Yd(e,t,"read from private field"),n?n.call(e):t.get(e)),Dd=(e,t,n)=>t.has(e)?Bd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Wd=(e,t,n,s)=>(Yd(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);function Tl(e,t,n){ve&&xn();var s=new Yn(e);Xt(()=>{var r=t()??null;s.ensure(r,r&&(o=>n(o,r)))},Ht)}function jg(e){return class extends Nl{constructor(t){super({component:e,...t})}}}var Da,\$n,Nl=class{constructor(t){Dd(this,Da),Dd(this,\$n);var n,s=new Map,r=(i,c)=>{var u=to(c,!1,!1);return s.set(i,u),u};let o=new Proxy({...t.props||{},\$\$events:{}},{get(i,c){return a(s.get(c)??r(c,Reflect.get(i,c)))},has(i,c){return c===Xr?!0:(a(s.get(c)??r(c,Reflect.get(i,c))),Reflect.has(i,c))},set(i,c,u){return l(s.get(c)??r(c,u),u),Reflect.set(i,c,u)}});Wd(this,\$n,(t.hydrate?Uu:ul)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((n=t?.props)!=null&&n.\$\$host)||t.sync===!1)&&Ci(),Wd(this,Da,o.\$\$events);for(let i of Object.keys(ln(this,\$n)))i==="\$set"||i==="\$destroy"||i==="\$on"||Jr(this,i,{get(){return ln(this,\$n)[i]},set(c){ln(this,\$n)[i]=c},enumerable:!0});ln(this,\$n).\$set=i=>{Object.assign(o,i)},ln(this,\$n).\$destroy=()=>{Du(ln(this,\$n))}}\$set(t){ln(this,\$n).\$set(t)}\$on(t,n){ln(this,Da)[t]=ln(this,Da)[t]||[];let s=(...r)=>n.call(this,...r);return ln(this,Da)[t].push(s),()=>{ln(this,Da)[t]=ln(this,Da)[t].filter(r=>r!==s)}}\$destroy(){ln(this,\$n).\$destroy()}};Da=new WeakMap,\$n=new WeakMap;var Tg="modulepreload",Ng=function(e,t){return new URL(e,t).href},Vd={},ya=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))},i=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=o(t.map(f=>{if(f=Ng(f,n),f in Vd)return;Vd[f]=!0;let h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(n)for(let g=i.length-1;g>=0;g--){let k=i[g];if(k.href===f&&(!h||k.rel==="stylesheet"))return}else if(document.querySelector(\`link[href="\${f}"]\${m}\`))return;let y=document.createElement("link");if(y.rel=h?"stylesheet":Tg,h||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),h)return new Promise((g,k)=>{y.addEventListener("load",g),y.addEventListener("error",()=>k(new Error(\`Unable to preload CSS for \${f}\`)))})}))}function r(o){let i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return s.then(o=>{for(let i of o||[])i.status==="rejected"&&r(i.reason);return e().catch(r)})},Rg={},Og=x('<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"><!></div>'),zg=x("<!> <!>",1);function qg(e,t){Ue(t,!0);let n=He(t,"components",23,()=>[]),s=He(t,"data_0",3,null),r=He(t,"data_1",3,null);ro(()=>t.stores.page.set(t.page)),vt(()=>{t.stores,t.page,t.constructors,n(),t.form,s(),r(),t.stores.page.notify()});let o=S(!1),i=S(!1),c=S(null);sn(()=>{let w=t.stores.page.subscribe(()=>{a(o)&&(l(i,!0),Pn().then(()=>{l(c,document.title||"untitled page",!0)}))});return l(o,!0),w});let u=Ae(()=>t.constructors[1]);var f=zg(),h=ce(f);{var m=w=>{let \$=Ae(()=>t.constructors[0]);var _=Ne(),j=ce(_);Tl(j,()=>a(\$),(P,O)=>{ks(O(P,{get data(){return s()},get form(){return t.form},get params(){return t.page.params},children:(A,W)=>{var L=Ne(),M=ce(L);Tl(M,()=>a(u),(I,T)=>{ks(T(I,{get data(){return r()},get form(){return t.form},get params(){return t.page.params}}),B=>n()[1]=B,()=>{var B;return(B=n())==null?void 0:B[1]})}),b(A,L)},\$\$slots:{default:!0}}),A=>n()[0]=A,()=>{var A;return(A=n())==null?void 0:A[0]})}),b(w,_)},y=w=>{let \$=Ae(()=>t.constructors[0]);var _=Ne(),j=ce(_);Tl(j,()=>a(\$),(P,O)=>{ks(O(P,{get data(){return s()},get form(){return t.form},get params(){return t.page.params}}),A=>n()[0]=A,()=>{var A;return(A=n())==null?void 0:A[0]})}),b(w,_)};q(h,w=>{t.constructors[1]?w(m):w(y,!1)})}var g=p(h,2);{var k=w=>{var \$=Og(),_=v(\$);{var j=P=>{var O=zr();D(()=>N(O,a(c))),b(P,O)};q(_,P=>{a(i)&&P(j)})}d(\$),b(w,\$)};q(g,w=>{a(o)&&w(k)})}b(e,f),Fe()}var Ag=jg(qg),Lg=[()=>ya(()=>Promise.resolve().then(()=>(Gu(),Ku)),Jn([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url),()=>ya(()=>Promise.resolve().then(()=>(Zu(),Xu)),Jn([11,1,2,5,9,12,13]),import.meta.url),()=>ya(()=>Promise.resolve().then(()=>(ad(),nd)),Jn([14,1,2,15,3,6,16,12,13,17]),import.meta.url),()=>ya(()=>Promise.resolve().then(()=>(Td(),jd)),Jn([18,1,2,5,19,13,15,3,20,16,7,8,21,22,6,23,24,25,26]),import.meta.url),()=>ya(()=>Promise.resolve().then(()=>(Rd(),Nd)),Jn([27,1,2,5,28,13,15,3,6,16,7,8,22,23,24,25,29]),import.meta.url),()=>ya(()=>Promise.resolve().then(()=>(zd(),Od)),Jn([30,1,2,5,31,13,15,3,6,16,7,8,4,9,23,24,25,20,32]),import.meta.url),()=>ya(()=>Promise.resolve().then(()=>(Ad(),qd)),Jn([33,1,2,5,28,13,15,3,6,16,7,8,22,23,24,25,29]),import.meta.url),()=>ya(()=>Promise.resolve().then(()=>(Md(),Ld)),Jn([34,1,2,5,19,13,15,3,20,16,7,8,21,22,6,23,24,25,26]),import.meta.url),()=>ya(()=>Promise.resolve().then(()=>(Fd(),Ud)),Jn([35,1,2,5,31,13,15,3,6,16,7,8,4,9,23,24,25,20,32]),import.meta.url)],Mg=[],Ug={"/":[2],"/admin":[6],"/guest":[7],"/player":[8],"/[room]":[3],"/[room]/admin":[4],"/[room]/player":[5]},Rl={handleError:({error:e})=>{console.error(e)},reroute:()=>{},transport:{}},Jd=Object.fromEntries(Object.entries(Rl.transport).map(([e,t])=>[e,t.decode])),Fg=Object.fromEntries(Object.entries(Rl.transport).map(([e,t])=>[e,t.encode])),Dg=!1,Wg=(e,t)=>Jd[e](t);var Vg=new URL(".",location).pathname.slice(0,-1);globalThis.__sveltekit_174pvko={base:Vg};var Bg=document.querySelector("[data-sveltekit-preload-data]")||document.body.firstElementChild||document.body;Hi(Ol,Bg);
</script>
</body>
</html>`;
